<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Mybatis-Pluså­¦ä¹ ç¬”è®°</title>
      <link href="/2022/03/10/Mybatis-Plus%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2022/03/10/Mybatis-Plus%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="Mybatis-Plus"><a href="#Mybatis-Plus" class="headerlink" title="Mybatis-Plus"></a>Mybatis-Plus</h1><a id="more"></a><p><a href="https://www.kuangstudy.com/bbs/1366329082232467457" target="_blank" rel="noopener">https://www.kuangstudy.com/bbs/1366329082232467457</a></p><p><a href="https://blog.csdn.net/qq_43649223/article/details/108885374?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522163599762616780269885191%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=163599762616780269885191&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-2-108885374.pc_search_all_es&amp;utm_term=Mybatis-Plus%E7%8B%82%E7%A5%9E&amp;spm=1018.2226.3001.4187" target="_blank" rel="noopener">https://blog.csdn.net/qq_43649223/article/details/108885374?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522163599762616780269885191%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=163599762616780269885191&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-2-108885374.pc_search_all_es&amp;utm_term=Mybatis-Plus%E7%8B%82%E7%A5%9E&amp;spm=1018.2226.3001.4187</a></p><p><strong>ç¬”è®°</strong></p><p><img src="https://img-blog.csdnimg.cn/20200930150243845.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjQ5MjIz,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="ç‰¹æ€§"><a href="#ç‰¹æ€§" class="headerlink" title="ç‰¹æ€§"></a>ç‰¹æ€§</h3><ul><li>æ— ä¾µå…¥ï¼šåªåšå¢å¼ºä¸åšæ”¹å˜ï¼Œå¼•å…¥å®ƒä¸ä¼šå¯¹ç°æœ‰å·¥ç¨‹äº§ç”Ÿå½±å“ï¼Œå¦‚ä¸èˆ¬é¡ºæ»‘</li><li>æŸè€—å°ï¼šå¯åŠ¨å³ä¼šè‡ªåŠ¨æ³¨å…¥åŸºæœ¬ CURDï¼Œæ€§èƒ½åŸºæœ¬æ— æŸè€—ï¼Œç›´æ¥é¢å‘å¯¹è±¡æ“ä½œï¼ŒBaseMapper</li><li>å¼ºå¤§çš„ CRUD æ“ä½œï¼šå†…ç½®é€šç”¨ Mapperã€é€šç”¨ Serviceï¼Œä»…ä»…é€šè¿‡å°‘é‡é…ç½®å³å¯å®ç°å•è¡¨å¤§éƒ¨åˆ† CRUD æ“ä½œï¼Œæ›´æœ‰å¼ºå¤§çš„æ¡ä»¶æ„é€ å™¨ï¼Œæ»¡è¶³å„ç±»ä½¿ç”¨éœ€æ±‚ï¼Œä»¥åç®€å•çš„CRUDæ“ä½œï¼Œä¸ç”¨è‡ªå·±ç¼–å†™äº† ï¼</li><li>æ”¯æŒ Lambda å½¢å¼è°ƒç”¨ï¼šé€šè¿‡ Lambda è¡¨è¾¾å¼ï¼Œæ–¹ä¾¿çš„ç¼–å†™å„ç±»æŸ¥è¯¢æ¡ä»¶ï¼Œæ— éœ€å†æ‹…å¿ƒå­—æ®µå†™é”™</li><li>æ”¯æŒä¸»é”®è‡ªåŠ¨ç”Ÿæˆï¼šæ”¯æŒå¤šè¾¾ 4 ç§ä¸»é”®ç­–ç•¥ï¼ˆå†…å«åˆ†å¸ƒå¼å”¯ä¸€ ID ç”Ÿæˆå™¨ - Sequenceï¼‰ï¼Œå¯è‡ªç”±é…ç½®ï¼Œå®Œç¾è§£å†³ä¸»é”®é—®é¢˜</li><li>æ”¯æŒ ActiveRecord æ¨¡å¼ï¼šæ”¯æŒ ActiveRecord å½¢å¼è°ƒç”¨ï¼Œå®ä½“ç±»åªéœ€ç»§æ‰¿ Model ç±»å³å¯è¿›è¡Œå¼ºå¤§çš„ CRUD æ“ä½œ</li><li>æ”¯æŒè‡ªå®šä¹‰å…¨å±€é€šç”¨æ“ä½œï¼šæ”¯æŒå…¨å±€é€šç”¨æ–¹æ³•æ³¨å…¥ï¼ˆ Write once, use anywhere ï¼‰</li><li>å†…ç½®ä»£ç ç”Ÿæˆå™¨ï¼šé‡‡ç”¨ä»£ç æˆ–è€… Maven æ’ä»¶å¯å¿«é€Ÿç”Ÿæˆ Mapper ã€ Model ã€ Service ã€ Controller å±‚ä»£ç ï¼Œæ”¯æŒæ¨¡æ¿å¼•æ“ï¼Œæ›´æœ‰è¶…å¤šè‡ªå®šä¹‰é…ç½®ç­‰æ‚¨æ¥ä½¿ç”¨ï¼ˆè‡ªåŠ¨å¸®ä½ ç”Ÿæˆä»£ç ï¼‰</li><li>å†…ç½®åˆ†é¡µæ’ä»¶ï¼šåŸºäº MyBatis ç‰©ç†åˆ†é¡µï¼Œå¼€å‘è€…æ— éœ€å…³å¿ƒå…·ä½“æ“ä½œï¼Œé…ç½®å¥½æ’ä»¶ä¹‹åï¼Œå†™åˆ†é¡µç­‰åŒäºæ™®é€š List æŸ¥è¯¢</li><li>åˆ†é¡µæ’ä»¶æ”¯æŒå¤šç§æ•°æ®åº“ï¼šæ”¯æŒ MySQLã€MariaDBã€Oracleã€DB2ã€H2ã€HSQLã€SQLiteã€Postgreã€SQLServer ç­‰å¤šç§æ•°æ®åº“</li><li>å†…ç½®æ€§èƒ½åˆ†ææ’ä»¶ï¼šå¯è¾“å‡º Sql è¯­å¥ä»¥åŠå…¶æ‰§è¡Œæ—¶é—´ï¼Œå»ºè®®å¼€å‘æµ‹è¯•æ—¶å¯ç”¨è¯¥åŠŸèƒ½ï¼Œèƒ½å¿«é€Ÿæªå‡ºæ…¢æŸ¥è¯¢</li><li>å†…ç½®å…¨å±€æ‹¦æˆªæ’ä»¶ï¼šæä¾›å…¨è¡¨ delete ã€ update æ“ä½œæ™ºèƒ½åˆ†æé˜»æ–­ï¼Œä¹Ÿå¯è‡ªå®šä¹‰æ‹¦æˆªè§„åˆ™ï¼Œé¢„é˜²è¯¯æ“ä½œ</li></ul><h2 id="1-å¿«é€Ÿå…¥é—¨"><a href="#1-å¿«é€Ÿå…¥é—¨" class="headerlink" title="1.å¿«é€Ÿå…¥é—¨"></a>1.å¿«é€Ÿå…¥é—¨</h2><p><strong><em>å®˜æ–¹é“¾æ¥ï¼š<a href="https://baomidou.com/guide/\" target="_blank" rel="noopener">https://baomidou.com/guide/\</a></em></strong></p><p>ä½¿ç”¨ç¬¬ä¸‰æ–¹æ’ä»¶:</p><ol><li>å¯¼å…¥å¯¹åº”çš„ä¾èµ–</li><li>ç ”ç©¶ä¾èµ–å¦‚ä½•é…ç½®</li><li>ä»£ç å¦‚ä½•ç¼–å†™</li><li>æé«˜æ‰©å±•æŠ€æœ¯èƒ½åŠ›</li></ol><h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h3><p>1.åˆ›å»ºæ•°æ®åº“ <code>mybatis_plus</code></p><p>2.åˆ›å»ºè¡¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="keyword">user</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span></span><br><span class="line">(</span><br><span class="line"><span class="keyword">id</span> <span class="built_in">BIGINT</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'ä¸»é”®ID'</span>,</span><br><span class="line"><span class="keyword">name</span> <span class="built_in">VARCHAR</span>(<span class="number">30</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å§“å'</span>,</span><br><span class="line">age <span class="built_in">INT</span>(<span class="number">11</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'å¹´é¾„'</span>,</span><br><span class="line">email <span class="built_in">VARCHAR</span>(<span class="number">50</span>) <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">'é‚®ç®±'</span>,</span><br><span class="line">PRIMARY <span class="keyword">KEY</span> (<span class="keyword">id</span>)</span><br><span class="line">);</span><br><span class="line"><span class="comment">--çœŸå®å¼€å‘ç¯å¢ƒä¸­,version(ä¹è§‚é”),deleted(é€»è¾‘åˆ é™¤),gmt_create,gmt_modified</span></span><br></pre></td></tr></table></figure><p>æ’å…¥æ•°æ®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> <span class="keyword">user</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">user</span> (<span class="keyword">id</span>, <span class="keyword">name</span>, age, email) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="number">1</span>, <span class="string">'Jone'</span>, <span class="number">18</span>, <span class="string">'test1@baomidou.com'</span>),</span><br><span class="line">(<span class="number">2</span>, <span class="string">'Jack'</span>, <span class="number">20</span>, <span class="string">'test2@baomidou.com'</span>),</span><br><span class="line">(<span class="number">3</span>, <span class="string">'Tom'</span>, <span class="number">28</span>, <span class="string">'test3@baomidou.com'</span>),</span><br><span class="line">(<span class="number">4</span>, <span class="string">'Sandy'</span>, <span class="number">21</span>, <span class="string">'test4@baomidou.com'</span>),</span><br><span class="line">(<span class="number">5</span>, <span class="string">'Billie'</span>, <span class="number">24</span>, <span class="string">'test5@baomidou.com'</span>);</span><br></pre></td></tr></table></figure><p>3.ç¼–å†™é¡¹ç›®,åˆå§‹åŒ–é¡¹ç›®! ä½¿ç”¨SpringBootåˆå§‹åŒ–!</p><p>4.å¯¼å…¥ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mysql--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--lombok--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--mybatis-plus--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¯´æ˜:æˆ‘ä»¬ä½¿ç”¨mybatis-plus å¯ä»¥èŠ‚çœæˆ‘ä»¬å¤§é‡çš„ä»£ç ,å°½é‡ä¸è¦åŒæ—¶å¯¼å…¥mybatiså’Œmybatis-pluså› ä¸ºç‰ˆæœ¬æœ‰å·®å¼‚!</p><p>5.è¿æ¥æ•°æ®åº“!è¿™ä¸€æ­¥å’Œmybatisç›¸åŒ!</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># mysql 5 é©±åŠ¨ä¸åŒ  com.mysql.jdbc.Driver</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># mysql 8 é©±åŠ¨ä¸åŒ com.mysql.cj.jdbc.Driver . éœ€è¦å¢åŠ æ—¶åŒºçš„é…ç½® serverTimezone=GMT%2B8</span></span><br><span class="line"><span class="string">spring.datasource.username=codeyuaiiao</span></span><br><span class="line"><span class="string">spring.datasource.password=3615yuhaijiao</span></span><br><span class="line"><span class="string">spring.datasource.url=jdbc:mysql://localhost:3306/mybatis_plus?useSSL=false&amp;useUnicode=true&amp;characterEncoding=utf-8</span></span><br><span class="line"><span class="string">spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver</span></span><br></pre></td></tr></table></figure><p>(ä¼ ç»Ÿçš„æ–¹å¼pojo-dao(è¿æ¥mybatis,é…ç½®mapper.xmlæ–‡ä»¶)-service-controller)</p><p>6.ä½¿ç”¨äº†mybatis-plusä¹‹å</p><ul><li>pojo</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String email;</span><br></pre></td></tr></table></figure><ul><li>mapperæ¥å£</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.mapper.BaseMapper;</span><br><span class="line"><span class="keyword">import</span> com.codeyuaiiao.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Repository;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åœ¨å¯¹åº”çš„mapperä¸Šé¢ç»§æ‰¿åŸºæœ¬çš„ç±» BaseMapper</span></span><br><span class="line"><span class="meta">@Repository</span><span class="comment">//ä»£è¡¨æŒä¹…å±‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> <span class="keyword">extends</span> <span class="title">BaseMapper</span>&lt;<span class="title">User</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">//æ‰€æœ‰CRUDæ“ä½œéƒ½å·²ç»ç¼–å†™å®Œæˆäº†</span></span><br><span class="line">    <span class="comment">//ä½ ä¸éœ€è¦å‘ä»¥å‰ä¸€æ ·é…ç½®ä¸€å¤§å †æ–‡ä»¶äº†!</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹:éœ€è¦åœ¨ä¸»å¯åŠ¨ç±»<code>MybatisPlusApplication</code>ä¸Šæ‰«ææˆ‘ä»¬MapperåŒ…ä¸‹çš„æ‰€æœ‰æ¥å£</p><p><code>@MapperScan(&quot;com.zjc.mapper&quot;)</code></p><ul><li>æµ‹è¯•ç±»ä¸­æµ‹è¯•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MybatisPlusApplicationTests</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç»§æ‰¿äº†BaseMapper, æ‰€æœ‰çš„æ–¹æ³•éƒ½æ¥è‡ªå·±çˆ¶ç±»</span></span><br><span class="line">    <span class="comment">//æˆ‘ä»¬ä¹Ÿå¯ä»¥ç¼–å†™è‡ªå·±çš„æ‰©å±•æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">//å‚æ•°æ˜¯ä¸€ä¸ªWrapper , æ¡ä»¶æ„é€ å™¨,è¿™é‡Œæˆ‘ä»¬å…ˆä¸ç”¨ --null</span></span><br><span class="line">        <span class="comment">//æŸ¥è¯¢å…¨éƒ¨ç”¨æˆ·</span></span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(<span class="keyword">null</span>);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æŸ¥è¯¢ç»“æœ:</li></ul><p><img src="https://img-blog.csdnimg.cn/20200930150413201.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æ€è€ƒé—®é¢˜</span><br><span class="line"></span><br><span class="line">1. sqlè°å¸®æˆ‘ä»¬å†™çš„?â€”mybatis-plus</span><br><span class="line">2. æ–¹æ³•è°å¸®æˆ‘ä»¬å†™çš„?â€”mybatis-plus</span><br></pre></td></tr></table></figure><h2 id="2-é…ç½®æ—¥å¿—"><a href="#2-é…ç½®æ—¥å¿—" class="headerlink" title="2.é…ç½®æ—¥å¿—"></a>2.é…ç½®æ—¥å¿—</h2><p>æˆ‘ä»¬æ‰€æœ‰çš„sqlæ˜¯ä¸å¯è§çš„,æˆ‘ä»¬å¸Œæœ›çŸ¥é“ä»–æ˜¯æ€ä¹ˆæ‰§è¡Œçš„,æ‰€ä»¥æˆ‘ä»¬å¿…é¡»çœ‹æ—¥å¿—!</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># é…ç½®æ—¥å¿—  (é»˜è®¤æ§åˆ¶å°è¾“å‡º)</span><br><span class="line">mybatis-plus.configuration.log-impl&#x3D;org.apache.ibatis.logging.stdout.StdOutImpl</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200930150425185.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjQ5MjIz,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>é…ç½®å®Œæ—¥å¿—ä¹‹åä½ ä¼šå–œæ¬¢ä¸Šmybatis-plus!</p><h2 id="3-CRUDæ‰©å±•"><a href="#3-CRUDæ‰©å±•" class="headerlink" title="3.CRUDæ‰©å±•"></a>3.CRUDæ‰©å±•</h2><h3 id="1-æ’å…¥æ•°æ®"><a href="#1-æ’å…¥æ•°æ®" class="headerlink" title="1.æ’å…¥æ•°æ®"></a>1.æ’å…¥æ•°æ®</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testInsert</span><span class="params">()</span></span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setName(<span class="string">"codeyuaiiao"</span>);</span><br><span class="line">    user.setAge(<span class="number">3</span>);</span><br><span class="line">    user.setEmail(<span class="string">"747557612@qq.com"</span>);</span><br><span class="line">    <span class="keyword">int</span> result = userMapper.insert(user);</span><br><span class="line">    System.out.println(result);</span><br><span class="line">    System.out.println(user);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200930150437175.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjQ5MjIz,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æ³¨æ„ç‚¹:æ•°æ®åº“æ’å…¥çš„idé»˜è®¤å€¼ä¸º:å…¨å±€çš„å”¯ä¸€id</p><h3 id="2-ä¸»é”®ç”Ÿæˆç­–ç•¥"><a href="#2-ä¸»é”®ç”Ÿæˆç­–ç•¥" class="headerlink" title="2.ä¸»é”®ç”Ÿæˆç­–ç•¥"></a>2.ä¸»é”®ç”Ÿæˆç­–ç•¥</h3><blockquote><p>é»˜è®¤ ID_WORKER å…¨å±€å”¯ä¸€id</p><p>å¯¹åº”æ•°æ®åº“ä¸­çš„ä¸»é”®(uuid.è‡ªå¢id.é›ªèŠ±ç®—æ³•.redis.zookeeper)</p></blockquote><p>åˆ†å¸ƒå¼ç³»ç»Ÿå”¯ä¸€idç”Ÿæˆ:<a href="https://www.cnblogs.com/haoxinyue/p/5208136.html" target="_blank" rel="noopener">https://www.cnblogs.com/haoxinyue/p/5208136.html</a></p><p>é›ªèŠ±ç®—æ³•ğŸ˜¦Twitterçš„snowflakeç®—æ³•)</p><p>snowflakeæ˜¯Twitterå¼€æºçš„åˆ†å¸ƒå¼IDç”Ÿæˆç®—æ³•ï¼Œç»“æœæ˜¯ä¸€ä¸ªlongå‹çš„IDã€‚å…¶æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šä½¿ç”¨41bitä½œä¸ºæ¯«ç§’æ•°ï¼Œ10bitä½œä¸ºæœºå™¨çš„IDï¼ˆ5ä¸ªbitæ˜¯æ•°æ®ä¸­å¿ƒï¼Œ5ä¸ªbitçš„æœºå™¨IDï¼‰ï¼Œ12bitä½œä¸ºæ¯«ç§’å†…çš„æµæ°´å·ï¼ˆæ„å‘³ç€æ¯ä¸ªèŠ‚ç‚¹åœ¨æ¯æ¯«ç§’å¯ä»¥äº§ç”Ÿ 4096 ä¸ª IDï¼‰ï¼Œæœ€åè¿˜æœ‰ä¸€ä¸ªç¬¦å·ä½ï¼Œæ°¸è¿œæ˜¯0.å¯ä»¥ä¿è¯å‡ ä¹å…¨çƒå”¯ä¸€</p><blockquote><p>ä¸»é”®è‡ªå¢</p></blockquote><p>æˆ‘ä»¬éœ€è¦é…ç½®ä¸»é”®è‡ªå¢:</p><ol><li>å®ä½“ç±»å­—æ®µä¸Š<code>@TableId(type = IdType.AUTO)</code></li><li>æ•°æ®åº“å­—æ®µä¸€å®šè¦æ˜¯<strong>è‡ªå¢</strong>!</li></ol><p><img src="https://img-blog.csdnimg.cn/20200930150449191.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/20200930150459128.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjQ5MjIz,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/20200930150508407.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><blockquote><p>å…¶ä½™æºç è§£é‡Š</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> IdType &#123;</span><br><span class="line">     </span><br><span class="line">    AUTO(<span class="number">0</span>),<span class="comment">//æ•°æ®åº“IDè‡ªå¢  </span></span><br><span class="line">    NONE(<span class="number">1</span>),<span class="comment">//è¯¥ç±»å‹ä¸ºæœªè®¾ç½®ä¸»é”®ç±»å‹      </span></span><br><span class="line">    INPUT(<span class="number">2</span>),<span class="comment">//ç”¨æˆ·è¾“å…¥ID</span></span><br><span class="line">       <span class="comment">//è¯¥ç±»å‹å¯ä»¥é€šè¿‡è‡ªå·±æ³¨å†Œè‡ªåŠ¨å¡«å……æ’ä»¶è¿›è¡Œå¡«å……  </span></span><br><span class="line">    </span><br><span class="line"><span class="comment">//ä»¥ä¸‹3ç§ç±»å‹ã€åªæœ‰å½“æ’å…¥å¯¹è±¡ID ä¸ºç©ºï¼Œæ‰è‡ªåŠ¨å¡«å……ã€‚     </span></span><br><span class="line">    ID_WORKER(<span class="number">3</span>),<span class="comment">//å…¨å±€å”¯ä¸€ID (idWorker)      </span></span><br><span class="line">    UUID(<span class="number">4</span>),<span class="comment">//å…¨å±€å”¯ä¸€ID (UUID)          </span></span><br><span class="line">    ID_WORKER_STR(<span class="number">5</span>);<span class="comment">//å­—ç¬¦ä¸²å…¨å±€å”¯ä¸€ID (idWorker çš„å­—ç¬¦ä¸²è¡¨ç¤º)</span></span><br></pre></td></tr></table></figure><h3 id="3-æ›´æ–°æ•°æ®"><a href="#3-æ›´æ–°æ•°æ®" class="headerlink" title="3.æ›´æ–°æ•°æ®"></a>3.æ›´æ–°æ•°æ®</h3><blockquote><p>åŠ¨æ€sql</p></blockquote><p>æ³¨æ„:updateById()å‚æ•°æ˜¯ ä¸€ä¸ªå¯¹è±¡!</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æµ‹è¯•æ›´æ–°</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testUpdate</span><span class="params">()</span></span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setId(<span class="number">2L</span>);</span><br><span class="line">    user.setName(<span class="string">"å“ˆå“ˆå“ˆå“ˆå“ˆå“ˆå“ˆ"</span>);</span><br><span class="line">    <span class="comment">//        æ³¨æ„:updateById()å‚æ•°æ˜¯ ä¸€ä¸ªå¯¹è±¡!</span></span><br><span class="line">    <span class="keyword">int</span> i = userMapper.updateById(user);</span><br><span class="line">    System.out.println(i);</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200930150523190.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/20200930150543666.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æ‰€æœ‰çš„sqléƒ½æ˜¯åŠ¨æ€å¸®ä½ é…ç½®çš„.</p><h3 id="4-è‡ªåŠ¨å¡«å……"><a href="#4-è‡ªåŠ¨å¡«å……" class="headerlink" title="4.è‡ªåŠ¨å¡«å……"></a>4.è‡ªåŠ¨å¡«å……</h3><p>åˆ›å»ºæ—¶é—´ . ä¿®æ”¹æ—¶é—´! è¿™äº›ä¸ªæ“ä½œéƒ½æ˜¯è‡ªåŠ¨åŒ–å®Œæˆçš„,æˆ‘ä»¬ä¸å¸Œæœ›æ‰‹åŠ¨æ›´æ–°!</p><p>é˜¿é‡Œå·´å·´å¼€å‘æ‰‹å†Œ:æ‰€æœ‰çš„æ•°æ®åº“è¡¨:gmt_create .gmt_modifiedå‡ ä¹æ‰€æœ‰çš„è¡¨éƒ½è¦é…ç½®ä¸Š!è€Œä¸”éœ€è¦è‡ªåŠ¨åŒ–!</p><blockquote><p>æ–¹å¼ä¸€:æ•°æ®åº“çº§åˆ«ï¼ˆå·¥ä½œä¸­ä¸å…è®¸ä¿®æ”¹æ•°æ®åº“çº§åˆ«ï¼‰</p></blockquote><p>1.åœ¨è¡¨ä¸­æ–°å¢å­—æ®µ create_time , update_time</p><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudy624d739f-d5b3-43c4-a9fd-c2b9fbca4530.png" alt="img"></p><p>2.å†æ¬¡æµ‹è¯•æ’å…¥æ–¹æ³•,æˆ‘ä»¬éœ€è¦å…ˆæŠŠå®ä½“ç±»åŒæ­¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Data creatTime;</span><br><span class="line"><span class="keyword">private</span> Data updateTime;</span><br></pre></td></tr></table></figure><p>å†æ¬¡æ›´æ–°æŸ¥çœ‹ç»“æœå³å¯</p><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudy788732ec-d631-4946-af7e-4bad99fd3f66.png" alt="img"></p><p>æ–¹å¼äºŒ:ä»£ç çº§åˆ«</p><p>1.åˆ é™¤æ•°æ®åº“é»˜è®¤å€¼</p><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudyc6de3b50-4e0d-4893-ad89-06efb2acf3b1.png" alt="img"></p><p>2.å®ä½“ç±»å­—æ®µå±æ€§ä¸Šæ·»åŠ æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è®°ä½ç”¨utilåŒ…ä¸‹çš„Date!!</span></span><br><span class="line"><span class="comment">//å­—æ®µæ·»åŠ å¡«å……å†…å®¹</span></span><br><span class="line"><span class="meta">@TableField</span>(fill = FieldFill.INSERT)</span><br><span class="line"><span class="keyword">private</span> Date createTime;</span><br><span class="line"></span><br><span class="line"><span class="meta">@TableField</span>(fill = FieldFill.INSERT_UPDATE)</span><br><span class="line"><span class="keyword">private</span> Date updateTime;</span><br></pre></td></tr></table></figure><p>3.ç¼–å†™å¤„ç†å™¨æ¥å¤„ç†è¿™ä¸ªæ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Slf</span>4j<span class="comment">//æ—¥å¿—</span></span><br><span class="line"><span class="meta">@Component</span><span class="comment">//ä¸¢åˆ°springbooté‡Œ   ä¸€å®šä¸è¦å¿˜è®°æŠŠå¤„ç†å™¨åŠ åˆ°Iocå®¹å™¨ä¸­!</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyMetaObjectHandler</span> <span class="keyword">extends</span> <span class="title">MetaObjectHandler</span> </span>&#123;<span class="comment">//extends??</span></span><br><span class="line">    <span class="meta">@Override</span><span class="comment">//æ’å…¥æ—¶çš„å¡«å……ç­–ç•¥</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertFill</span><span class="params">(MetaObject metaObject)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"==start insert Â·Â·Â·Â·Â·Â·=="</span>);</span><br><span class="line">        <span class="comment">//setFieldValByName(java.lang.String fieldName, java.lang.Object fieldVal, org.apache.ibatis.reflection.MetaObject metaObject)</span></span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">"createTime"</span>,<span class="keyword">new</span> Date(),metaObject);</span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">"updateTime"</span>,<span class="keyword">new</span> Date(),metaObject);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span><span class="comment">//æ›´æ–°æ—¶çš„å¡«å……ç­–ç•¥</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateFill</span><span class="params">(MetaObject metaObject)</span> </span>&#123;</span><br><span class="line">        log.info(<span class="string">"==start update Â·Â·Â·Â·Â·Â·=="</span>);</span><br><span class="line">        <span class="keyword">this</span>.setFieldValByName(<span class="string">"updateTime"</span>,<span class="keyword">new</span> Date(),metaObject);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4ã€æµ‹è¯•æ’å…¥/æ›´æ–°ï¼Œè§‚å¯Ÿæ—¶é—´</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span><span class="comment">//æµ‹è¯•æ’å…¥</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setName(<span class="string">"live"</span>);</span><br><span class="line">    user.setAge(<span class="number">22</span>);</span><br><span class="line">    user.setEmail(<span class="string">"1314@qq.com"</span>);</span><br><span class="line">    Integer result = userMapper.insert(user); <span class="comment">//ä¼šå¸®æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆid</span></span><br><span class="line">    System.out.println(result); <span class="comment">//å—å½±å“çš„è¡Œæ•°</span></span><br><span class="line">    System.out.println(user); <span class="comment">//é€šè¿‡æ—¥å¿—å‘ç°idä¼šè‡ªåŠ¨å›å¡«</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Test</span><span class="comment">//æµ‹è¯•æ›´æ–°</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateTest</span><span class="params">()</span></span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User();</span><br><span class="line">    user.setId(<span class="number">1359495921613004803L</span>);</span><br><span class="line">    user.setName(<span class="string">"test3"</span>);</span><br><span class="line">    user.setAge(<span class="number">18</span>); <span class="comment">//é€šè¿‡æ¡ä»¶è‡ªåŠ¨æ‹¼æ¥åŠ¨æ€Sql</span></span><br><span class="line">    user.setEmail(<span class="string">"test3@qq.com"</span>);</span><br><span class="line">    <span class="keyword">int</span> i = userMapper.updateById(user);<span class="comment">//updateByIdï¼Œä½†æ˜¯å‚æ•°æ˜¯ä¸ªuser</span></span><br><span class="line">    System.out.println(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5æµ‹è¯•æ›´æ–°,è§‚å¯Ÿæ—¶é—´å³å¯!</p><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudybf6abf06-fbcf-403b-beb2-64ff0154da22.png" alt="img"></p><h3 id="5-ä¹è§‚é”-amp-æ‚²è§‚é”"><a href="#5-ä¹è§‚é”-amp-æ‚²è§‚é”" class="headerlink" title="5.ä¹è§‚é”&amp;æ‚²è§‚é”"></a>5.ä¹è§‚é”&amp;æ‚²è§‚é”</h3><blockquote><p>ä¹è§‚é”: é¡¾åæ€ä¹‰ååˆ†ä¹è§‚,ä»–æ€»æ˜¯è®¤ä¸ºä¸ä¼šå‡ºç°é—®é¢˜,æ— è®ºå¹²ä»€ä¹ˆéƒ½ä¸å»ä¸Šé”!å¦‚æœå‡ºç°äº†é—®é¢˜,å†æ¬¡æ›´æ–°å€¼æµ‹è¯•</p></blockquote><blockquote><p>æ‚²è§‚é”;é¡¾åæ€ä¹‰ååˆ†æ‚²è§‚,ä»–æ€»æ˜¯è®¤ä¸ºå‡ºç°é—®é¢˜,æ— è®ºå¹²ä»€ä¹ˆéƒ½ä¼šä¸Šé”!å†å»æ“ä½œ!</p></blockquote><p>æˆ‘ä»¬è¿™é‡Œä¸»è¦è®²è§£ ä¹è§‚é”æœºåˆ¶!</p><p>ä¹è§‚é”å®ç°æ–¹å¼:</p><ul><li>å–å‡ºè®°å½•æ—¶,è·å–å½“å‰version</li><li>æ›´æ–°æ—¶,å¸¦ä¸Šè¿™ä¸ªversion</li><li>æ‰§è¡Œæ›´æ–°æ—¶,set version = newVersion where version = oldVersion</li><li>å¦‚æœversionä¸å¯¹,å°±æ›´æ–°å¤±è´¥</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ä¹è§‚é”ï¼šå…ˆæŸ¥è¯¢ï¼Œè·å¾—ç‰ˆæœ¬å· </span><br><span class="line"><span class="comment">-- A</span></span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> <span class="keyword">name</span> = <span class="string">"wsk"</span>,<span class="keyword">version</span> = <span class="keyword">version</span>+<span class="number">1</span> </span><br><span class="line"><span class="keyword">where</span> <span class="keyword">id</span> = <span class="number">1</span> <span class="keyword">and</span> <span class="keyword">version</span> = <span class="number">1</span></span><br><span class="line"><span class="comment">-- B  ï¼ˆBçº¿ç¨‹æŠ¢å…ˆå®Œæˆï¼Œæ­¤æ—¶version=2ï¼Œä¼šå¯¼è‡´Açº¿ç¨‹ä¿®æ”¹å¤±è´¥ï¼ï¼‰</span></span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> <span class="keyword">name</span> = <span class="string">"wsk"</span>,<span class="keyword">version</span> = <span class="keyword">version</span>+<span class="number">1</span> </span><br><span class="line"><span class="keyword">where</span> <span class="keyword">id</span> = <span class="number">1</span> <span class="keyword">and</span> <span class="keyword">version</span> = <span class="number">1</span></span><br></pre></td></tr></table></figure><blockquote><p>æµ‹è¯•ä¸€ä¸‹Mybatis-Plusä¹è§‚é”æ’ä»¶</p></blockquote><p>1ã€ç»™æ•°æ®åº“ä¸­å¢åŠ versionå­—æ®µ</p><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudy0a3bcefb-7d85-40d1-b75b-208dda2d4c92.png" alt="img"></p><p>2ã€å®ä½“ç±»åŠ å¯¹åº”çš„å­—æ®µ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Version</span><span class="comment">//ä¹è§‚é”versionæ³¨è§£</span></span><br><span class="line"><span class="keyword">private</span> Integer version;</span><br></pre></td></tr></table></figure><p>3ã€æ³¨å†Œç»„ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ‰«æmapperæ–‡ä»¶å¤¹</span></span><br><span class="line"><span class="meta">@MapperScan</span>(<span class="string">"com.wsk.mapper"</span>)<span class="comment">//äº¤ç»™mybatisåšçš„ï¼Œå¯ä»¥è®©è¿™ä¸ªé…ç½®ç±»åšæ‰«æ</span></span><br><span class="line"><span class="meta">@EnableTransactionManagement</span><span class="comment">//è‡ªåŠ¨ç®¡ç†äº‹åŠ¡</span></span><br><span class="line"><span class="meta">@Configuration</span><span class="comment">//é…ç½®ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyBatisPlusConfig</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æ³¨å†Œä¹è§‚é”æ’ä»¶</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> OptimisticLockerInterceptor <span class="title">optimisticLockerInterceptor</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> OptimisticLockerInterceptor();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4ã€æµ‹è¯•ä¸€ä¸‹</p><ul><li>æˆåŠŸ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span><span class="comment">//æµ‹è¯•ä¹è§‚é”æˆåŠŸ</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testOptimisticLocker1</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//1ã€æŸ¥è¯¢ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    User user = userMapper.selectById(<span class="number">1L</span>);</span><br><span class="line">    <span class="comment">//2ã€ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯</span></span><br><span class="line">    user.setAge(<span class="number">18</span>);</span><br><span class="line">    user.setEmail(<span class="string">"2803708553@qq.com"</span>);</span><br><span class="line">    <span class="comment">//3ã€æ‰§è¡Œæ›´æ–°æ“ä½œ</span></span><br><span class="line">    userMapper.updateById(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudyf4d3aa17-bf5b-4919-a19b-e2787802ea91.png" alt="img"></p><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudyc278e6ee-479a-463e-ab3b-007258ab2d3a.png" alt="img"></p><ul><li>å¤±è´¥</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span><span class="comment">//æµ‹è¯•ä¹è§‚é”å¤±è´¥  å¤šçº¿ç¨‹ä¸‹</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testOptimisticLocker2</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//çº¿ç¨‹1</span></span><br><span class="line">    User user1 = userMapper.selectById(<span class="number">1L</span>);</span><br><span class="line">    user1.setAge(<span class="number">1</span>);</span><br><span class="line">    user1.setEmail(<span class="string">"2803708553@qq.com"</span>);</span><br><span class="line">    <span class="comment">//æ¨¡æ‹Ÿå¦å¤–ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œäº†æ’é˜Ÿæ“ä½œ</span></span><br><span class="line">    User user2 = userMapper.selectById(<span class="number">1L</span>);</span><br><span class="line">    user2.setAge(<span class="number">2</span>);</span><br><span class="line">    user2.setEmail(<span class="string">"2803708553@qq.com"</span>);</span><br><span class="line">    userMapper.updateById(user2);</span><br><span class="line">    <span class="comment">//è‡ªæ—‹é”æ¥å¤šæ¬¡å°è¯•æäº¤ï¼</span></span><br><span class="line">    userMapper.updateById(user1);<span class="comment">//å¦‚æœæ²¡æœ‰ä¹è§‚é”å°±ä¼šè¦†ç›–æ’é˜Ÿçº¿ç¨‹çš„å€¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudy8b71c55d-2902-400b-b328-36327ccec305.png" alt="img"></p><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudyba129cc3-5701-477e-9f56-c2cab9f2030c.png" alt="img"></p><h3 id="6-æŸ¥è¯¢æ“ä½œ"><a href="#6-æŸ¥è¯¢æ“ä½œ" class="headerlink" title="6.æŸ¥è¯¢æ“ä½œ"></a>6.æŸ¥è¯¢æ“ä½œ</h3><ul><li>é€šè¿‡idæŸ¥è¯¢å•ä¸ªç”¨æˆ·</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span><span class="comment">//é€šè¿‡idæŸ¥è¯¢å•ä¸ªç”¨æˆ·</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelectById</span><span class="params">()</span></span>&#123;</span><br><span class="line">    User user = userMapper.selectById(<span class="number">1L</span>);</span><br><span class="line">    System.out.println(user);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudyb1141b26-8305-41d9-aded-b777508f2c87.png" alt="img"></p><ul><li>é€šè¿‡idæŸ¥è¯¢å¤šä¸ªç”¨æˆ·</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span><span class="comment">//é€šè¿‡idæŸ¥è¯¢å¤šä¸ªç”¨æˆ·</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testSelectBatchIds</span><span class="params">()</span></span>&#123;</span><br><span class="line">    List&lt;User&gt; users = userMapper.selectBatchIds(Arrays.asList(<span class="number">1L</span>, <span class="number">2L</span>, <span class="number">3L</span>));</span><br><span class="line">    users.forEach(System.out::println);</span><br><span class="line">    <span class="comment">//System.out.println(users);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudyc8bf910f-6957-4f38-a7f7-63f45f68a375.png" alt="img"></p><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudya4ef838c-2bf1-44b0-9a07-6e5eec6cf9c6.png" alt="img"></p><ul><li>æ¡ä»¶æŸ¥è¯¢ é€šè¿‡mapå°è£…</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span><span class="comment">//é€šè¿‡æ¡ä»¶æŸ¥è¯¢ä¹‹ä¸€  map</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testMap</span><span class="params">()</span></span>&#123;</span><br><span class="line">    HashMap&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    <span class="comment">//è‡ªå®šä¹‰è¦æŸ¥è¯¢çš„</span></span><br><span class="line">    map.put(<span class="string">"name"</span>,<span class="string">"www"</span>);</span><br><span class="line">    map.put(<span class="string">"age"</span>,<span class="number">18</span>);</span><br><span class="line">    List&lt;User&gt; users = userMapper.selectByMap(map);</span><br><span class="line">    users.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudy2bf1bf99-2ea6-4bcf-b074-1cef7429f4f7.png" alt="img"></p><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudy847ef77b-29f3-4946-9bc3-5875d6da6d45.png" alt="img"></p><ul><li>åˆ†é¡µæŸ¥è¯¢</li></ul><p>åˆ†é¡µåœ¨ç½‘ç«™çš„ä½¿ç”¨ååˆ†ä¹‹å¤šï¼</p><p>1ã€åŸå§‹çš„limitåˆ†é¡µ </p><p>2ã€pageHelperç¬¬ä¸‰æ–¹æ’ä»¶</p><p>3ã€MybatisPluså…¶å®ä¹Ÿå†…ç½®äº†åˆ†é¡µæ’ä»¶ï¼</p><p><strong>ä½¿ç”¨</strong>ï¼š</p><p>1ã€é…ç½®æ‹¦æˆªå™¨ç»„ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//åˆ†é¡µæ’ä»¶</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> PaginationInterceptor <span class="title">paginationInterceptor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> PaginationInterceptor();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€ç›´æ¥ä½¿ç”¨pageå¯¹è±¡å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span><span class="comment">//æµ‹è¯•åˆ†é¡µæŸ¥è¯¢</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testPage</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//å‚æ•°ä¸€currentï¼šå½“å‰é¡µ   å‚æ•°äºŒsizeï¼šé¡µé¢å¤§å°</span></span><br><span class="line">    <span class="comment">//ä½¿ç”¨äº†åˆ†é¡µæ’ä»¶ä¹‹åï¼Œæ‰€æœ‰çš„åˆ†é¡µæ“ä½œéƒ½å˜å¾—ç®€å•äº†</span></span><br><span class="line">    Page&lt;User&gt; page = <span class="keyword">new</span> Page&lt;&gt;(<span class="number">2</span>,<span class="number">5</span>);</span><br><span class="line">    userMapper.selectPage(page,<span class="keyword">null</span>);</span><br><span class="line">    page.getRecords().forEach(System.out::println);</span><br><span class="line">    System.out.println(<span class="string">"æ€»é¡µæ•°==&gt;"</span>+page.getTotal());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudyf4b59842-0c11-4458-b7f3-f795f7c0c59d.png" alt="img"></p><h3 id="7-åŸºæœ¬çš„åˆ é™¤-amp-amp-é€»è¾‘åˆ é™¤"><a href="#7-åŸºæœ¬çš„åˆ é™¤-amp-amp-é€»è¾‘åˆ é™¤" class="headerlink" title="7.åŸºæœ¬çš„åˆ é™¤&amp;&amp;é€»è¾‘åˆ é™¤"></a>7.åŸºæœ¬çš„åˆ é™¤&amp;&amp;é€»è¾‘åˆ é™¤</h3><p>åŸºæœ¬çš„åˆ é™¤ä»»åŠ¡ï¼š</p><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudy95e283c4-4633-4411-a4ba-2917167a89ab.png" alt="img"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDeleteById</span><span class="params">()</span></span>&#123;</span><br><span class="line">    userMapper.deleteById(<span class="number">1359507762519068681L</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testDeleteBatchIds</span><span class="params">()</span></span>&#123;</span><br><span class="line">  userMapper.deleteBatchIds(Arrays.asList(<span class="number">1359507762519068675L</span>,<span class="number">1359507762519068676L</span>));</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testD</span><span class="params">()</span></span>&#123;</span><br><span class="line">    HashMap&lt;String, Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">"age"</span>,<span class="string">"18"</span>);</span><br><span class="line">    map.put(<span class="string">"name"</span>,<span class="string">"lol"</span>);</span><br><span class="line">    userMapper.deleteByMap(map);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç‰©ç†åˆ é™¤:ä»æ•°æ®åº“ä¸­ç›´æ¥ç§»é™¤</p><p>é€»è¾‘åˆ é™¤: åœ¨æ•°æ®åº“ä¸­æ²¡æœ‰è¢«ç§»é™¤,è€Œæ˜¯é€šè¿‡ä¸€ä¸ªå˜é‡æ¥è®©ä»–å¤±æ•ˆ! deleted=0=&gt;deleted=1</p></blockquote><p>ç®¡ç†å‘˜å¯ä»¥æŸ¥çœ‹è¢«åˆ é™¤çš„è®°å½•!é˜²æ­¢æ•°æ®çš„ä¸¢å¤±,ç±»ä¼¼äºå›æ”¶ç«™!</p><p>æµ‹è¯•:</p><p>1.åœ¨æ•°æ®è¡¨ä¸­å¢åŠ ä¸€ä¸ªdeletedå­—æ®µ</p><p><img src="https://img-blog.csdnimg.cn/20200930150703144.png#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>2.å®ä½“ç±»ä¸­å¢åŠ å±æ€§</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é€»è¾‘åˆ é™¤</span></span><br><span class="line"><span class="meta">@TableLogic</span></span><br><span class="line"><span class="keyword">private</span> Integer deleted;</span><br></pre></td></tr></table></figure><p>3.é…ç½®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ³¨å†Œé€»è¾‘åˆ é™¤</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ISqlInjector <span class="title">sqlInjector</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> LogicSqlInjector();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># é…ç½®é€»è¾‘åˆ é™¤ æ²¡åˆ é™¤çš„ä¸º0 åˆ é™¤çš„ä¸º1</span><br><span class="line">mybatis-plus.global-config.db-config.logic-delete-value=<span class="number">1</span></span><br><span class="line">mybatis-plus.global-config.db-config.logic-not-delete-value=<span class="number">0</span></span><br></pre></td></tr></table></figure><p>èµ°çš„æ˜¯æ›´æ–°æ“ä½œ,ä¸æ˜¯åˆ é™¤æ“ä½œ</p><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudyc0ad8e44-da12-4a8f-9ad7-39229abcbdd0.png" alt="img"></p><p>å‘ç°ï¼š è®°å½•è¿˜åœ¨ï¼Œdeletedå˜ä¸º1</p><p>å†æ¬¡æµ‹è¯•æŸ¥è¯¢è¢«åˆ é™¤çš„ç”¨æˆ·ï¼Œå‘ç°æŸ¥è¯¢ä¸ºç©º</p><p><img src="https://kuangstudy.oss-cn-beijing.aliyuncs.com/bbs/2021/03/01/kuangstudyd072bd93-9826-4b37-9754-78e9b09fc480.png" alt="img"></p><p>ä»¥ä¸Šçš„æ‰€æœ‰CRUDæ“ä½œåŠå…¶æ‰©å±•,æˆ‘ä»¬éƒ½å¿…é¡»ç²¾é€šæŒæ¡!ä¼šå¤§å¤§æå¥½ä½ çš„å·¥ä½œå’Œå†™é¡¹ç›®çš„æ•ˆç‡</p><h2 id="4-æ€§èƒ½åˆ†ææ’ä»¶"><a href="#4-æ€§èƒ½åˆ†ææ’ä»¶" class="headerlink" title="4.æ€§èƒ½åˆ†ææ’ä»¶"></a>4.æ€§èƒ½åˆ†ææ’ä»¶</h2><p>æˆ‘ä»¬åœ¨å¹³æ—¶çš„å¼€å‘ä¸­,ä¼šé‡åˆ°ä¸€äº›æ…¢sql.</p><p>MPä¹Ÿæä¾›äº†æ€§èƒ½åˆ†ææ’ä»¶,å¦‚æœè¶…è¿‡è¿™ä¸ªæ—¶é—´å°±åœæ­¢è¿è¡Œ!</p><p><strong>æ€§èƒ½åˆ†ææ‹¦æˆªå™¨ä½œç”¨ï¼šç”¨äºè¾“å‡ºæ¯æ¡sqlè¯­å¥åŠå…¶æ‰§è¡Œæ—¶é—´</strong></p><p>1.å¯¼å…¥æ’ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//æ€§èƒ½åˆ†ææ’ä»¶</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="meta">@Profile</span>(&#123;<span class="string">"dev"</span>,<span class="string">"test"</span>&#125;)<span class="comment">//è®¾ç½®devå¼€å‘ã€testæµ‹è¯• ç¯å¢ƒå¼€å¯  ä¿è¯æˆ‘ä»¬çš„æ•ˆç‡</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> PerformanceInterceptor <span class="title">performanceInterceptor</span><span class="params">()</span></span>&#123;</span><br><span class="line">    PerformanceInterceptor performanceInterceptor = <span class="keyword">new</span> PerformanceInterceptor();</span><br><span class="line">    performanceInterceptor.setMaxTime(<span class="number">100</span>);<span class="comment">//è®¾ç½®sqlæœ€å¤§æ‰§è¡Œæ—¶é—´*msï¼Œå¦‚æœè¶…è¿‡äº†åˆ™ä¸æ‰§è¡Œ</span></span><br><span class="line">    performanceInterceptor.setFormat(<span class="keyword">true</span>);<span class="comment">//å¼€å¯sqlæ ¼å¼åŒ–</span></span><br><span class="line">    <span class="keyword">return</span> performanceInterceptor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è®°ä½åœ¨SpringBootä¸­é…ç½®ç¯å¢ƒä¸º devæˆ–è€…testç¯å¢ƒ</p><p>application.propertiesä¸­æ·»åŠ è®¾ç½®å¼€å‘ç¯å¢ƒ</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#è®¾ç½®å¼€å‘ç¯å¢ƒ</span><br><span class="line">spring.profiles.active&#x3D;dev</span><br></pre></td></tr></table></figure><p>2.æµ‹è¯•æŸ¥è¯¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//å‚æ•°æ˜¯ä¸€ä¸ªwrapper ï¼Œæ¡ä»¶æ„é€ å™¨ï¼Œè¿™é‡Œæˆ‘ä»¬å…ˆä¸ç”¨ null</span></span><br><span class="line">    <span class="comment">//æŸ¥è¯¢å…¨éƒ¨çš„ç”¨æˆ·</span></span><br><span class="line">    List&lt;User&gt; userList = userMapper.selectList(<span class="keyword">null</span>);</span><br><span class="line">    userList.forEach(System.out::println);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200930150745143.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQzNjQ5MjIz,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="5-æ¡ä»¶æ„é€ å™¨Wrapper"><a href="#5-æ¡ä»¶æ„é€ å™¨Wrapper" class="headerlink" title="5.æ¡ä»¶æ„é€ å™¨Wrapper"></a>5.æ¡ä»¶æ„é€ å™¨Wrapper</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;</span><br><span class="line"><span class="keyword">import</span> com.kuang.mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> com.kuang.pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WrapperTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">contextLoads</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢nameä¸ä¸ºç©ºçš„ç”¨æˆ·ï¼Œå¹¶ä¸”é‚®ç®±ä¸ä¸ºç©ºçš„ç”¨æˆ·ï¼Œå¹´é¾„å¤§äºç­‰äº12</span></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        wrapper</span><br><span class="line">                .isNotNull(<span class="string">"name"</span>)</span><br><span class="line">                .isNotNull(<span class="string">"email"</span>)</span><br><span class="line">                .ge(<span class="string">"age"</span>,<span class="number">12</span>);</span><br><span class="line">        userMapper.selectList(wrapper).forEach(System.out::println); <span class="comment">// å’Œæˆ‘ä»¬åˆšæ‰å­¦ä¹ çš„mapå¯¹æ¯”ä¸€ä¸‹</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢åå­—ç‹‚ç¥è¯´</span></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        wrapper.eq(<span class="string">"name"</span>,<span class="string">"ç‹‚ç¥è¯´"</span>);</span><br><span class="line">       <span class="comment">//æŸ¥è¯¢ä¸€ä¸ªæ•°æ®selectOneï¼Œè‹¥æŸ¥è¯¢å‡ºå¤šä¸ªä¼šæŠ¥é”™</span></span><br><span class="line">      <span class="comment">//Expected one result (or null) to be returned by selectOne(), but found: *</span></span><br><span class="line">      <span class="comment">//è‹¥å‡ºç°å¤šä¸ªç»“æœä½¿ç”¨listæˆ–map</span></span><br><span class="line">        User user = userMapper.selectOne(wrapper); <span class="comment">// æŸ¥è¯¢ä¸€ä¸ªæ•°æ®ï¼Œå‡ºç°å¤šä¸ªç»“æœä½¿ç”¨List æˆ–è€… Map</span></span><br><span class="line">        System.out.println(user);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢å¹´é¾„åœ¨ 20 ~ 30 å²ä¹‹é—´çš„ç”¨æˆ·</span></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        wrapper.between(<span class="string">"age"</span>,<span class="number">20</span>,<span class="number">30</span>); <span class="comment">// åŒºé—´</span></span><br><span class="line">        Integer count = userMapper.selectCount(wrapper);<span class="comment">// æŸ¥è¯¢ç»“æœæ•°</span></span><br><span class="line">        System.out.println(count);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢å¹´é¾„åœ¨ 20 ~ 30 å²ä¹‹é—´çš„ç”¨æˆ·</span></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        <span class="comment">// å·¦å’Œå³  t%</span></span><br><span class="line">        wrapper</span><br><span class="line">                .notLike(<span class="string">"name"</span>,<span class="string">"e"</span>)</span><br><span class="line">                .likeRight(<span class="string">"email"</span>,<span class="string">"t"</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;Map&lt;String, Object&gt;&gt; maps = userMapper.selectMaps(wrapper);</span><br><span class="line">        maps.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ¨¡ç³ŠæŸ¥è¯¢</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">test5</span><span class="params">()</span></span>&#123;</span><br><span class="line">  <span class="comment">//æ¨¡ç³ŠæŸ¥è¯¢ </span></span><br><span class="line">    <span class="comment">// SELECT id,name,age,email,version,deleted,create_time,update_time </span></span><br><span class="line">    <span class="comment">//FROM user </span></span><br><span class="line">    <span class="comment">//WHERE deleted=0 AND id IN </span></span><br><span class="line">    <span class="comment">//(select id from user where id&lt;5)</span></span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        <span class="comment">// id åœ¨å­æŸ¥è¯¢ä¸­æŸ¥å‡ºæ¥</span></span><br><span class="line">        wrapper.inSql(<span class="string">"id"</span>,<span class="string">"select id from user where id&lt;3"</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;Object&gt; objects = userMapper.selectObjs(wrapper);</span><br><span class="line">        objects.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æµ‹è¯•å…­</span></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">test6</span><span class="params">()</span></span>&#123;</span><br><span class="line">        </span><br><span class="line">        QueryWrapper&lt;User&gt; wrapper = <span class="keyword">new</span> QueryWrapper&lt;&gt;();</span><br><span class="line">        <span class="comment">// é€šè¿‡idè¿›è¡Œæ’åº</span></span><br><span class="line">        wrapper.orderByAsc(<span class="string">"id"</span>);</span><br><span class="line"></span><br><span class="line">        List&lt;User&gt; users = userMapper.selectList(wrapper);</span><br><span class="line">        users.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong><em>Mysql =&gt; JDBC =&gt; Mybatis =&gt; MybatisPlus\</em></strong></p><h2 id="6-ä»£ç è‡ªåŠ¨ç”Ÿæˆ"><a href="#6-ä»£ç è‡ªåŠ¨ç”Ÿæˆ" class="headerlink" title="6.ä»£ç è‡ªåŠ¨ç”Ÿæˆ"></a>6.ä»£ç è‡ªåŠ¨ç”Ÿæˆ</h2><p>daoã€pojoã€serviceã€controlleréƒ½ç»™æˆ‘è‡ªå·±å»ç¼–å†™å®Œæˆï¼</p><p><code>AutoGenerator</code> æ˜¯ MyBatis-Plus çš„ä»£ç ç”Ÿæˆå™¨ï¼Œé€šè¿‡ <code>AutoGenerator</code> å¯ä»¥å¿«é€Ÿç”Ÿæˆ Entityã€Mapperã€Mapper XMLã€Serviceã€Controller ç­‰å„ä¸ªæ¨¡å—çš„ä»£ç ï¼Œæå¤§çš„æå‡äº†å¼€å‘æ•ˆç‡ã€‚åªéœ€è¦æ”¹å®ä½“ç±»åå­— å’ŒåŒ…å è¿˜æœ‰ æ•°æ®åº“é…ç½®å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.z;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.DbType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.FieldFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.IdType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.AutoGenerator;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.DataSourceConfig;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.GlobalConfig;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.PackageConfig;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.StrategyConfig;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.po.TableFill;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.rules.DateType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.rules.NamingStrategy;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="comment">//ä»£ç è‡ªåŠ¨ç”Ÿæˆå™¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WskCode</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//æˆ‘ä»¬éœ€è¦æ„å»ºä¸€ä¸ªä»£ç ç”Ÿæˆå™¨å¯¹è±¡</span></span><br><span class="line">        AutoGenerator mpg = <span class="keyword">new</span> AutoGenerator();</span><br><span class="line">        <span class="comment">//æ€ä¹ˆæ ·å»æ‰§è¡Œï¼Œé…ç½®ç­–ç•¥</span></span><br><span class="line">        <span class="comment">//1ã€å…¨å±€é…ç½®</span></span><br><span class="line">        GlobalConfig gc = <span class="keyword">new</span> GlobalConfig();</span><br><span class="line">        String projectPath = System.getProperty(<span class="string">"user.dir"</span>);<span class="comment">//è·å–å½“å‰ç›®å½•</span></span><br><span class="line">        gc.setOutputDir(projectPath+<span class="string">"/src/main/java"</span>);<span class="comment">//è¾“å‡ºåˆ°å“ªä¸ªç›®å½•</span></span><br><span class="line">        gc.setAuthor(<span class="string">"zjc"</span>);</span><br><span class="line">        gc.setOpen(<span class="keyword">false</span>);</span><br><span class="line">        gc.setFileOverride(<span class="keyword">false</span>);<span class="comment">//æ˜¯å¦è¦†ç›–</span></span><br><span class="line">        gc.setServiceName(<span class="string">"%sService"</span>);<span class="comment">//å»Serviceçš„Iå‰ç¼€</span></span><br><span class="line">        gc.setIdType(IdType.ID_WORKER);</span><br><span class="line">        gc.setDateType(DateType.ONLY_DATE);</span><br><span class="line">        gc.setSwagger2(<span class="keyword">true</span>);</span><br><span class="line">        mpg.setGlobalConfig(gc);</span><br><span class="line">        <span class="comment">//2ã€è®¾ç½®æ•°æ®æº</span></span><br><span class="line">        DataSourceConfig dsc = <span class="keyword">new</span> DataSourceConfig();</span><br><span class="line">        dsc.setUsername(<span class="string">"root"</span>);</span><br><span class="line">        dsc.setPassword(<span class="string">"123456"</span>);</span><br><span class="line">        dsc.setUrl(<span class="string">"jdbc:mysql://localhost:3306/mybatis_plus?useSSL=false&amp;serverTimezone=GMT%2B8&amp;useUnicode=true&amp;characterEncoding=utf-8"</span>);</span><br><span class="line">        dsc.setDriverName(<span class="string">"com.mysql.cj.jdbc.Driver"</span>);</span><br><span class="line">        dsc.setDbType(DbType.MYSQL);</span><br><span class="line">        mpg.setDataSource(dsc);</span><br><span class="line">        <span class="comment">//3ã€åŒ…çš„é…ç½®</span></span><br><span class="line">        PackageConfig pc = <span class="keyword">new</span> PackageConfig();</span><br><span class="line">        pc.setModuleName(<span class="string">"study"</span>);</span><br><span class="line">        pc.setParent(<span class="string">"com.zjc"</span>);</span><br><span class="line">        pc.setEntity(<span class="string">"pojo"</span>);</span><br><span class="line">        pc.setMapper(<span class="string">"mapper"</span>);</span><br><span class="line">        pc.setService(<span class="string">"service"</span>);</span><br><span class="line">        pc.setController(<span class="string">"controller"</span>);</span><br><span class="line">        mpg.setPackageInfo(pc);</span><br><span class="line">        <span class="comment">//4ã€ç­–ç•¥é…ç½®</span></span><br><span class="line">        StrategyConfig strategy = <span class="keyword">new</span> StrategyConfig();</span><br><span class="line">        strategy.setInclude(<span class="string">"admin"</span>,<span class="string">"danyuan"</span>,<span class="string">"building"</span>,<span class="string">"room"</span>);<span class="comment">//è®¾ç½®è¦æ˜ å°„çš„è¡¨å,åªéœ€æ”¹è¿™é‡Œå³å¯</span></span><br><span class="line">        strategy.setNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        strategy.setColumnNaming(NamingStrategy.underline_to_camel);</span><br><span class="line">        strategy.setEntityLombokModel(<span class="keyword">true</span>);<span class="comment">//æ˜¯å¦ä½¿ç”¨lombokå¼€å¯æ³¨è§£</span></span><br><span class="line">        strategy.setLogicDeleteFieldName(<span class="string">"deleted"</span>);</span><br><span class="line">        <span class="comment">//è‡ªåŠ¨å¡«å……é…ç½®</span></span><br><span class="line">        TableFill gmtCreate = <span class="keyword">new</span> TableFill(<span class="string">"gmt_create"</span>, FieldFill.INSERT);</span><br><span class="line">        TableFill gmtUpdate = <span class="keyword">new</span> TableFill(<span class="string">"gmt_update"</span>, FieldFill.INSERT_UPDATE);</span><br><span class="line">        ArrayList&lt;TableFill&gt; tableFills = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        tableFills.add(gmtCreate);</span><br><span class="line">        tableFills.add(gmtUpdate);</span><br><span class="line">        strategy.setTableFillList(tableFills);</span><br><span class="line">        <span class="comment">//ä¹è§‚é”é…ç½®</span></span><br><span class="line">        strategy.setVersionFieldName(<span class="string">"version"</span>);</span><br><span class="line">        strategy.setRestControllerStyle(<span class="keyword">true</span>);<span class="comment">//å¼€å¯é©¼å³°å‘½å</span></span><br><span class="line">        strategy.setControllerMappingHyphenStyle(<span class="keyword">true</span>);<span class="comment">//localhost:8080/hello_id_2</span></span><br><span class="line">        mpg.setStrategy(strategy);</span><br><span class="line">        mpg.execute();<span class="comment">//æ‰§è¡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ¨¡æ¿å¼•æ“ ä¾èµ–:mybatis-plusä»£ç ç”Ÿæˆçš„æ—¶å€™æŠ¥å¼‚å¸¸--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.velocity<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>velocity-engine-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--é…ç½®ApiModelåœ¨å®ä½“ç±»ä¸­ä¸ç”Ÿæ•ˆ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.spring4all<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-swagger<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.5.1.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--freemarker--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.freemarker<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>freemarker<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--beetl--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.ibeetl<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>beetl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.3.2.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
            <tag> Mybatis-Plus </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Spring5å­¦ä¹ ç¬”è®°</title>
      <link href="/2021/10/16/Spring5%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/"/>
      <url>/2021/10/16/Spring5%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</url>
      
        <content type="html"><![CDATA[<h1 id="1-Spring"><a href="#1-Spring" class="headerlink" title="1.Spring"></a>1.Spring</h1><a id="more"></a><h2 id="1-1-ç®€ä»‹"><a href="#1-1-ç®€ä»‹" class="headerlink" title="1.1 ç®€ä»‹"></a>1.1 ç®€ä»‹</h2><ul><li><p>Spring -&gt;æ˜¥å¤©ï¼Œä¸ºå¼€æºè½¯ä»¶å¸¦æ¥æ˜¥å¤©</p></li><li><p>2002ï¼Œé¦–æ¬¡é€€å‡ºäº†Springæ¡†æ¶çš„é›å½¢ï¼šinterface21æ¡†æ¶</p></li><li><p>Springæ¡†æ¶ä»¥interface21æ¡†æ¶ä¸ºåŸºç¡€ï¼Œç»è¿‡é‡æ–°è®¾è®¡ï¼Œå¹¶ä¸æ–­ä¸°å¯Œå…¶å†…æ¶µï¼Œäº2004å¹´3æœˆ24æ—¥å‘å¸ƒäº†1.0æ­£å¼ç‰ˆ</p></li><li><p>Springçš„å†å¹´ï¼šä½¿ç°æœ‰çš„æŠ€æœ¯æ›´åŠ å®¹æ˜“ä½¿ç”¨ï¼Œæœ¬èº«æ˜¯ä¸€ä¸ªå¤§æ‚çƒ©ï¼Œæ•´åˆäº†ç°æœ‰æŠ€æœ¯æ¡†æ¶ï¼</p></li><li><p>SSHï¼šStrut2 + Spring + Hibernateï¼ˆå…¨è‡ªåŠ¨æŒä¹…åŒ–æ¡†æ¶ï¼‰ï¼</p></li><li><p>SSMï¼šSpringMVC + Spring + MyBatisï¼ˆåŠè‡ªåŠ¨æŒä¹…åŒ–æ¡†æ¶ï¼Œå¯è‡ªå®šä¹‰æ€§è´¨æ›´å¼ºï¼‰</p></li></ul><p>  springå®˜ç½‘ï¼š <a href="https://spring.io/projects/spring-framework#overview" target="_blank" rel="noopener">https://spring.io/projects/spring-framework#overview</a><br>  å®˜æ–¹ä¸‹è½½ï¼š<a href="https://repo.spring.io/release/org/springframework/spring/" target="_blank" rel="noopener">https://repo.spring.io/release/org/springframework/spring/</a><br>  GitHubï¼š <a href="https://github.com/spring-projects/spring-framework" target="_blank" rel="noopener">https://github.com/spring-projects/spring-framework</a><br>  Spring Web MVCï¼š <a href="https://mvnrepository.com/artifact/org.springframework/spring-webmvc/5.2.7.RELEASE" target="_blank" rel="noopener">https://mvnrepository.com/artifact/org.springframework/spring-webmvc/5.2.7.RELEASE</a></p><p>Spring Web MVC å’Œ Spring-JDBCçš„pomé…ç½®æ–‡ä»¶</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- https:<span class="comment">//mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;5.2.7.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- https:<span class="comment">//mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;</span></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;5.2.7.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><h2 id="1-2-ä¼˜ç‚¹"><a href="#1-2-ä¼˜ç‚¹" class="headerlink" title="1.2 ä¼˜ç‚¹"></a>1.2 ä¼˜ç‚¹</h2><ul><li>Springæ˜¯ä¸€ä¸ªå¼€æºçš„å…è´¹æ¡†æ¶ï¼ˆå®¹å™¨ï¼‰ï¼</li><li>Springæ˜¯ä¸€ä¸ªè½»é‡çº§çš„ã€éå…¥ä¾µå¼çš„æ¡†æ¶ï¼</li><li>æ§åˆ¶åè½¬ï¼ˆIOCï¼‰ï¼Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰</li><li>æ”¯æŒäº‹åŠ¡å¤„ç†ï¼Œå¯¹æ¡†æ¶æ•´åˆçš„æ”¯æŒï¼ï¼ˆå‡ ä¹å¸‚é¢ä¸Šæ‰€æœ‰çƒ­é—¨çš„æ¡†æ¶éƒ½èƒ½æ•´åˆè¿›å»ï¼‰ï¼</li></ul><h1 id="Springå°±æ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬ï¼ˆIoCï¼‰å’Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰çš„æ¡†æ¶"><a href="#Springå°±æ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬ï¼ˆIoCï¼‰å’Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰çš„æ¡†æ¶" class="headerlink" title="Springå°±æ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬ï¼ˆIoCï¼‰å’Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰çš„æ¡†æ¶"></a>Springå°±æ˜¯ä¸€ä¸ªè½»é‡çº§çš„æ§åˆ¶åè½¬ï¼ˆIoCï¼‰å’Œé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰çš„æ¡†æ¶</h1><h2 id="1-3-ç»„æˆ"><a href="#1-3-ç»„æˆ" class="headerlink" title="1.3 ç»„æˆ"></a>1.3 ç»„æˆ</h2><p><img src="C:%5CUsers%5Czt%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210406162016538.png" alt="image-20210406162016538"></p><ul><li><p>æ ¸å¿ƒå®¹å™¨ï¼ˆSpringCoreï¼‰<br>æ ¸å¿ƒå®¹å™¨æä¾›Springæ¡†æ¶çš„åŸºæœ¬åŠŸèƒ½ã€‚springä»¥beançš„æ–¹å¼ç»„ç»‡å’Œç®¡ç†Javaåº”ç”¨çš„å„ä¸ªç»„ä»¶åŠå…¶å…³ç³»ï¼Œspringä½¿ç”¨BeanFactoryæ¥äº§ç”Ÿå’Œç®¡ç†Beanï¼Œæ˜¯å·¥å‚æ¨¡å¼çš„å®ç°ï¼ŒBeanFactoryä½¿ç”¨æ§åˆ¶åè½¬ï¼ˆIoCï¼‰æ¨¡å¼å°†åº”ç”¨çš„é…ç½®å’Œä¾èµ–æ€§è§„èŒƒä¸å®é™…çš„åº”ç”¨ç¨‹åºä»£ç åˆ†å¼€</p></li><li><p>åº”ç”¨ä¸Šä¸‹æ–‡ï¼ˆSpring Contextï¼‰</p><p>Springä¸Šä¸‹æ–‡æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå‘springæä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯ï¼Œspringä¸Šä¸‹æ–‡åŒ…æ‹¬ä¼ä¸šæœåŠ¡</p></li><li><p>Springé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆSpring AOPï¼‰<br>AOPï¼ˆAspect Oriented Programmingï¼‰é€šè¿‡é…ç½®ç®¡ç†ç‰¹æ€§ï¼ŒSpringAOPæ¨¡å—ç›´æ¥å°†é¢å‘æ–¹æ³•çš„ç¼–ç¨‹åŠŸèƒ½é›†æˆåœ¨äº†Springæ¡†æ¶ä¸­ï¼ŒSpringç®¡ç†çš„ä»»ä½•å¯¹è±¡éƒ½æ”¯æŒAOPï¼ŒSpringAOPæ¨¡å—åŸºäºSpringçš„åº”ç”¨ç¨‹åºä¸­çš„å¯¹è±¡æä¾›äº†äº‹åŠ¡ç®¡ç†æœåŠ¡ï¼Œé€šè¿‡ä½¿ç”¨SpringAOPï¼Œä¸ç”¨ä¾èµ–EJBç»„ä»¶ï¼Œå°±å¯ä»¥å°†å£°æ˜æ€§äº‹åŠ¡ç®¡ç†é›†æˆåœ¨åº”ç”¨ç¨‹åºä¸­</p></li><li><p>JDBCå’ŒDAOæ¨¡å—ï¼ˆSpring DAOï¼‰<br>Daoï¼ˆData Access Objectï¼‰<br>JDBCã€DAOçš„æŠ½è±¡å±‚ï¼Œæä¾›äº†æœ‰æ„ä¹‰çš„å¼‚å¸¸å±‚æ¬¡ç»“æ„å®ç°ï¼Œå¯ç”¨è¯¥ç»“æ„æ¥ç®¡ç†å¼‚å¸¸å¤„ç†ï¼Œå’Œä¸åŒæ•°æ®åº“æä¾›å•†æŠ›å‡ºçš„é”™è¯¯ä¿¡æ¯ï¼Œå¼‚å¸¸å±‚æ¬¡ç»“æ„ç®€åŒ–äº†é”™è¯¯å¤„ç†ï¼Œå¹¶ä¸”æå¤§çš„é™ä½äº†éœ€è¦ç¼–å†™çš„ä»£ç æ•°é‡ï¼Œæ¯”å¦‚æ‰“å¼€å’Œå…³é—­é“¾æ¥ã€‚</p></li><li><p>å¯¹è±¡å®ä½“æ˜ å°„ï¼ˆSpring ORMï¼‰<br>ORMï¼ˆObject Relational Mappingï¼‰<br>Springæ’å…¥äº†è‹¥å¹²ä¸ªORMæ¡†æ¶ï¼Œæä¾›äº†ORMå¯¹è±¡çš„å…³ç³»å·¥å…·ï¼Œå…¶ä¸­åŒ…æ‹¬Hibernateï¼ŒJDOå’ŒIBatisSQL Mapç­‰ï¼Œæ‰€æœ‰è¿™äº›éƒ½éµä»Springçš„é€šç”¨äº‹åŠ¡å’ŒDAOå¼‚å¸¸å±‚æ¬¡ç»“æ„</p></li><li><p>Webæ¨¡å—ï¼ˆSpring Webï¼‰<br>webä¸Šä¸‹æ–‡æ¨¡å—å»ºç«‹åº”ç”¨ç¨‹åºä¸Šä¸‹æ–‡æ¨¡å—ä¹‹ä¸Šï¼ŒåŸºäºwebçš„åº”ç”¨ç¨‹åºæä¾›äº†ä¸Šä¸‹æ–‡ï¼Œæ‰€ä»¥springæ¡†æ¶æ”¯æŒä¸Strutsé›†æˆï¼Œwebæ¨¡å—è¿˜ç®€åŒ–äº†å¤„ç†å¤šéƒ¨åˆ†è¯·æ±‚ä»¥åŠå°†è¯·æ±‚å‚æ•°ç»‘å®šåˆ°åŸŸå¯¹è±¡çš„å·¥ä½œ</p></li><li><p>MVCæ¨¡å—ï¼ˆSpringWebMVCï¼‰<br>MVCï¼ˆModel View Controllerï¼‰<br>MVCæ¡†æ¶æ˜¯ä¸€ä¸ªå…¨åŠŸèƒ½çš„æ„å»ºWebåº”ç”¨ç¨‹åºçš„MVCå®ç°ï¼Œé€šè¿‡ç­–ç•¥æ¥å£ï¼ŒMVCæ¡†æ¶ç¼–ç¨‹é«˜åº¦å¯é…ç½®çš„ï¼ŒMVCå®¹çº³äº†å¤§é‡è§†å›¾æŠ€æœ¯ï¼Œå…¶ä¸­åŒ…æ‹¬JSPï¼ŒPOIç­‰ï¼Œæ¨¡å‹ç”±JavaBeanæ¥æ„æˆï¼Œå­˜æ”¾äºmå½“ä¸­ï¼Œè€Œè§†å›¾æ˜¯ä¸€ä¸ªæ¥å£ï¼Œè´Ÿè´£å®ç°æ¨¡å‹ï¼Œæ§åˆ¶å™¨è¡¨ç¤ºé€»è¾‘ä»£ç ï¼Œç”±cçš„äº‹æƒ…ã€‚springæ¡†æ¶çš„åŠŸèƒ½å¯ä»¥ç”¨åœ¨ä»»ä½•J2EEæœåŠ¡å™¨å½“ä¸­ï¼Œå¤§å¤šæ•°åŠŸèƒ½ä¹Ÿé€‚ç”¨äºä¸å—ç®¡ç†çš„ç¯å¢ƒï¼Œspringçš„æ ¸å¿ƒè¦ç‚¹å°±æ˜¯æ”¯æŒä¸ç»‘å®šåˆ°ç‰¹å®šJ2EEæœåŠ¡çš„å¯é‡ç”¨ä¸šåŠ¡å’Œæ•°æ®çš„è®¿é—®å¯¹è±¡ï¼Œæ¯«æ— ç–‘é—®è¿™æ ·çš„å¯¹è±¡å¯ä»¥åœ¨ä¸åŒçš„J2EEç¯å¢ƒï¼Œç‹¬ç«‹åº”ç”¨ç¨‹åºå’Œæµ‹è¯•ç¯å¢ƒä¹‹é—´é‡ç”¨</p><h2 id="1-4-æ‰©å±•"><a href="#1-4-æ‰©å±•" class="headerlink" title="1.4 æ‰©å±•"></a>1.4 æ‰©å±•</h2></li></ul><p>â€‹       ç°ä»£åŒ–çš„javaå¼€å‘ -&gt; åŸºäºSpringçš„å¼€å‘ï¼</p><p><img src="https://img-blog.csdnimg.cn/20210219105640795.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvdXJfb3Jhbmdl,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="Spring-Boot"><a href="#Spring-Boot" class="headerlink" title="Spring Boot"></a>Spring Boot</h3><p>ä¸€ä¸ªå¿«é€Ÿå¼€å‘çš„è„šæ‰‹æ¶<br>åŸºäºSpringBootå¯ä»¥å¿«é€Ÿå¼€å‘å•ä¸ªå¾®æœåŠ¡<br>çº¦å®šå¤§äºé…ç½®ï¼</p><h3 id="Spring-Cloud"><a href="#Spring-Cloud" class="headerlink" title="Spring Cloud"></a>Spring Cloud</h3><p>SpringCloudæ˜¯åŸºäºSpringBootå®ç°çš„ï¼<br>å› ä¸ºç°åœ¨å¤§å¤šæ•°å…¬å¸éƒ½åœ¨ä½¿ç”¨SpringBootè¿›è¡Œå¿«é€Ÿå¼€å‘ï¼Œå­¦ä¹ SpringBootçš„å‰æï¼Œéœ€è¦å®Œå…¨æŒæ¡SpringåŠSpringMVCï¼æ‰¿ä¸Šå¯ä¸‹çš„ä½œç”¨ï¼</p><h1 id="2-IoC-æ§åˆ¶åè½¬-ç†è®ºæŒ‡å¯¼"><a href="#2-IoC-æ§åˆ¶åè½¬-ç†è®ºæŒ‡å¯¼" class="headerlink" title="2 .IoC(æ§åˆ¶åè½¬)ç†è®ºæŒ‡å¯¼"></a>2 .IoC(æ§åˆ¶åè½¬)ç†è®ºæŒ‡å¯¼</h1><h2 id="2-1-ä¼ ç»Ÿçš„è°ƒç”¨"><a href="#2-1-ä¼ ç»Ÿçš„è°ƒç”¨" class="headerlink" title="2.1 ä¼ ç»Ÿçš„è°ƒç”¨"></a>2.1 ä¼ ç»Ÿçš„è°ƒç”¨</h2><p>1.UserDao</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> dao;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserDao</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getUser</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.UserDaoImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> dao;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserDaoImpl</span> <span class="keyword">implements</span> <span class="title">UserDao</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"é»˜è®¤è·å–ç”¨æˆ·æ•°æ®"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.UserService</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Service;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">getUser</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.UserServiceImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Service;</span><br><span class="line"><span class="keyword">import</span> dao.UserDao;</span><br><span class="line"><span class="keyword">import</span> dao.UserDaoImpl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span></span>&#123;</span><br><span class="line">UserDao userDao = <span class="keyword">new</span> UserDaoImpl();</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getUser</span><span class="params">()</span></span>&#123;</span><br><span class="line">userDao.getUser();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> holle0;</span><br><span class="line"><span class="keyword">import</span> Service.UserService;</span><br><span class="line"><span class="keyword">import</span> Service.UserServiceImpl;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest0</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">// ç”¨æˆ·å®é™…è°ƒç”¨çš„æ˜¯ä¸šåŠ¡å±‚ï¼Œdaoå±‚ä»–ä»¬ä¸éœ€è¦æ¥è§¦</span></span><br><span class="line">UserService userService = <span class="keyword">new</span> UserServiceImpl();</span><br><span class="line">userService.getUser();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æˆ‘ä»¬ä¹‹å‰çš„ä¸šåŠ¡ä¸­ï¼Œç”¨æˆ·çš„éœ€æ±‚å¯èƒ½ä¼šå½±å“æˆ‘ä»¬åŸæ¥çš„ä»£ç ï¼Œæˆ‘ä»¬éœ€è¦æ ¹æ®ç”¨æˆ·çš„éœ€æ±‚å»ä¿®æ”¹åŸä»£ç ï¼å¦‚æœç¨‹åºä»£ç é‡ååˆ†å¤§ï¼Œä¿®æ”¹ä¸€æ¬¡çš„æˆæœ¬ä»£ä»·ååˆ†æ˜‚è´µï¼</p><p>éœ€è¦æ‰‹åŠ¨å»new UserServiceImpl()</p><p><img src="https://img-blog.csdnimg.cn/20210219110615998.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="2-2-æ”¹è¿›"><a href="#2-2-æ”¹è¿›" class="headerlink" title="2.2 æ”¹è¿›"></a>2.2 æ”¹è¿›</h2><p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªSetæ¥å£å®ç°ã€‚å·²ç»å‘ç”Ÿäº†é©å‘½æ€§çš„å˜åŒ–ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨Serviceå±‚çš„å®ç°ç±»(UserServiceImpl)å¢åŠ ä¸€ä¸ªSet()æ–¹æ³•</span></span><br><span class="line"><span class="comment">//åˆ©ç”¨setåŠ¨æ€å®ç°å€¼çš„æ³¨å…¥ï¼</span></span><br><span class="line"><span class="comment">//DAOå±‚å¹¶ä¸å†™æ­»å›ºå®šè°ƒç”¨å“ªä¸€ä¸ªUserDaoçš„å®ç°ç±»</span></span><br><span class="line"><span class="comment">//è€Œæ˜¯é€šè¿‡Serviceå±‚è°ƒç”¨æ–¹æ³•è®¾ç½®å®ç°ç±»ï¼</span></span><br><span class="line"><span class="keyword">private</span> UserDao userDao;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setUserDao</span><span class="params">(UserDao userDao)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.userDao = userDao;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>set() æ–¹æ³•å®é™…ä¸Šæ˜¯åŠ¨æ€æ”¹å˜äº† UserDao userDao çš„ åˆå§‹åŒ–éƒ¨åˆ†ï¼ˆnew UserDaoImpl()ï¼‰<br>((UserServiceImpl)userService).setUserDao(new UserDaoImpl());</p><ul><li><p>ä¹‹å‰ï¼Œç¨‹åºæ˜¯ä¸»åŠ¨åˆ›å»ºå¯¹è±¡ï¼æ§åˆ¶æƒåœ¨ç¨‹åºçŒ¿æ‰‹ä¸Šï¼</p></li><li><p>ä½¿ç”¨äº†setæ³¨å…¥åï¼Œç¨‹åºä¸å†å…·æœ‰ä¸»åŠ¨æ€§ï¼Œè€Œæ˜¯å˜æˆäº†è¢«åŠ¨çš„æ¥å—å¯¹è±¡ï¼ï¼ˆä¸»åŠ¨æƒåœ¨å®¢æˆ·æ‰‹ä¸Šï¼‰</p></li></ul><p>  æœ¬è´¨ä¸Šè§£å†³äº†é—®é¢˜ï¼Œç¨‹åºå‘˜ä¸ç”¨å†å»ç®¡ç†å¯¹è±¡çš„åˆ›å»º,ç³»ç»Ÿçš„è€¦åˆæ€§å¤§å¤§é™ä½ï¼Œå¯ä»¥æ›´ä¸“æ³¨åœ¨ä¸šåŠ¡çš„å®ç°ä¸Š</p><p>â€‹        è¿™æ˜¯IoCï¼ˆæ§åˆ¶åè½¬ï¼‰çš„åŸå‹ï¼Œåè½¬(ç†è§£)ï¼šä¸»åŠ¨æƒäº¤ç»™äº†ç”¨æˆ·</p><p><img src="https://img-blog.csdnimg.cn/20210219111029562.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvdXJfb3Jhbmdl,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>æ³¨ï¼šè¿™é‡Œçš„ç”¨æˆ·å®é™…ä¸Šæ˜¯ä½¿ç”¨ä»£ç çš„äººï¼Œä¸æ˜¯ä¸å†™ä»£ç çš„å®¢æˆ·</p><h4 id="ä½¿ç”¨IOC"><a href="#ä½¿ç”¨IOC" class="headerlink" title="ä½¿ç”¨IOC:"></a>ä½¿ç”¨IOC:</h4><p><img src="C:%5CUsers%5Czt%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210407101810695.png" alt="image-20210407101810695"></p><p><img src="C:%5CUsers%5Czt%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210407101915007.png" alt="image-20210407101915007"></p><h2 id="2-3-IOCæœ¬è´¨"><a href="#2-3-IOCæœ¬è´¨" class="headerlink" title="2.3 IOCæœ¬è´¨"></a>2.3 IOCæœ¬è´¨</h2><p>æ§åˆ¶åè½¬ IOCï¼ˆInversion of Controlï¼‰æ˜¯ä¸€ç§ç¨‹åºè®¾è®¡æ€æƒ³ï¼ŒDIï¼ˆä¾èµ–æ³¨å…¥ï¼‰æ˜¯å®ç°IOCçš„ä¸€ç§æ–¹æ³•ï¼Œä¹Ÿæœ‰äººè®¤ä¸ºDIåªæ˜¯IOCçš„å¦ä¸€ç§è¯´æ³•ã€‚æ²¡æœ‰IOCçš„ç¨‹åºä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼Œå¯¹è±¡çš„åˆ›å»ºäºå¯¹è±¡é—´çš„ä¾èµ–å…³ç³»å®Œå…¨ç¡¬ç¼–ç åœ¨ç¨‹åºä¸­ï¼Œå¯¹è±¡çš„åˆ›å»ºç”±ç¨‹åºè‡ªå·±æ§åˆ¶ï¼Œæ§åˆ¶åè½¬åå°†å¯¹è±¡çš„åˆ›å»ºè½¬ç§»ç»™ç¬¬ä¸‰æ–¹ï¼Œä¸ªäººè®¤ä¸ºæ‰€è°“æ§åˆ¶åè½¬å°±æ˜¯ï¼šè·å¾—ä¾èµ–å¯¹è±¡çš„æ–¹å¼åè½¬äº†ã€‚</p><p><img src="https://img-blog.csdnimg.cn/2021021911171321.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="https://img-blog.csdnimg.cn/20210219111801280.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvdXJfb3Jhbmdl,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h1 id="3-HelloSpring"><a href="#3-HelloSpring" class="headerlink" title="3. HelloSpring"></a>3. HelloSpring</h1><p>pomä¸­å¼•å…¥ä¾èµ–</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- https:<span class="comment">//mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">&lt;groupId&gt;org.springframework&lt;/groupId&gt;</span><br><span class="line">&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;</span><br><span class="line">&lt;version&gt;5.2.7.RELEASE&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p>Hello:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.zjc.pojo;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Hello</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> String str;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getStr</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> str;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setStr</span><span class="params">(String str)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.str = str;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Hello&#123;"</span> +</span><br><span class="line">      <span class="string">"str='"</span> + str + <span class="string">'\''</span> +</span><br><span class="line">      <span class="string">'&#125;'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>beans.xml:</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="string">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">       xmlns:xsi=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">       xsi:schemaLocation=<span class="string">"http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;!--åœ¨Springä¸­åˆ›å»ºå¯¹è±¡ï¼Œåœ¨Springè¿™äº›éƒ½ç§°ä¸ºbean</span><br><span class="line">    ç±»å‹ å˜é‡å = <span class="keyword">new</span> ç±»å‹();</span><br><span class="line">    Holle holle = <span class="keyword">new</span> Holle();</span><br><span class="line">    </span><br><span class="line">    bean = å¯¹è±¡(holle)</span><br><span class="line">    id = å˜é‡å(holle)</span><br><span class="line">    <span class="class"><span class="keyword">class</span> </span>= <span class="keyword">new</span>çš„å¯¹è±¡(<span class="keyword">new</span> Holle();)</span><br><span class="line">    property ç›¸å½“äºç»™å¯¹è±¡ä¸­çš„å±æ€§è®¾å€¼,è®©str=<span class="string">"Spring"</span></span><br><span class="line">    --&gt;</span><br><span class="line">    <span class="comment">//xmlä¾èµ–æ³¨å…¥argæ˜¯é€šè¿‡æ„é€ å‡½æ•°propertyæ˜¯é€šè¿‡seteræ–¹æ³•ï¼ŒNameå±æ€§è¦å’Œseteræ–¹æ³•åé¢çš„åå­—ç›¸åŒ</span></span><br><span class="line">    &lt;bean id=<span class="string">"hello"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"com.kaung.pojo.Hello"</span>&gt;</span><br><span class="line">        &lt;property name=<span class="string">"str"</span> value=<span class="string">"Spring"</span>/&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç±»MyTest:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pojo.Hello;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"><span class="comment">//è·å–Springçš„ä¸Šä¸‹æ–‡å¯¹è±¡</span></span><br><span class="line">ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line"><span class="comment">//æˆ‘ä»¬çš„å¯¹è±¡ä¸‹èƒ½åœ¨éƒ½åœ¨springÂ·ä¸­ç®¡ç†äº†ï¼Œæˆ‘ä»¬è¦ä½¿ç”¨ï¼Œç›´æ¥å–å‡ºæ¥å°±å¯ä»¥äº†</span></span><br><span class="line">Hello holle = (Hello) context.getBean(<span class="string">"hello"</span>);</span><br><span class="line"><span class="comment">//æ­¤æ–¹å¼å¯ä»¥é¿å…å¼ºè½¬</span></span><br><span class="line"><span class="comment">//Hello holle = context.getBean("hello",Hello.class);</span></span><br><span class="line">System.out.println(holle.toString());</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ClassPathXmlApplicationContextç»§æ‰¿æ ‘ï¼ˆctrl-hï¼‰"><a href="#ClassPathXmlApplicationContextç»§æ‰¿æ ‘ï¼ˆctrl-hï¼‰" class="headerlink" title="ClassPathXmlApplicationContextç»§æ‰¿æ ‘ï¼ˆctrl+hï¼‰"></a>ClassPathXmlApplicationContextç»§æ‰¿æ ‘ï¼ˆctrl+hï¼‰</h4><p><img src="C:%5CUsers%5Czt%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210407095011752.png" alt="image-20210407095011752"></p><h4 id="ClassPathXmlApplicationContextç»§æ‰¿æ¥å£å®ç°ç±»ï¼ˆCtrl-Alt-uï¼‰"><a href="#ClassPathXmlApplicationContextç»§æ‰¿æ¥å£å®ç°ç±»ï¼ˆCtrl-Alt-uï¼‰" class="headerlink" title="ClassPathXmlApplicationContextç»§æ‰¿æ¥å£å®ç°ç±»ï¼ˆCtrl+Alt+uï¼‰"></a>ClassPathXmlApplicationContextç»§æ‰¿æ¥å£å®ç°ç±»ï¼ˆCtrl+Alt+uï¼‰</h4><p><img src="C:%5CUsers%5Czt%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210407095604551.png" alt="image-20210407095604551"></p><p><img src="C:%5CUsers%5Czt%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210406214700035.png" alt="image-20210406214700035"></p><p>é€šä¿—ç†è§£ï¼š<br>åŸæ¥è¿™å¥—ç¨‹åºæ˜¯ï¼šä½ å†™å¥½èœå•ä¹°å¥½èœï¼Œå®¢äººæ¥äº†è‡ªå·±æŠŠèœç‚’å¥½æ‹›å¾…ï¼Œå°±ç›¸å½“äºä½ è¯·äººåƒé¥­<br>ç°åœ¨è¿™å¥—ç¨‹åºæ˜¯ï¼šä½ å‘Šè¯‰æ¥¼ä¸‹é¤å…ï¼Œä½ è¦å“ªäº›èœï¼Œå®¢äººæ¥çš„æ—¶å€™ï¼Œé¤å…æŠŠåšå¥½çš„ä½ éœ€è¦çš„èœé€ä¸Šæ¥<br>IoCï¼šç‚’èœè¿™ä»¶äº‹ï¼Œä¸å†ç”±ä½ è‡ªå·±æ¥åšï¼Œè€Œæ˜¯å§”æ‰˜ç»™äº†ç¬¬ä¸‰æ–¹__é¤å…æ¥åš</p><p>æ­¤æ—¶çš„åŒºåˆ«å°±æ˜¯ï¼Œå¦‚æœæˆ‘è¿˜éœ€è¦åšå…¶ä»–çš„èœï¼Œæˆ‘ä¸éœ€è¦è‡ªå·±æèœè°±ä¹°ææ–™å†åšå¥½ï¼Œè€Œæ˜¯å‘Šè¯‰é¤å…ï¼Œæˆ‘è¦ä»€ä¹ˆèœï¼Œä»€ä¹ˆæ—¶å€™è¦ï¼Œä½ åšå¥½é€æ¥</p><h1 id="4-IoCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼"><a href="#4-IoCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼" class="headerlink" title="4. IoCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼"></a>4. IoCåˆ›å»ºå¯¹è±¡çš„æ–¹å¼</h1><p><strong>æ–¹å¼ä¸€ï¼šä½¿ç”¨æ— å‚æ„é€ åˆ›å»ºå¯¹è±¡ï¼ˆé»˜è®¤ï¼‰</strong><br><strong>æ–¹å¼äºŒï¼šä½¿ç”¨æœ‰å‚æ„é€ åˆ›å»ºå¯¹è±¡:ä¸‹é¢ä»‹ç»</strong><br>å®ä½“ç±»User</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.spring.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"User&#123;"</span> +</span><br><span class="line">                <span class="string">"name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>ä¸‹æ ‡èµ‹å€¼ï¼š</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml </span><br><span class="line">version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">      xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">      xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans</span><br><span class="line">       https:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd&quot;&gt;</span><br><span class="line"></span><br><span class="line">   &lt;bean id&#x3D;&quot;user&quot; class&#x3D;&quot;pojo.User&quot;&gt;</span><br><span class="line">       &lt;constructor-arg index&#x3D;&quot;0&quot; value&#x3D;&quot;zjc&quot;&#x2F;&gt;</span><br><span class="line">   &lt;&#x2F;bean&gt;</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­indexæŒ‡çš„æ˜¯æœ‰å‚æ„é€ ä¸­å‚æ•°çš„ä¸‹æ ‡ï¼Œä¸‹æ ‡ä»0å¼€å§‹</p></li><li><p>ç±»å‹èµ‹å€¼ï¼ˆä¸å»ºè®®ï¼‰</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=<span class="string">"user"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pojo.User"</span>&gt;</span><br><span class="line">    &lt;constructor-arg type=<span class="string">"java.lang.String"</span> value=<span class="string">"zjc"</span>/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br></pre></td></tr></table></figure></li></ul><ul><li><p>ç›´æ¥é€šè¿‡å‚æ•°åï¼ˆæŒæ¡ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=<span class="string">"user"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pojo.User"</span>&gt;</span><br><span class="line">    &lt;constructor-arg name="name" value="zjc"&gt;&lt;/constructor-arg&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line">&lt;!-- æ¯”å¦‚å‚æ•°åæ˜¯nameï¼Œåˆ™æœ‰name=<span class="string">"å…·ä½“å€¼"</span> --&gt;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æ€»ç»“ï¼šåœ¨é…ç½®æ–‡ä»¶åŠ è½½çš„æ—¶å€™ï¼Œå®¹å™¨(&lt; bean&gt;)ä¸­ç®¡ç†çš„å¯¹è±¡å°±å·²ç»åˆå§‹åŒ–äº†</strong></p><h1 id="5-Springé…ç½®"><a href="#5-Springé…ç½®" class="headerlink" title="5. Springé…ç½®"></a>5. Springé…ç½®</h1><h2 id="5-1-åˆ«å"><a href="#5-1-åˆ«å" class="headerlink" title="5.1 åˆ«å"></a>5.1 åˆ«å</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id=<span class="string">"user"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pojo.User"</span>&gt;</span><br><span class="line">    &lt;constructor-arg name="name" value="chen"&gt;&lt;/constructor-arg&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">&lt;alias name=<span class="string">"user"</span> alias=<span class="string">"userLove"</span>/&gt;</span><br><span class="line">&lt;!-- ä½¿ç”¨æ—¶</span><br><span class="line">User user2 = (User) context.getBean(<span class="string">"userLove"</span>);</span><br><span class="line">--&gt;</span><br></pre></td></tr></table></figure><h2 id="5-2-Beançš„é…ç½®"><a href="#5-2-Beançš„é…ç½®" class="headerlink" title="5.2 Beançš„é…ç½®"></a>5.2 Beançš„é…ç½®</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--idï¼šbeançš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œä¹Ÿå°±æ˜¯ç›¸å½“äºæˆ‘ä»¬å­¦çš„å¯¹è±¡å</span><br><span class="line"><span class="class"><span class="keyword">class</span>ï¼š<span class="title">bean</span>å¯¹è±¡æ‰€å¯¹åº”çš„ä¼šé™å®šåï¼šåŒ…å+ç±»å‹</span></span><br><span class="line"><span class="class"><span class="title">name</span>ï¼šä¹Ÿæ˜¯åˆ«åï¼Œè€Œä¸”<span class="title">name</span>å¯ä»¥åŒæ—¶å–å¤šä¸ªåˆ«å --&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">bean</span> <span class="title">id</span></span>=<span class="string">"user"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pojo.User"</span> name=<span class="string">"u1 u2,u3;u4"</span>&gt;</span><br><span class="line">    &lt;property name=<span class="string">"name"</span> value=<span class="string">"chen"</span>/&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line">&lt;!-- ä½¿ç”¨æ—¶</span><br><span class="line">User user2 = (User) context.getBean(<span class="string">"u1"</span>);</span><br><span class="line">--&gt;</span><br></pre></td></tr></table></figure><p>nameé‡Œé¢çš„åˆ†éš”ç¬¦å¯ä»¥æ˜¯ï¼šç©ºæ ¼ é€—å· åˆ†å·ç­‰</p><h2 id="5-3-import"><a href="#5-3-import" class="headerlink" title="5.3 import"></a>5.3 import</h2><p>importä¸€èˆ¬ç”¨äºå›¢é˜Ÿå¼€å‘ä½¿ç”¨ï¼Œå®ƒå¯ä»¥å°†å¤šä¸ªé…ç½®æ–‡ä»¶ï¼Œå¯¼å…¥åˆå¹¶ä¸ºä¸€ä¸ª</p><p>å‡è®¾ï¼Œç°åœ¨é¡¹ç›®ä¸­æœ‰å¤šä¸ªäººå¼€å‘ï¼Œè¿™ä¸‰ä¸ªäººå¤åˆ¶ä¸åŒçš„ç±»å¼€å‘ï¼Œä¸åŒçš„ç±»éœ€è¦æ³¨å†Œåœ¨ä¸åŒçš„beanä¸­ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©<br>ç”¨importå°†æ‰€æœ‰äººçš„beans.xmlåˆå¹¶ä¸ºä¸€ä¸ªæ€»çš„ï¼</p><ul><li><p>å¼ ä¸‰(beans.xm1)</p></li><li><p>æå››(beans2.xm1)</p></li><li><p>ç‹äº”(beans3.xm1)</p></li><li><p>applicationContext.xml</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">import</span> resource=<span class="string">"beans.xm1"</span>/&gt;</span><br><span class="line">&lt;<span class="keyword">import</span> resource=<span class="string">"beans2.xml"</span>/&gt;</span><br><span class="line">&lt;<span class="keyword">import</span> resource=<span class="string">"beans3.xm1"</span>/&gt;</span><br></pre></td></tr></table></figure></li></ul><p><strong>ä½¿ç”¨çš„æ—¶å€™ï¼Œç›´æ¥ä½¿ç”¨æ€»çš„é…ç½®å°±å¯ä»¥äº†</strong><br>æ³¨ï¼šæŒ‰ç…§åœ¨æ€»çš„xmlä¸­çš„å¯¼å…¥é¡ºåºæ¥è¿›è¡Œåˆ›å»ºï¼Œåå¯¼å…¥çš„ä¼šé‡å†™å…ˆå¯¼å…¥çš„ï¼Œæœ€ç»ˆå®ä¾‹åŒ–çš„å¯¹è±¡ä¼šæ˜¯åå¯¼å…¥xmlä¸­çš„é‚£ä¸ª</p><h1 id="6-ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰"><a href="#6-ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰" class="headerlink" title="6 ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰"></a>6 ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰</h1><ul><li>ä¾èµ–ï¼šbeanå¯¹è±¡çš„åˆ›å»ºä¾èµ–äºå®¹å™¨</li><li>æ³¨å…¥ï¼šbeanå¯¹è±¡ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œç”±å®¹å™¨æ¥æ³¨å…¥</li></ul><h2 id="6-1-æ„é€ å™¨æ³¨å…¥"><a href="#6-1-æ„é€ å™¨æ³¨å…¥" class="headerlink" title="6.1 æ„é€ å™¨æ³¨å…¥"></a>6.1 æ„é€ å™¨æ³¨å…¥</h2><p>å‚è€ƒ4. Iocåˆ›å»ºå¯¹è±¡çš„æ–¹å¼</p><h2 id="6-2-setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘"><a href="#6-2-setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘" class="headerlink" title="6.2 setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘"></a>6.2 setæ–¹å¼æ³¨å…¥ã€é‡ç‚¹ã€‘</h2><h3 id="6-2-1åˆ›å»ºStudentç±»-ä¸-Addressç±»"><a href="#6-2-1åˆ›å»ºStudentç±»-ä¸-Addressç±»" class="headerlink" title="6.2.1åˆ›å»ºStudentç±» ä¸ Addressç±»"></a>6.2.1åˆ›å»ºStudentç±» ä¸ Addressç±»</h3><p>Addressç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Address</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String address;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(String address)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.address = address;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"Address&#123;"</span> +</span><br><span class="line">                <span class="string">"address='"</span> + address + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Studentç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.pojo;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Student</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="keyword">private</span> Address address;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> String[] books;</span><br><span class="line">  <span class="keyword">private</span> List&lt;String&gt; hobbies;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> Map&lt;String, String&gt; card;</span><br><span class="line">  <span class="keyword">private</span> Set&lt;String&gt; game;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> Properties infor;</span><br><span class="line">  <span class="keyword">private</span> String wife;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Address <span class="title">getAddress</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> address;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAddress</span><span class="params">(Address address)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.address = address;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> String[] getBooks() &#123;</span><br><span class="line">    <span class="keyword">return</span> books;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setBooks</span><span class="params">(String[] books)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.books = books;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getHobbies</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> hobbies;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setHobbies</span><span class="params">(List&lt;String&gt; hobbies)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.hobbies = hobbies;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Map&lt;String, String&gt; <span class="title">getCard</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> card;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCard</span><span class="params">(Map&lt;String, String&gt; card)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.card = card;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Set&lt;String&gt; <span class="title">getGame</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> game;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setGame</span><span class="params">(Set&lt;String&gt; game)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.game = game;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> Properties <span class="title">getInfor</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> infor;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setInfor</span><span class="params">(Properties infor)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.infor = infor;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getWife</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> wife;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setWife</span><span class="params">(String wife)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.wife = wife;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"Student&#123;"</span> +<span class="string">"\n"</span>+</span><br><span class="line">      <span class="string">"name='"</span> + name + <span class="string">'\''</span> +<span class="string">"\n"</span>+</span><br><span class="line">      <span class="string">", address="</span> + address.toString() +<span class="string">"\n"</span>+</span><br><span class="line">      <span class="string">", books="</span> + Arrays.toString(books) +<span class="string">"\n"</span>+</span><br><span class="line">      <span class="string">", hobbies="</span> + hobbies +<span class="string">"\n"</span>+</span><br><span class="line">      <span class="string">", card="</span> + card +<span class="string">"\n"</span>+</span><br><span class="line">      <span class="string">", game="</span> + game +<span class="string">"\n"</span>+</span><br><span class="line">      <span class="string">", infor="</span> + infor +<span class="string">"\n"</span>+</span><br><span class="line">      <span class="string">", wife='"</span> + wife + <span class="string">'\''</span> +<span class="string">"\n"</span>+</span><br><span class="line">      <span class="string">'&#125;'</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="6-2-2-é…ç½®beans-xml"><a href="#6-2-2-é…ç½®beans-xml" class="headerlink" title="6.2.2 é…ç½®beans.xml"></a>6.2.2 é…ç½®beans.xml</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="string">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">       xmlns:xsi=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">       xsi:schemaLocation=<span class="string">"http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span><br><span class="line">  &lt;bean id=<span class="string">"address"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"com.kuang.pojo.Address"</span>&gt;</span><br><span class="line">    &lt;property name=<span class="string">"address"</span> value=<span class="string">"å•¦å•¦å•¦"</span>/&gt;</span><br><span class="line">  &lt;/bean&gt;</span><br><span class="line">  &lt;bean id=<span class="string">"student"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"com.kuang.pojo.Student"</span>&gt;</span><br><span class="line">    &lt;!--ç¬¬ä¸€ç§ï¼Œæ™®é€šå€¼æ³¨å…¥ --&gt;</span><br><span class="line">    &lt;property name=<span class="string">"name"</span> value=<span class="string">"nameä½ å¥½"</span> /&gt;</span><br><span class="line">    &lt;!--ç¬¬äºŒç§ï¼Œrefæ³¨å…¥ --&gt;</span><br><span class="line">    &lt;property name=<span class="string">"address"</span> ref=<span class="string">"address"</span> /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--æ•°ç»„æ³¨å…¥ --&gt;</span><br><span class="line">    &lt;property name=<span class="string">"books"</span>&gt;</span><br><span class="line">      &lt;array&gt;</span><br><span class="line">        &lt;value&gt;ä¸‰å›½&lt;/value&gt;</span><br><span class="line">        &lt;value&gt;è¥¿æ¸¸&lt;/value&gt;</span><br><span class="line">        &lt;value&gt;æ°´æµ’&lt;/value&gt;</span><br><span class="line">      &lt;/array&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--liståˆ—è¡¨æ³¨å…¥ --&gt;</span><br><span class="line">    &lt;property name=<span class="string">"hobbies"</span>&gt;</span><br><span class="line">      &lt;list&gt;</span><br><span class="line">        &lt;value&gt;å”±&lt;/value&gt;</span><br><span class="line">        &lt;value&gt;è·³&lt;/value&gt;</span><br><span class="line">        &lt;value&gt;rap&lt;/value&gt;</span><br><span class="line">        &lt;value&gt;ç¯®çƒ&lt;/value&gt;</span><br><span class="line">      &lt;/list&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--mapé”®å€¼å¯¹æ³¨å…¥ --&gt;</span><br><span class="line">    &lt;property name=<span class="string">"card"</span>&gt;</span><br><span class="line">      &lt;map&gt;</span><br><span class="line">        &lt;entry key=<span class="string">"username"</span> value=<span class="string">"root"</span> /&gt;</span><br><span class="line">        &lt;entry key=<span class="string">"password"</span> value=<span class="string">"root"</span> /&gt;</span><br><span class="line">      &lt;/map&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--set(å¯å»é‡)æ³¨å…¥ --&gt;</span><br><span class="line">    &lt;property name=<span class="string">"game"</span>&gt;</span><br><span class="line">      &lt;set&gt;</span><br><span class="line">        &lt;value&gt;wangzhe&lt;/value&gt;</span><br><span class="line">        &lt;value&gt;lol&lt;/value&gt;</span><br><span class="line">        &lt;value&gt;galname&lt;/value&gt;</span><br><span class="line">      &lt;/set&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--ç©ºæŒ‡é’ˆ<span class="keyword">null</span>æ³¨å…¥ --&gt;</span><br><span class="line">    &lt;property name=<span class="string">"wife"</span>&gt;</span><br><span class="line">      &lt;null&gt;&lt;/null&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--propertieså¸¸é‡æ³¨å…¥ --&gt;</span><br><span class="line">    &lt;property name=<span class="string">"infor"</span>&gt;</span><br><span class="line">      &lt;props&gt;</span><br><span class="line">        &lt;prop key="id"&gt;20200802&lt;/prop&gt;</span><br><span class="line">        &lt;prop key="name"&gt;cbh&lt;/prop&gt;</span><br><span class="line">      &lt;/props&gt;</span><br><span class="line">    &lt;/property&gt;</span><br><span class="line">  &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ array list set å‡ä¸ºvalueå•é—­åˆæ ‡ç­¾<br>mapä¸propsæ¯”è¾ƒç‰¹æ®Šå•ç‹¬è®°å¿†</p><h3 id="6-2-3-æµ‹è¯•"><a href="#6-2-3-æµ‹è¯•" class="headerlink" title="6.2.3 æµ‹è¯•"></a>6.2.3 æµ‹è¯•</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"><span class="keyword">import</span> pojo.Student;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"beans.xml"</span>);</span><br><span class="line">Student stu = (Student) context.getBean(<span class="string">"student"</span>);</span><br><span class="line">System.out.println(stu.toString());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="6-3-æ‹“å±•æ³¨å…¥"><a href="#6-3-æ‹“å±•æ³¨å…¥" class="headerlink" title="6.3 æ‹“å±•æ³¨å…¥"></a>6.3 æ‹“å±•æ³¨å…¥</h2><p>ä½¿ç”¨p cå‘½åç©ºé—´</p><p>Userç±»:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> String name;</span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">User</span><span class="params">(String name, <span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name = name;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getId</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> id;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setId</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="meta">@Override</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"User [name="</span> + name + <span class="string">", id="</span> + id + <span class="string">"]"</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨på’Œcå‘½åç©ºé—´éœ€è¦å¯¼å…¥xmlçº¦æŸ</p><p>xmlns:p=â€œ<a href="http://www.springframework.org/schema/pâ€" target="_blank" rel="noopener">http://www.springframework.org/schema/pâ€</a><br>xmlns:c=â€œ<a href="http://www.springframework.org/schema/câ€" target="_blank" rel="noopener">http://www.springframework.org/schema/câ€</a></p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="string">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">       xmlns:xsi=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">       xmlns:p=<span class="string">"http://www.springframework.org/schema/p"</span></span><br><span class="line">       xmlns:c=<span class="string">"http://www.springframework.org/schema/c"</span></span><br><span class="line">       xsi:schemaLocation=<span class="string">"http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--på‘½åç©ºé—´æ³¨å…¥/setæ³¨å…¥ï¼Œéœ€è¦å­˜åœ¨æ— å‚æ„é€ å‡½æ•°å’Œå¯¹åº”çš„setæ–¹æ³• ç›¸å½“äº property--&gt;</span><br><span class="line">    &lt;bean id=<span class="string">"user"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pojo.User"</span> p:name=<span class="string">"cxk"</span> p:id=<span class="string">"20"</span> &gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--cå‘½åç©ºé—´ï¼Œé€šè¿‡æ„é€ å™¨æ³¨å…¥ï¼Œéœ€è¦å­˜åœ¨ç›¸åº”çš„æ„é€ å‡½æ•° ç›¸å½“äº construct-args --&gt;</span><br><span class="line">    &lt;bean id="user2" class="pojo.User" c:name="cbh" c:id="22"&gt;&lt;/bean&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><p>å¯ä»¥ç†è§£ä¸ºï¼šc-&gt;construct-args p-&gt;propertyg</p><p>å®˜æ–¹è§£é‡Šä¸ºï¼š</p><p><img src="C:%5CUsers%5Czt%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210407184704274.png" alt="image-20210407184704274"></p><h1 id="6-Beanä½œç”¨åŸŸ"><a href="#6-Beanä½œç”¨åŸŸ" class="headerlink" title="6 Beanä½œç”¨åŸŸ"></a>6 Beanä½œç”¨åŸŸ</h1><p><img src="C:%5CUsers%5Czt%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210407185436834.png" alt="image-20210407185436834"></p><p>åªéœ€è¦çŸ¥é“ã€å•ä¾‹æ¨¡å¼ã€‘å’Œã€åŸå‹æ¨¡å¼ã€‘å°±å¯ä»¥äº†<br>å…¶ä½™çš„requestã€sessionã€applicationè¿™äº›åªèƒ½åœ¨webå¼€æ”¾ä¸­ä½¿ç”¨ï¼</p><h2 id="6-1-å•ä¾‹æ¨¡å¼"><a href="#6-1-å•ä¾‹æ¨¡å¼" class="headerlink" title="6.1 å•ä¾‹æ¨¡å¼"></a>6.1 å•ä¾‹æ¨¡å¼</h2><p>é»˜è®¤å°±æ˜¯å•ä¾‹æ¨¡å¼</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id="user2" class="pojo.User" c:name="cxk" c:age="19" scope="singleton"&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure><p><img src="C:%5CUsers%5Czt%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210407185653939.png" alt="image-20210407185653939"></p><h2 id="6-2åŸå‹æ¨¡å¼"><a href="#6-2åŸå‹æ¨¡å¼" class="headerlink" title="6.2åŸå‹æ¨¡å¼"></a>6.2åŸå‹æ¨¡å¼</h2><p>æ¯æ¬¡ä»å®¹å™¨ä¸­getçš„æ—¶å€™ï¼Œéƒ½äº§ç”Ÿä¸€ä¸ªæ–°å¯¹è±¡ï¼</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;bean id="user2" class="pojo.User" c:name="cxk" c:age="19" scope="prototype"&gt;&lt;/bean&gt;</span><br></pre></td></tr></table></figure><p><img src="C:%5CUsers%5Czt%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210407190138919.png" alt="image-20210407190138919"></p><h1 id="7-Beançš„è‡ªåŠ¨è£…é…"><a href="#7-Beançš„è‡ªåŠ¨è£…é…" class="headerlink" title="7. Beançš„è‡ªåŠ¨è£…é…"></a>7. Beançš„è‡ªåŠ¨è£…é…</h1><p>è‡ªåŠ¨è£…é…æ˜¯Springæ»¡è¶³beanä¾èµ–çš„ä¸€ç§æ–¹å¼<br>Springä¼šåœ¨ä¸Šä¸‹æ–‡è‡ªåŠ¨å¯»æ‰¾ï¼Œå¹¶è‡ªåŠ¨ç»™beanè£…é…å±æ€§<br>åœ¨Springä¸­æœ‰ä¸‰ç§è£…é…çš„æ–¹å¼</p><ol><li><p>åœ¨xmlä¸­æ˜¾ç¤ºé…ç½®</p></li><li><p>åœ¨javaä¸­æ˜¾ç¤ºé…ç½®</p></li><li><p>éšå¼çš„è‡ªåŠ¨è£…é…bean ã€é‡è¦ã€‘</p></li></ol><p>ç¯å¢ƒæ­å»ºï¼šä¸€ä¸ªäººæœ‰ä¸¤ä¸ªå® ç‰©</p><p>byTypeè‡ªåŠ¨è£…é…ï¼šbyTypeä¼šè‡ªåŠ¨æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡setæ–¹æ³•å‚æ•°çš„ç±»å‹ç›¸åŒçš„bean</p><p>ä¿è¯æ‰€æœ‰çš„classå”¯ä¸€(ç±»ä¸ºå…¨å±€å”¯ä¸€)[å¦‚æœæ²¡æœ‰setæ–¹æ³•ä¸ä¼šæç¤º]</p><p>byNameè‡ªåŠ¨è£…é…ï¼šbyNameä¼šè‡ªåŠ¨æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡setå¯¹åº”çš„å€¼å¯¹åº”çš„id</p><p>ä¿è¯æ‰€æœ‰idå”¯ä¸€ï¼Œå¹¶ä¸”å’Œsetæ³¨å…¥çš„å€¼ä¸€è‡´[å¦‚æœæ²¡æœ‰setæ–¹æ³•ä¸ä¼šæç¤º]</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- æ‰¾ä¸åˆ°idå’Œå¤šä¸ªç›¸åŒ<span class="class"><span class="keyword">class</span> --&gt;</span></span><br><span class="line"><span class="class">&lt;<span class="title">bean</span> <span class="title">id</span></span>=<span class="string">"cat1"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pojo.Cat"</span>/&gt;</span><br><span class="line">&lt;bean id=<span class="string">"cat2"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pojo.Cat"</span>/&gt;</span><br><span class="line">&lt;!-- æ‰¾ä¸åˆ° id=catï¼Œä¸”æœ‰ä¸¤ä¸ªCat --&gt;</span><br></pre></td></tr></table></figure><h2 id="7-1-æµ‹è¯•è‡ªåŠ¨è£…é…"><a href="#7-1-æµ‹è¯•è‡ªåŠ¨è£…é…" class="headerlink" title="7.1 æµ‹è¯•è‡ªåŠ¨è£…é…"></a>7.1 æµ‹è¯•è‡ªåŠ¨è£…é…</h2><p>pojoçš„Catç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Cat</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shut</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"miao"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>pojoçš„Dogç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Dog</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shut</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"wow"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>pojoçš„Peopleç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> pojo;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> Cat cat;</span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Cat <span class="title">getCat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> cat;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCat</span><span class="params">(Cat cat)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.cat = cat;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Dog <span class="title">getDog</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> dog;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDog</span><span class="params">(Dog dog)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.dog = dog;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"People&#123;"</span> +</span><br><span class="line">                <span class="string">"cat="</span> + cat +</span><br><span class="line">                <span class="string">", dog="</span> + dog +</span><br><span class="line">                <span class="string">", name='"</span> + name + <span class="string">'\''</span> +</span><br><span class="line">                <span class="string">'&#125;'</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>xmlé…ç½® -&gt;byType è‡ªåŠ¨è£…é…</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="string">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">       xmlns:xsi=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">       xsi:schemaLocation=<span class="string">"http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;bean id=<span class="string">"cat"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pojo.Cat"</span>/&gt;</span><br><span class="line">    &lt;bean id=<span class="string">"dog"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pojo.Dog"</span>/&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;!--byTypeä¼šåœ¨å®¹å™¨è‡ªåŠ¨æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡å±æ€§ç›¸åŒçš„bean</span><br><span class="line">ä¾‹å¦‚ï¼ŒDog dog; é‚£ä¹ˆå°±ä¼šæŸ¥æ‰¾pojoçš„Dogç±»ï¼Œå†è¿›è¡Œè‡ªåŠ¨è£…é…</span><br><span class="line">--&gt;</span><br><span class="line">    &lt;bean id=<span class="string">"people"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pojo.People"</span> autowire=<span class="string">"byType"</span>&gt;</span><br><span class="line">        &lt;property name="name" value="cbh"&gt;&lt;/property&gt;</span><br><span class="line">    &lt;/bean&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><p>xmlé…ç½® -&gt;byName è‡ªåŠ¨è£…é…</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="string">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">       xmlns:xsi=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">       xsi:schemaLocation=<span class="string">"http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;bean id=<span class="string">"cat"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pojo.Cat"</span>/&gt;</span><br><span class="line">&lt;bean id=<span class="string">"dog"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pojo.Dog"</span>/&gt;</span><br><span class="line">&lt;!--bynameä¼šåœ¨å®¹å™¨è‡ªåŠ¨æŸ¥æ‰¾ï¼Œå’Œè‡ªå·±å¯¹è±¡setæ–¹æ³•çš„setåé¢çš„å€¼å¯¹åº”çš„id</span><br><span class="line">  ä¾‹å¦‚:setDog()ï¼Œå–setåé¢çš„å­—ç¬¦ä½œä¸ºidï¼Œåˆ™è¦id = dog æ‰å¯ä»¥è¿›è¡Œè‡ªåŠ¨è£…é…</span><br><span class="line">  </span><br><span class="line"> --&gt;</span><br><span class="line">&lt;bean id=<span class="string">"people"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"pojo.People"</span> autowire=<span class="string">"byName"</span>&gt;</span><br><span class="line">&lt;property name="name" value="cbh"&gt;&lt;/property&gt;</span><br><span class="line">&lt;/bean&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><p><strong>byNameåªèƒ½åŒ¹é…åˆ°å°å†™</strong></p><h2 id="7-2-ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…"><a href="#7-2-ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…" class="headerlink" title="7.2 ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…"></a>7.2 ä½¿ç”¨æ³¨è§£å®ç°è‡ªåŠ¨è£…é…</h2><p>1.å¯¼å…¥contextçº¦æŸï¼š<br><strong>xmlns:context=â€<a href="http://www.springframework.org/schema/context&quot;" target="_blank" rel="noopener">http://www.springframework.org/schema/context&quot;</a></strong></p><p>2.é…ç½®æ³¨è§£çš„æ”¯æŒï¼š&lt; context:annotation-config/&gt;</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="string">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">    xmlns:xsi=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">    xmlns:context=<span class="string">"http://www.springframework.org/schema/context"</span></span><br><span class="line">    xsi:schemaLocation=<span class="string">"http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="line"><span class="string">        http://www.springframework.org/schema/context</span></span><br><span class="line"><span class="string">        https://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;context:annotation-config/&gt;</span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><h4 id="7-2-1-Autowired"><a href="#7-2-1-Autowired" class="headerlink" title="7.2.1 @Autowired"></a>7.2.1 @Autowired</h4><p><strong>é»˜è®¤æ˜¯byTypeæ–¹å¼ï¼Œå¦‚æœåŒ¹é…ä¸ä¸Šï¼Œå°±ä¼šbyName</strong><br>åœ¨å±æ€§ä¸Šä¸ªä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨setä¸Šä½¿ç”¨<br>æˆ‘ä»¬å¯ä»¥ä¸ç”¨ç¼–å†™setæ–¹æ³•äº†ï¼Œå‰ææ˜¯è‡ªåŠ¨è£…é…çš„å±æ€§åœ¨Springå®¹å™¨é‡Œï¼Œä¸”è¦ç¬¦åˆByName è‡ªåŠ¨è£…é…</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Cat cat;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>beans.xmlæ–‡ä»¶</p><p><img src="C:%5CUsers%5Czt%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210408103829751.png" alt="image-20210408103829751"></p><p>Autowireæºç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Autowired &#123; </span><br><span class="line"><span class="function"><span class="keyword">boolean</span> <span class="title">required</span><span class="params">()</span> <span class="keyword">default</span> <span class="keyword">true</span></span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœå®šä¹‰äº†Autowireçš„requireå±æ€§ä¸ºfalseï¼Œè¯´æ˜è¿™ä¸ªå¯¹è±¡å¯ä»¥ä¸ºnullï¼Œå¦åˆ™ä¸å…è®¸ä¸ºç©ºï¼ˆfalseè¡¨ç¤ºæ‰¾ä¸åˆ°è£…é…æ—¶ä¸æŠ›å‡ºå¼‚å¸¸ï¼‰é»˜è®¤ä¸ºtrueã€‚</p><h4 id="7-2-2-Autowired-Qualifier"><a href="#7-2-2-Autowired-Qualifier" class="headerlink" title="7.2.2 @Autowired+@Qualifier"></a>7.2.2 @Autowired+@Qualifier</h4><p>@Autowiredä¸èƒ½å”¯ä¸€è£…é…æ—¶ï¼Œéœ€è¦@Autowired+@Qualifier</p><p>å¦‚æœ@Autowiredè‡ªåŠ¨è£…é…ç¯å¢ƒæ¯”è¾ƒå¤æ‚ã€‚è‡ªåŠ¨è£…é…æ— æ³•é€šè¿‡ä¸€ä¸ªæ³¨è§£å®Œæˆçš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨@Qualifier(value = â€œdogâ€)å»é…åˆä½¿ç”¨ï¼ŒæŒ‡å®šä¸€ä¸ªå”¯ä¸€çš„idå¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> Cat cat;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier</span>(value = <span class="string">"dog"</span>)</span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœxmlæ–‡ä»¶ä¸­åŒä¸€ä¸ªå¯¹è±¡è¢«å¤šä¸ªbeanä½¿ç”¨ï¼ŒAutowiredæ— æ³•æŒ‰ç±»å‹æ‰¾åˆ°ï¼Œå¯ä»¥ç”¨@QualifieræŒ‡å®šidæŸ¥æ‰¾</p><h4 id="7-2-3-Resource"><a href="#7-2-3-Resource" class="headerlink" title="7.2.3 @Resource"></a>7.2.3 @Resource</h4><p><strong>é»˜è®¤æ˜¯byNameæ–¹å¼ï¼Œå¦‚æœåŒ¹é…ä¸ä¸Šï¼Œå°±ä¼šbyType</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">People</span> </span>&#123;</span><br><span class="line">    Resource(name=<span class="string">"cat"</span>)</span><br><span class="line">    <span class="keyword">private</span> Cat cat;</span><br><span class="line">    Resource(name=<span class="string">"dog"</span>)</span><br><span class="line">    <span class="keyword">private</span> Dog dog;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Autowiredæ˜¯byTypeï¼Œ@Autowired+@Qualifier = byType &amp;&amp; byName</p><p>Autowiredæ˜¯å…ˆbyteType,å¦‚æœå”¯ä¸€å‰‡æ³¨å…¥ï¼Œå¦åˆ™byNameæŸ¥æ‰¾ã€‚<br>resourceæ˜¯å…ˆbyname,ä¸ç¬¦åˆå†ç»§ç»­byType</p><h4 id="7-2-4-Autowired-ä¸-Resourceçš„åŒºåˆ«"><a href="#7-2-4-Autowired-ä¸-Resourceçš„åŒºåˆ«" class="headerlink" title="7.2.4 @Autowired ä¸ @Resourceçš„åŒºåˆ«"></a>7.2.4 @Autowired ä¸ @Resourceçš„åŒºåˆ«</h4><ul><li>éƒ½æ˜¯ç”¨æ¥è‡ªåŠ¨è£…é…çš„ï¼Œéƒ½å¯ä»¥æ”¾åœ¨å±æ€§å­—æ®µä¸Š</li><li>@Autowiredé€šè¿‡byTypeçš„æ–¹å¼å®ç°ï¼Œè€Œä¸”å¿…é¡»è¦æ±‚è¿™ä¸ªå¯¹è±¡å­˜åœ¨ï¼ï¼ˆrequireé»˜è®¤ä¸ºtrueï¼‰ã€å¸¸ç”¨ã€‘</li><li>@Resourceé»˜è®¤é€šè¿‡bynameçš„æ–¹å¼å®ç°ï¼Œå¦‚æœæ‰¾ä¸åˆ°åå­—ï¼Œåˆ™é€šè¿‡byTypeå®ç°ï¼å¦‚æœä¸¤ä¸ªéƒ½æ‰¾ä¸åˆ°çš„æƒ…å†µä¸‹ï¼Œå°±æŠ¥é”™ï¼ã€å¸¸ç”¨ã€‘</li><li>æ‰§è¡Œé¡ºåºä¸åŒï¼š@Autowiredé»˜è®¤é€šè¿‡byTypeçš„æ–¹å¼å®ç°ã€‚@Resourceé»˜è®¤é€šè¿‡bynameçš„æ–¹å¼å®ç°</li></ul><h1 id="8-ä½¿ç”¨æ³¨è§£å¼€å‘"><a href="#8-ä½¿ç”¨æ³¨è§£å¼€å‘" class="headerlink" title="8. ä½¿ç”¨æ³¨è§£å¼€å‘"></a>8. ä½¿ç”¨æ³¨è§£å¼€å‘</h1><p>åœ¨spring4ä¹‹åï¼Œä½¿ç”¨æ³¨è§£å¼€å‘ï¼Œå¿…é¡»è¦ä¿è¯aopåŒ…çš„å¯¼å…¥</p><p><img src="https://img-blog.csdnimg.cn/20210220094339857.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvdXJfb3Jhbmdl,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>ä½¿ç”¨æ³¨è§£éœ€è¦å¯¼å…¥contexçš„çº¦æŸ</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="string">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">    xmlns:xsi=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">    xmlns:context=<span class="string">"http://www.springframework.org/schema/context"</span></span><br><span class="line">    xsi:schemaLocation=<span class="string">"http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="line"><span class="string">        http://www.springframework.org/schema/context</span></span><br><span class="line"><span class="string">        https://www.springframework.org/schema/context/spring-context.xsd"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;context:annotation-config/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><h2 id="8-1-bean"><a href="#8-1-bean" class="headerlink" title="8.1 bean"></a>8.1 bean</h2><p>æœ‰äº†&lt; context:component-scan&gt;ï¼Œå¦ä¸€ä¸ª&lt; context:annotation-config/&gt;æ ‡ç­¾å¯ä»¥ç§»é™¤æ‰ï¼Œå› ä¸ºå·²ç»è¢«åŒ…å«è¿›å»äº†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--æŒ‡å®šè¦æ‰«æçš„åŒ…ï¼Œè¿™ä¸ªåŒ…ä¸‹é¢çš„æ³¨è§£æ‰ä¼šç”Ÿæ•ˆ</span><br><span class="line">åˆ«åªæ‰«ä¸€ä¸ªcom.kuang.pojoåŒ…[èŒƒå›´å¦‚æœå¤§çš„è¯èƒ½è¦†ç›–åˆ°é‡Œé¢çš„åŒ…]--&gt; </span><br><span class="line">&lt;context:component-scan base-<span class="keyword">package</span>=<span class="string">"com.kuang"</span>/&gt; </span><br><span class="line">&lt;context:annotation-config/&gt;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//@Component ç»„ä»¶</span></span><br><span class="line"><span class="comment">//ç­‰ä»·äº&lt;bean id="user" classs"pojo.User"/&gt; </span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;  </span><br><span class="line">     <span class="keyword">public</span> String name =<span class="string">"zjc"</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>@Component ï¼šç»„ä»¶ï¼Œæ”¾åœ¨ç±»ä¸Šï¼Œè¯´æ˜è¿™ä¸ªç±»è¢«springç®¡ç†äº†ï¼Œè¿™å°±æ˜¯beanã€‚</p><h2 id="8-2-å±æ€§æ³¨å…¥-Value"><a href="#8-2-å±æ€§æ³¨å…¥-Value" class="headerlink" title="8.2 å±æ€§æ³¨å…¥@Value"></a>8.2 å±æ€§æ³¨å…¥@Value</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123; </span><br><span class="line">    <span class="comment">//ç›¸å½“äº&lt;property name="name" value="kuangshen"/&gt; </span></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"kuangshen"</span>) </span><br><span class="line">    <span class="keyword">public</span> String name; </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ä¹Ÿå¯ä»¥æ”¾åœ¨setæ–¹æ³•ä¸Šé¢</span></span><br><span class="line">    <span class="comment">//@Value("kuangshen")</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.name = name; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="8-3-è¡ç”Ÿçš„æ³¨è§£"><a href="#8-3-è¡ç”Ÿçš„æ³¨è§£" class="headerlink" title="8.3 è¡ç”Ÿçš„æ³¨è§£"></a>8.3 è¡ç”Ÿçš„æ³¨è§£</h2><p>@Componentæœ‰å‡ ä¸ªè¡ç”Ÿæ³¨è§£ï¼Œä¼šæŒ‰ç…§webå¼€å‘ä¸­ï¼ŒæŒ‰ç…§mvcä¸‰å±‚æ¶æ„åˆ†å±‚ã€‚</p><ul><li>dao ï¼ˆ@Repositoryï¼‰</li><li>serviceï¼ˆ@Serviceï¼‰</li><li>controllerï¼ˆ@Controllerï¼‰</li></ul><p><strong>è¿™å››ä¸ªæ³¨è§£çš„åŠŸèƒ½æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ä»£è¡¨å°†æŸä¸ªç±»æ³¨å†Œåˆ°å®¹å™¨ä¸­</strong></p><h2 id="8-4-è‡ªåŠ¨è£…é…ç½®"><a href="#8-4-è‡ªåŠ¨è£…é…ç½®" class="headerlink" title="8.4 è‡ªåŠ¨è£…é…ç½®"></a>8.4 è‡ªåŠ¨è£…é…ç½®</h2><p>@Autowiredï¼šé»˜è®¤æ˜¯byTypeæ–¹å¼ï¼Œå¦‚æœåŒ¹é…ä¸ä¸Šï¼Œå°±ä¼šbyName</p><p>@Nullableï¼šå­—æ®µæ ‡è®°äº†è¿™ä¸ªæ³¨è§£ï¼Œè¯´æ˜è¯¥å­—æ®µå¯ä»¥ä¸ºç©º</p><p>@Resourceï¼šé»˜è®¤æ˜¯byNameæ–¹å¼ï¼Œå¦‚æœåŒ¹é…ä¸ä¸Šï¼Œå°±ä¼šbyType</p><h2 id="8-5ã€ä½œç”¨åŸŸ-Scope"><a href="#8-5ã€ä½œç”¨åŸŸ-Scope" class="headerlink" title="8.5ã€ä½œç”¨åŸŸ@Scope"></a>8.5ã€ä½œç”¨åŸŸ@Scope</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŸå‹æ¨¡å¼prototypeï¼Œå•ä¾‹æ¨¡å¼singleton</span></span><br><span class="line"><span class="comment">//scope("prototype")ç›¸å½“äº&lt;bean scope="prototype"&gt;&lt;/bean&gt;</span></span><br><span class="line"><span class="meta">@Component</span> </span><br><span class="line"><span class="meta">@Scope</span>(<span class="string">"prototype"</span>)</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123; </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ç›¸å½“äº&lt;property name="name" value="kuangshen"/&gt; </span></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"kuangshen"</span>) </span><br><span class="line">    <span class="keyword">public</span> String name; </span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ä¹Ÿå¯ä»¥æ”¾åœ¨setæ–¹æ³•ä¸Šé¢</span></span><br><span class="line">    <span class="meta">@Value</span>(<span class="string">"kuangshen"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123; </span><br><span class="line">        <span class="keyword">this</span>.name = name; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="8-6ã€å°ç»“"><a href="#8-6ã€å°ç»“" class="headerlink" title="8.6ã€å°ç»“"></a>8.6ã€å°ç»“</h2><p><strong>xmlä¸æ³¨è§£ï¼š</strong></p><ul><li>xmlæ›´åŠ ä¸‡èƒ½ï¼Œç»´æŠ¤ç®€å•ï¼Œé€‚ç”¨äºä»»ä½•åœºåˆ</li><li>æ³¨è§£ï¼Œä¸æ˜¯è‡ªå·±çš„ç±»ä½¿ç”¨ä¸äº†ï¼Œç»´æŠ¤å¤æ‚</li></ul><p><strong>æœ€ä½³å®è·µï¼š</strong></p><ul><li>xmlç”¨æ¥ç®¡ç†bean</li><li>æ³¨è§£åªç”¨æ¥å®Œæˆå±æ€§çš„æ³¨å…¥</li><li>è¦å¼€å¯æ³¨è§£æ”¯æŒ</li></ul><h1 id="9-ä½¿ç”¨javaçš„æ–¹å¼é…ç½®Spring"><a href="#9-ä½¿ç”¨javaçš„æ–¹å¼é…ç½®Spring" class="headerlink" title="9 .ä½¿ç”¨javaçš„æ–¹å¼é…ç½®Spring"></a>9 .ä½¿ç”¨javaçš„æ–¹å¼é…ç½®Spring</h1><p>ä¸ä½¿ç”¨Springçš„xmlé…ç½®ï¼Œå®Œå…¨äº¤ç»™javaæ¥åšï¼<br>Springçš„ä¸€ä¸ªå­é¡¹ç›®ï¼Œåœ¨spring4ä¹‹åï¼Œå®ƒæˆä¸ºäº†æ ¸å¿ƒåŠŸèƒ½</p><p><img src="https://img-blog.csdnimg.cn/20210220101004863.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L1NvdXJfb3Jhbmdl,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å®ä½“ç±»User</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™é‡Œè¿™ä¸ªæ³¨è§£çš„æ„æ€,å°±æ˜¯è¯´æ˜è¿™ä¸ªç±»è¢«Springæ¥ç®¡äº†,æ³¨å†Œåˆ°äº†å®¹å™¨ä¸­ </span></span><br><span class="line"><span class="comment">//@Component </span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123; </span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123; </span><br><span class="line">    <span class="keyword">return</span> name; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="comment">//å±æ€§æ³¨å…¥å€¼</span></span><br><span class="line">    <span class="meta">@value</span>(<span class="string">"QINJIANG')  </span></span><br><span class="line"><span class="string">    public void setName(String name) &#123; </span></span><br><span class="line"><span class="string">    this.name = name; </span></span><br><span class="line"><span class="string">    &#125; </span></span><br><span class="line"><span class="string">    @Override </span></span><br><span class="line"><span class="string">    public String toString() &#123; </span></span><br><span class="line"><span class="string">        return "</span>user&#123;<span class="string">" + </span></span><br><span class="line"><span class="string">        "</span>name=<span class="string">'" + name + '</span>\<span class="string">''</span>+ </span><br><span class="line">        <span class="string">'&#125;'</span>; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½®æ–‡ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™ä¸ªä¹Ÿä¼šSpringå®¹å™¨æ‰˜ç®¡,æ³¨å†Œåˆ°å®¹å™¨ä¸­,å› ä¸ºä»–æœ¬ç±³å°±æ˜¯ä¸€ä¸ª@Component </span></span><br><span class="line"><span class="comment">// @Configurationè¡¨è¿™æ˜¯ä¸€ä¸ªé…ç½®ç±»,å°±åƒæˆ‘ä»¬ä¹‹å‰çœ‹çš„beans.xmlï¼Œç±»ä¼¼äº&lt;beans&gt;æ ‡ç­¾</span></span><br><span class="line"><span class="comment">//@Configuration </span></span><br><span class="line"><span class="comment">//@ComponentScan("com.Kuang.pojo") //å¼€å¯æ‰«æ</span></span><br><span class="line"><span class="comment">//@Import(KuangConfig2.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">KuangConfig</span> </span>&#123; </span><br><span class="line">    <span class="comment">//æ³¨å†Œä¸€ä¸ªbean , å°±ç›¸å½“äºæˆ‘ä»¬ä¹‹å‰å†™çš„ä¸€ä¸ªbean æ ‡ç­¾ </span></span><br><span class="line">    <span class="comment">//è¿™ä¸ªæ–¹æ³•çš„åå­—,å°±ç›¸å½“äºbean æ ‡ç­¾ä¸­çš„ id å±æ€§ -&gt;getUser</span></span><br><span class="line">    <span class="comment">//è¿™ä¸ªæ–¹æ³•çš„è¿”åŒå€¼,å°±ç›¸å½“äºbean æ ‡ç­¾ä¸­çš„class å±æ€§ -&gt;User</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//@Bean </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> User <span class="title">getUser</span><span class="params">()</span></span>&#123; </span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> User(); <span class="comment">//å°±æ˜¯è¿”å›è¦æ³¨å…¥åˆ°beançš„å¯¹è±¡! </span></span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ–¹å¼ï¼š</p><p>æ‰‹åŠ¨æ³¨å†Œï¼š @Bean</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span> </span><br><span class="line"> <span class="function"><span class="keyword">public</span> User <span class="title">getUser</span><span class="params">()</span></span>&#123; </span><br><span class="line"> <span class="keyword">return</span> <span class="keyword">new</span> User(); <span class="comment">//å°±æ˜¯è¿”å›è¦æ³¨å…¥åˆ°beançš„å¯¹è±¡! </span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ³•çš„åå­—,å°±ç›¸å½“äºbean æ ‡ç­¾ä¸­çš„ id å±æ€§ -&gt;getUser<br>è¿™ä¸ªæ–¹æ³•çš„è¿”åŒå€¼,å°±ç›¸å½“äºbean æ ‡ç­¾ä¸­çš„class å±æ€§ -&gt;User</p><ul><li>è‡ªåŠ¨æ³¨å…¥ï¼š@ComponentScanã€@Component</li><li>å…ˆå¼€å¯æ‰«æï¼š@ComponentScan(â€œcom.Kuang.pojoâ€) //å¼€å¯æ‰«æ<br>ç„¶åç»™ç›¸åº”å®ä½“ç±»åŠ ä¸Šæ³¨è§£@Component</li></ul><p>æµ‹è¯•ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[ ] args)</span> </span>&#123; </span><br><span class="line">    <span class="comment">//å¦‚æœå®Œå…¨ä½¿ç”¨äº†é…ç½®ç±»æ–¹å¼å»åš,æˆ‘ä»¬å°±åªèƒ½é€šè¿‡ Annotationconfig ä¸Šä¸‹æ–‡æ¥è·å–å®¹å™¨,é€šè¿‡é…ç½®ç±»çš„classå¯¹è±¡åŠ è½½! </span></span><br><span class="line">    ApplicationContext context = <span class="keyword">new</span> AnnotationConfigApplicationContext(KuangConfig.Class); <span class="comment">//classå¯¹è±¡</span></span><br><span class="line">    User getUser =(User)context.getBean( <span class="string">"getUser"</span>); <span class="comment">//æ–¹æ³•ågetUser</span></span><br><span class="line">    System.out.Println(getUser.getName()); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="10-ä»£ç†æ¨¡å¼"><a href="#10-ä»£ç†æ¨¡å¼" class="headerlink" title="10. ä»£ç†æ¨¡å¼"></a>10. ä»£ç†æ¨¡å¼</h1><p>ä¸ºä»€ä¹ˆè¦å­¦ä¹ ä»£ç†æ¨¡å¼ï¼Œå› ä¸ºè¿™å°±æ˜¯SpringAOPçš„åº•å±‚ã€‚</p><p>ä»£ç†æ¨¡å¼çš„åˆ†ç±»ï¼š</p><ul><li>é™æ€ä»£ç†</li><li>åŠ¨æ€ä»£ç†</li></ul><p><img src="C:%5CUsers%5Czt%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210409104454888.png" alt="image-20210409104454888"></p><h2 id="10-1-é™æ€ä»£ç†"><a href="#10-1-é™æ€ä»£ç†" class="headerlink" title="10.1 é™æ€ä»£ç†"></a>10.1 é™æ€ä»£ç†</h2><p><img src="https://img-blog.csdnimg.cn/20210220105252995.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p><img src="C:%5CUsers%5Czt%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210409112039225.png" alt="image-20210409112039225"></p><p>æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Rent</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rent</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çœŸå®è§’è‰²ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> pojo;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HostMaster</span> <span class="keyword">implements</span> <span class="title">Host</span></span>&#123;</span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"æˆ¿ä¸œè¦å‡ºç§Ÿæˆ¿å­"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»£ç†è§’è‰²ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Proxy</span> <span class="keyword">implements</span> <span class="title">Rent</span></span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">public</span> HostMaster host;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Proxy</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="title">Proxy</span><span class="params">(HostMaster host)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">    <span class="keyword">this</span>.host = host;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    seeHouse();</span><br><span class="line">    host.rent();</span><br><span class="line">    fee();</span><br><span class="line">    sign();</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//çœ‹æˆ¿</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">seeHouse</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"çœ‹æˆ¿å­"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//æ”¶è´¹</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fee</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"æ”¶ä¸­ä»‹è´¹"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//åˆåŒ</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sign</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"ç­¾åˆåŒ"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.å®¢æˆ·è®¿é—®ä»£ç†è§’è‰²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//æˆ¿ä¸œè¦å‡ºç§Ÿæˆ¿å­</span></span><br><span class="line">    HostMaster host = <span class="keyword">new</span> HostMaster();</span><br><span class="line">    <span class="comment">//ä¸­ä»‹å¸®æˆ¿ä¸œå‡ºç§Ÿæˆ¿å­ï¼Œä½†ä¹Ÿæ”¶å–ä¸€å®šè´¹ç”¨ï¼ˆå¢åŠ ä¸€äº›æˆ¿ä¸œä¸åšçš„æ“ä½œï¼‰</span></span><br><span class="line">    Proxy proxy = <span class="keyword">new</span> Proxy(host);</span><br><span class="line">    <span class="comment">//çœ‹ä¸åˆ°æˆ¿ä¸œï¼Œä½†é€šè¿‡ä»£ç†ï¼Œè¿˜æ˜¯ç§Ÿåˆ°äº†æˆ¿å­</span></span><br><span class="line">    proxy.rent();</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>èŠèŠaopï¼š</p><p><img src="C:%5CUsers%5Czt%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20210409140904332.png" alt="image-20210409140904332"></p><h2 id="10-2-åŠ¨æ€ä»£ç†"><a href="#10-2-åŠ¨æ€ä»£ç†" class="headerlink" title="10.2 åŠ¨æ€ä»£ç†"></a>10.2 åŠ¨æ€ä»£ç†</h2><p>åŠ¨æ€ä»£ç†å’Œé™æ€ä»£ç†è§’è‰²ä¸€æ ·ï¼ŒåŠ¨æ€ä»£ç†åº•å±‚æ˜¯åå°„æœºåˆ¶</p><p>åŠ¨æ€ä»£ç†ç±»æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œä¸æ˜¯æˆ‘ä»¬ç›´æ¥å†™å¥½çš„ï¼</p><p>åŠ¨æ€ä»£ç†(ä¸¤å¤§ç±»)ï¼šåŸºäºæ¥å£ï¼ŒåŸºäºç±»</p><ul><li><p>åŸºäºæ¥å£ï¼šJDKçš„åŠ¨æ€ä»£ç†</p></li><li><p>åŸºäºç±»ï¼šcglib</p></li><li><p>javaå­—èŠ‚ç å®ç°ï¼šjavasisit</p></li></ul><p>  äº†è§£ä¸¤ä¸ªç±»<br>  1ã€Proxyï¼šä»£ç†<br>  2ã€InvocationHandlerï¼šè°ƒç”¨å¤„ç†ç¨‹åº</p><p>1.æŠ½è±¡è§’è‰²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Host</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rent</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.çœŸå®è§’è‰²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HostMaster</span> <span class="keyword">implements</span> <span class="title">Host</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">rent</span><span class="params">()</span> </span>&#123;</span><br><span class="line">System.out.println(<span class="string">"æˆ¿ä¸œè¦ç§Ÿæˆ¿å­"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.ä»£ç†è§’è‰²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æˆ‘ä»¬ä¼šç”¨è¿™ä¸ªç±»ï¼Œè‡ªåŠ¨ç”Ÿæˆä»£ç†ç±»ï¼</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyInvocationHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line">    <span class="comment">//è¢«ä»£ç†çš„æ¥å£</span></span><br><span class="line">    <span class="keyword">private</span> Rent rent;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRent</span><span class="params">(Rent rent)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.rent = rent;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”Ÿæˆå¾—åˆ°ä»£ç†ç±»</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getProxy</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Proxy.newProxyInstance(<span class="keyword">this</span>.getClass().getClassLoader(),</span><br><span class="line">                rent.getClass().getInterfaces(),<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¤„ç†ä»£ç†å®ä¾‹ï¼Œå¹¶è¿”å›ç»“æœ</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        <span class="comment">//åŠ¨æ€ä»£ç†çš„æœ¬è´¨ï¼Œå°±æ˜¯ä½¿ç”¨åå°„æœºåˆ¶å®ç°ï¼</span></span><br><span class="line">        Object result = method.invoke(rent, args);</span><br><span class="line">        seeHose();</span><br><span class="line">        fee();</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">seeHose</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ä¸­ä»‹å¸¦ç€çœ‹æˆ¿å­ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">fee</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ä¸­ä»‹æ”¶å–è´¹ç”¨ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.ç”¨æˆ·ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Client</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//çœŸå®è§’è‰²</span></span><br><span class="line">        Host host = <span class="keyword">new</span> Host();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä»£ç†è§’è‰²ï¼šç°åœ¨æ²¡æœ‰</span></span><br><span class="line">        ProxyInvocationHandler pih = <span class="keyword">new</span> ProxyInvocationHandler();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//é€šè¿‡è°ƒç”¨ç¨‹åºå¤„ç†è§’è‰²æ¥å¤„ç†æˆ‘ä»¬è¦è°ƒç”¨çš„æ¥å£å¯¹è±¡ï¼</span></span><br><span class="line">        pih.setRent(host);</span><br><span class="line">        Rent proxy = (Rent) pih.getProxy(); <span class="comment">//è¿™é‡Œçš„proxyå°±æ˜¯åŠ¨æ€ç”Ÿæˆçš„ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å†™</span></span><br><span class="line">        proxy.rent();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥æç‚¼å‡ºProxyInvocationHandlerä½œä¸ºå·¥å…·ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç”¨è¿™ä¸ªç±»è‡ªåŠ¨ç”Ÿæˆä»£ç†ç±»ï¼</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ProxyInvocationHandler</span> <span class="keyword">implements</span> <span class="title">InvocationHandler</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¢«ä»£ç†çš„æ¥å£</span></span><br><span class="line">    <span class="keyword">private</span> Object target;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTarget</span><span class="params">(Object target)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.target = target;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”Ÿæˆå¾—åˆ°ä»£ç†ç±»</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">getProxy</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Proxy.newProxyInstance(<span class="keyword">this</span>.getClass().getClassLoader(),</span><br><span class="line">                target.getClass().getInterfaces(),<span class="keyword">this</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¤„ç†ä»£ç†å®ä¾‹ï¼Œå¹¶è¿”å›ç»“æœ</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Object <span class="title">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        log(method.getName());</span><br><span class="line">        Object result = method.invoke(target, args);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">log</span><span class="params">(String msg)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"[Debug] ä½¿ç”¨äº†ä¸€ä¸ª"</span>+msg+<span class="string">"æ–¹æ³•"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŠ¨æ€ä»£ç†çš„å¥½å¤„ï¼š</p><ul><li>å¯ä»¥ä½¿çœŸå®è§’è‰²çš„æ“ä½œæ›´åŠ çº¯ç²¹ï¼ä¸ç”¨å»å…³æ³¨ä¸€äº›å…¬å…±çš„ä¸šåŠ¡</li><li>å…¬å…±è§’è‰²å°±äº¤ç»™ä»£ç†è§’è‰²ï¼å®ç°äº†ä¸šåŠ¡çš„åˆ†å·¥ï¼</li><li>å…¬å…±ä¸šåŠ¡å‘ç”Ÿæ‰©å±•çš„æ—¶å€™ï¼Œæ–¹ä¾¿é›†ä¸­ç®¡ç†ï¼</li><li>ä¸€ä¸ªåŠ¨æ€ä»£ç†ç±»ä»£ç†çš„æ˜¯ä¸€ä¸ªæ¥å£ï¼Œä¸€èˆ¬å°±æ˜¯å¯¹åº”çš„ä¸€ç±»ä¸šåŠ¡</li><li>ä¸€ä¸ªåŠ¨æ€ä»£ç†ç±»å¯ä»¥ä»£ç†å¤šä¸ªç±»ï¼Œåªè¦æ˜¯å®ç°äº†åŒä¸€ä¸ªæ¥å£å³å¯ï¼</li></ul><h1 id="11ã€AOP"><a href="#11ã€AOP" class="headerlink" title="11ã€AOP"></a>11ã€AOP</h1><h2 id="11-1-ä»€ä¹ˆæ˜¯AOP"><a href="#11-1-ä»€ä¹ˆæ˜¯AOP" class="headerlink" title="11.1 ä»€ä¹ˆæ˜¯AOP"></a>11.1 ä»€ä¹ˆæ˜¯AOP</h2><p>AOPï¼ˆAspect Oriented Programmingï¼‰æ„ä¸ºï¼šé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œé€šè¿‡é¢„ç¼–è¯‘æ–¹å¼å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†å®ç°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚AOPæ˜¯OOPçš„å»¶ç»­ï¼Œæ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªçƒ­ç‚¹ï¼Œä¹Ÿæ˜¯Springæ¡†æ¶ä¸­çš„ä¸€ä¸ªé‡è¦å†…å®¹ï¼Œæ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ç§è¡ç”ŸèŒƒå‹ã€‚åˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œä»è€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½ï¼Œæé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼ŒåŒæ—¶æé«˜äº†å¼€å‘çš„æ•ˆç‡ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20201112130947442.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpNjQzOTM3NTc5,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="11-2-AOPåœ¨Springä¸­çš„ä½œç”¨"><a href="#11-2-AOPåœ¨Springä¸­çš„ä½œç”¨" class="headerlink" title="11.2 AOPåœ¨Springä¸­çš„ä½œç”¨"></a>11.2 AOPåœ¨Springä¸­çš„ä½œç”¨</h2><p><strong>æä¾›å£°æ˜å¼äº‹åŠ¡ï¼›å…è®¸ç”¨æˆ·è‡ªå®šä¹‰åˆ‡é¢</strong></p><p>æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼šè·¨è¶Šåº”ç”¨ç¨‹åºå¤šä¸ªæ¨¡å—çš„æ–¹æ³•æˆ–åŠŸèƒ½ã€‚å³æ˜¯ï¼Œä¸æˆ‘ä»¬ä¸šåŠ¡é€»è¾‘æ— å…³çš„ï¼Œä½†æ˜¯æˆ‘ä»¬éœ€è¦å…³æ³¨çš„éƒ¨åˆ†ï¼Œå°±æ˜¯æ¨ªåˆ‡å…³æ³¨ç‚¹ã€‚å¦‚æ—¥å¿—ï¼Œå®‰å…¨ï¼Œç¼“å­˜ï¼Œäº‹åŠ¡ç­‰ç­‰â€¦<br>åˆ‡é¢ï¼ˆASPECTï¼‰ï¼šæ¨ªåˆ‡å…³æ³¨ç‚¹è¢«æ¨¡å—åŒ–çš„ç‰¹æ®Šå¯¹è±¡ã€‚å³ï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»ã€‚<br>é€šçŸ¥ï¼ˆAdviceï¼‰ï¼šåˆ‡é¢å¿…é¡»è¦å®Œæˆçš„å·¥ä½œã€‚å³ï¼Œå®ƒæ˜¯ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ã€‚<br>ç›®æ ‡ï¼ˆTargetï¼‰ï¼šè¢«é€šçŸ¥å¯¹è±¡ã€‚<br>ä»£ç†ï¼ˆProxyï¼‰ï¼šå‘ç›®æ ‡å¯¹è±¡åº”ç”¨é€šçŸ¥ä¹‹ååˆ›å»ºçš„å¯¹è±¡ã€‚<br>åˆ‡å…¥ç‚¹ï¼ˆPointCutï¼‰ï¼šåˆ‡é¢é€šçŸ¥æ‰§è¡Œçš„â€œåœ°ç‚¹â€çš„å®šä¹‰ã€‚<br>è¿æ¥ç‚¹ï¼ˆJointPointï¼‰ï¼šä¸åˆ‡å…¥ç‚¹åŒ¹é…çš„æ‰§è¡Œç‚¹ã€‚</p><p><img src="https://img-blog.csdnimg.cn/20201112131307360.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpNjQzOTM3NTc5,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>SpringAOPä¸­ï¼Œé€šè¿‡Adviceå®šä¹‰æ¨ªåˆ‡é€»è¾‘ï¼ŒSpringä¸­æ”¯æŒ5ç§ç±»å‹çš„Adviceï¼š</p><p><img src="https://img-blog.csdnimg.cn/20201120104454887.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xpNjQzOTM3NTc5,size_16,color_FFFFFF,t_70#pic_center" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><p>å³AOPåœ¨ä¸æ”¹å˜åŸæœ‰ä»£ç çš„æƒ…å†µä¸‹ï¼Œå»å¢åŠ æ–°çš„åŠŸèƒ½ã€‚</p><h2 id="11-3-ä½¿ç”¨Springå®ç°AOP"><a href="#11-3-ä½¿ç”¨Springå®ç°AOP" class="headerlink" title="11.3 ä½¿ç”¨Springå®ç°AOP"></a>11.3 ä½¿ç”¨Springå®ç°AOP</h2><p>ã€é‡ç‚¹ã€‘ä½¿ç”¨AOPç»‡å…¥ï¼Œéœ€è¦å¯¼å…¥ä¸€ä¸ªä¾èµ–åŒ…ï¼</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- https:<span class="comment">//mvnrepository.com/artifact/org.aspectj/aspectjweaver --&gt;</span></span><br><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.aspectj&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.9.4&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure><p><strong>æ–¹å¼ä¸€ï¼š</strong> ä½¿ç”¨Springçš„APIæ¥å£ã€ä¸»è¦æ˜¯SpringAPIæ¥å£å®ç°ã€‘</p><ol><li>åœ¨serviceåŒ…ä¸‹ï¼Œå®šä¹‰UserServiceä¸šåŠ¡æ¥å£å’ŒUserServiceImplå®ç°ç±»</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">select</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title">UserService</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">add</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å¢åŠ äº†ä¸€ä¸ªç”¨æˆ·ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"åˆ é™¤äº†ä¸€ä¸ªç”¨æˆ·ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ›´æ–°äº†ä¸€ä¸ªç”¨æˆ·ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">select</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æŸ¥è¯¢äº†ä¸€ä¸ªç”¨æˆ·ï¼"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.åœ¨logåŒ…ä¸‹ï¼Œå®šä¹‰æˆ‘ä»¬çš„å¢å¼ºç±»ï¼Œä¸€ä¸ªLogå‰ç½®å¢å¼ºå’Œä¸€ä¸ªAfterLogåç½®å¢å¼ºç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Log</span> <span class="keyword">implements</span> <span class="title">MethodBeforeAdvice</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//method: è¦æ‰§è¡Œçš„ç›®æ ‡å¯¹è±¡çš„æ–¹æ³•</span></span><br><span class="line">    <span class="comment">//argsï¼šå‚æ•°</span></span><br><span class="line">    <span class="comment">//targetï¼šç›®æ ‡å¯¹è±¡</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">(Method method, Object[] agrs, Object target)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        System.out.println(target.getClass().getName()+<span class="string">"çš„"</span>+method.getName()+<span class="string">"è¢«æ‰§è¡Œäº†"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AfterLog</span> <span class="keyword">implements</span> <span class="title">AfterReturningAdvice</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//returnValueï¼š è¿”å›å€¼</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterReturning</span><span class="params">(Object returnValue, Method method, Object[] args, Object target)</span> <span class="keyword">throws</span> Throwable </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"æ‰§è¡Œäº†"</span>+method.getName()+<span class="string">"æ–¹æ³•ï¼Œè¿”å›ç»“æœä¸ºï¼š"</span>+returnValue);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.æœ€åå»springçš„æ–‡ä»¶ä¸­æ³¨å†Œ , å¹¶å®ç°aopåˆ‡å…¥å®ç° , æ³¨æ„å¯¼å…¥çº¦æŸï¼Œé…ç½®applicationContext.xmlæ–‡ä»¶</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span><br><span class="line">&lt;beans xmlns=<span class="string">"http://www.springframework.org/schema/beans"</span></span><br><span class="line">       xmlns:xsi=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span><br><span class="line">       xmlns:aop=<span class="string">"http://www.springframework.org/schema/aop"</span></span><br><span class="line">       xsi:schemaLocation=<span class="string">"http://www.springframework.org/schema/beans</span></span><br><span class="line"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span><br><span class="line"><span class="string">        http://www.springframework.org/schema/aop</span></span><br><span class="line"><span class="string">        https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--æ³¨å†Œbean--&gt;</span><br><span class="line">    &lt;bean id=<span class="string">"userService"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"com.kuang.service.UserServiceImpl"</span>/&gt;</span><br><span class="line">    &lt;bean id=<span class="string">"log"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"com.kuang.log.Log"</span>/&gt;</span><br><span class="line">    &lt;bean id=<span class="string">"afterLog"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"com.kuang.log.AfterLog"</span>/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!--æ–¹å¼ä¸€ï¼šä½¿ç”¨åŸç”ŸSpring APIæ¥å£--&gt;</span><br><span class="line">    &lt;!--é…ç½®aop:éœ€è¦å¯¼å…¥aopçš„çº¦æŸ--&gt;</span><br><span class="line">    &lt;aop:config&gt;</span><br><span class="line">        &lt;!--åˆ‡å…¥ç‚¹ï¼šexpressionï¼šè¡¨è¾¾å¼ï¼Œexecution(è¦æ‰§è¡Œçš„ä½ç½®ï¼* * * * *)--&gt;</span><br><span class="line">        &lt;aop:pointcut id=<span class="string">"pointcut"</span> expression=<span class="string">"execution(* com.kuang.service.UserServiceImpl.*(..))"</span>/&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!--æ‰§è¡Œç¯ç»•å¢åŠ ï¼--&gt;</span><br><span class="line">        &lt;aop:advisor advice-ref=<span class="string">"log"</span> pointcut-ref=<span class="string">"pointcut"</span>/&gt;</span><br><span class="line">        &lt;aop:advisor advice-ref=<span class="string">"afterLog"</span> pointcut-ref=<span class="string">"pointcut"</span>/&gt;</span><br><span class="line">    &lt;/aop:config&gt;</span><br><span class="line"></span><br><span class="line">&lt;/beans&gt;</span><br></pre></td></tr></table></figure><p>4.æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åŠ¨æ€ä»£ç†ä»£ç†çš„æ˜¯æ¥å£ï¼šæ³¨æ„ç‚¹</span></span><br><span class="line">        UserService userService = (UserService) context.getBean(<span class="string">"userService"</span>);</span><br><span class="line"></span><br><span class="line">        userService.add();</span><br><span class="line"><span class="comment">//        userService.select();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ–¹å¼äºŒï¼š</strong> è‡ªå®šä¹‰ç±»æ¥å®ç°AOPã€ä¸»è¦æ˜¯åˆ‡é¢å®šä¹‰ã€‘</p><ol><li>åœ¨diyåŒ…ä¸‹å®šä¹‰è‡ªå·±çš„DiyPointCutåˆ‡å…¥ç±»</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DiyPointCut</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"======æ–¹æ³•æ‰§è¡Œå‰======"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"======æ–¹æ³•æ‰§è¡Œå======"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.å»springä¸­é…ç½®æ–‡ä»¶</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--æ–¹å¼äºŒï¼šè‡ªå®šä¹‰ç±»--&gt;</span><br><span class="line">&lt;bean id=<span class="string">"diy"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"com.kuang.diy.DiyPointCut"</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;aop:config&gt;</span><br><span class="line">    &lt;!--è‡ªå®šä¹‰åˆ‡é¢ï¼Œref è¦å¼•ç”¨çš„ç±»--&gt;</span><br><span class="line">    &lt;aop:aspect ref=<span class="string">"diy"</span>&gt;</span><br><span class="line">        &lt;!--åˆ‡å…¥ç‚¹--&gt;</span><br><span class="line">        &lt;aop:pointcut id=<span class="string">"point"</span> expression=<span class="string">"execution(* com.kuang.service.UserServiceImpl.*(..))"</span>/&gt;</span><br><span class="line">        &lt;!--é€šçŸ¥--&gt;</span><br><span class="line">        &lt;aop:before method=<span class="string">"before"</span> pointcut-ref=<span class="string">"point"</span>/&gt;</span><br><span class="line">        &lt;aop:after method=<span class="string">"after"</span> pointcut-ref=<span class="string">"point"</span>/&gt;</span><br><span class="line">    &lt;/aop:aspect&gt;</span><br><span class="line">&lt;/aop:config&gt;</span><br></pre></td></tr></table></figure><p>3.æµ‹è¯•</p><p>åŒä¸Š</p><p><strong>æ–¹å¼ä¸‰ï¼š</strong> ä½¿ç”¨æ³¨è§£å®ç°ï¼</p><ol><li><p>åœ¨diyåŒ…ä¸‹å®šä¹‰æ³¨è§£å®ç°çš„AnnotationPointCutå¢å¼ºç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å£°æ˜å¼äº‹åŠ¡ï¼</span></span><br><span class="line"><span class="meta">@Aspect</span> <span class="comment">//æ ‡æ³¨è¿™ä¸ªç±»æ˜¯ä¸€ä¸ªåˆ‡é¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AnnotationPointCut</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before</span>(<span class="string">"execution(* com.kuang.service.UserServiceImpl.*(..))"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">before</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æ–¹æ³•æ‰§è¡Œå‰===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@After</span>(<span class="string">"execution(* com.kuang.service.UserServiceImpl.*(..))"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">after</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"====æ–¹æ³•æ‰§è¡Œå===="</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åœ¨ç¯ç»•å¢å¼ºä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ç»™å®šä¸€ä¸ªå‚æ•°ï¼Œä»£è¡¨æˆ‘ä»¬è¦è·å–å¤„ç†åˆ‡å…¥çš„ç‚¹ï¼›</span></span><br><span class="line">    <span class="meta">@Around</span>(<span class="string">"execution(* com.kuang.service.UserServiceImpl.*(..))"</span>)</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">around</span><span class="params">(ProceedingJoinPoint jp)</span> <span class="keyword">throws</span> Throwable</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"ç¯ç»•å‰"</span>);</span><br><span class="line"></span><br><span class="line">        Signature signature = jp.getSignature();<span class="comment">// è·å¾—ç­¾å</span></span><br><span class="line">        System.out.println(<span class="string">"signature:"</span>+signature);</span><br><span class="line"></span><br><span class="line">        Object proceed = jp.proceed(); <span class="comment">//æ‰§è¡Œæ–¹æ³•</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"ç¯ç»•å"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(proceed);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p>2.åœ¨Springé…ç½®æ–‡ä»¶ä¸­ï¼Œæ³¨å†Œbeanï¼Œå¹¶å¢åŠ æ”¯æŒæ³¨è§£çš„é…ç½®ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--æ–¹å¼ä¸‰ï¼šä½¿ç”¨æ³¨è§£--&gt;</span><br><span class="line">&lt;bean id=<span class="string">"annotationPointCut"</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">"com.kuang.diy.AnnotationPointCut"</span>/&gt;</span><br><span class="line">&lt;!--å¼€å¯æ³¨è§£æ”¯æŒï¼ JDK(é»˜è®¤æ˜¯ proxy-target-<span class="class"><span class="keyword">class</span></span>=<span class="string">"false"</span>)  cglibï¼ˆproxy-target-<span class="class"><span class="keyword">class</span></span>=<span class="string">"true"</span>ï¼‰--&gt;</span><br><span class="line">&lt;aop:aspectj-autoproxy/&gt;</span><br></pre></td></tr></table></figure><h1 id="12-æ•´åˆmybatis"><a href="#12-æ•´åˆmybatis" class="headerlink" title="12 .æ•´åˆmybatis"></a>12 .æ•´åˆmybatis</h1><p>mybatis-springå®˜ç½‘ï¼š<a href="https://mybatis.org/spring/zh/" target="_blank" rel="noopener">https://mybatis.org/spring/zh/</a><br><strong>mybatisçš„é…ç½®æµç¨‹ï¼š</strong></p><ol><li>ç¼–å†™å®ä½“ç±»</li><li>ç¼–å†™æ ¸å¿ƒé…ç½®æ–‡ä»¶</li><li>ç¼–å†™æ¥å£</li><li>ç¼–å†™Mapper.xmi</li><li>æµ‹è¯•</li></ol><h2 id="12-1-mybatis-spring-æ–¹å¼ä¸€"><a href="#12-1-mybatis-spring-æ–¹å¼ä¸€" class="headerlink" title="12.1 mybatis-spring-æ–¹å¼ä¸€"></a>12.1 mybatis-spring-æ–¹å¼ä¸€</h2><ol><li>ç¼–å†™æ•°æ®æºé…ç½®</li><li>sqISessionFactory</li><li>sqISessionTemplateï¼ˆç›¸å½“äºsqISessionï¼‰</li><li>éœ€è¦ç»™æ¥å£åŠ å®ç°ç±»ã€newã€‘</li><li>å°†è‡ªå·±å†™çš„å®ç°ç±»ï¼Œæ³¨å…¥åˆ°Springä¸­</li><li>æµ‹è¯•ï¼</li></ol><ul><li>å…ˆå¯¼å…¥jaråŒ…</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--Spring-webMVC--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.7.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">&lt;!--AOP--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">       <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--Spirng-jdbc--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.7.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--mybatis--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--mybatis-spring--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--mysql--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">       <span class="comment">&lt;!--lombok--&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">&lt;!--åœ¨buildä¸­é…ç½®resourcesï¼Œæ¥é˜²æ­¢èµ„æºå¯¼å‡ºå¤±è´¥çš„é—®é¢˜--&gt;</span></span><br><span class="line">   <span class="comment">&lt;!-- Mavenè§£å†³é™æ€èµ„æºè¿‡æ»¤é—®é¢˜ --&gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                   <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">               <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">           <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line">   <span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>å®ä½“ç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> String pwd;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ¥å£UserMapper</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">package mapper;</span><br><span class="line">import java.util.List;</span><br><span class="line">import pojo.User;</span><br><span class="line">public interface UserMapper &#123;</span><br><span class="line">public List<span class="tag">&lt;<span class="name">User</span>&gt;</span> getUser();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>UserMapperImpl</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">package mapper;</span><br><span class="line">import java.util.List;</span><br><span class="line">import org.mybatis.spring.SqlSessionTemplate;</span><br><span class="line">import pojo.User;</span><br><span class="line"></span><br><span class="line">public class UserMapperImpl implements UserMapper&#123;</span><br><span class="line"></span><br><span class="line">//æˆ‘ä»¬çš„æ‰€æœ‰æ“ä½œï¼Œåœ¨åŸæ¥éƒ½ä½¿ç”¨sqlSessionæ¥æ‰§è¡Œï¼Œç°åœ¨éƒ½ä½¿ç”¨SqlSessionTemplateï¼›</span><br><span class="line">private SqlSessionTemplate sqlSessionTemplate;</span><br><span class="line"></span><br><span class="line">//æ­¤å¤„setæ–¹æ³•æ˜¯ä¸ºäº†åœ¨Springé…ç½®æ–‡ä»¶ä¸­æ³¨å…¥å±æ€§æ—¶ä½¿ç”¨</span><br><span class="line">public void setSqlSessionTemplate(SqlSessionTemplate sqlSessionTemplate) &#123;</span><br><span class="line">this.sqlSessionTemplate = sqlSessionTemplate;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public List<span class="tag">&lt;<span class="name">User</span>&gt;</span> getUser() &#123;</span><br><span class="line">UserMapper mapper = sqlSessionTemplate.getMapper(UserMapper.class);</span><br><span class="line">return mapper.getUser();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>UserMapper.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span><br><span class="line">        </span><br><span class="line"><span class="comment">&lt;!-- ç»‘å®šæ¥å£ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.kuang.mapper.UserMapper"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getUser"</span> <span class="attr">resultType</span>=<span class="string">"com.kuang.pojo.User"</span>&gt;</span></span><br><span class="line">select * from mybatis.mybatis</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>resourceç›®å½•ä¸‹çš„ mybatis-config.xmlã€spring-dao.xmlã€applicationContext.xml</strong></p><ul><li>mybatis-config.xmlï¼ˆå¯ä»¥å®Œå…¨çœç•¥ï¼Œåœ¨spring-daoä¸­çš„sqlSessionFactoryä½ç½®è®¾ç½®ï¼‰</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">  <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">  <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--å¼€å¯æ—¥å¿—--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">"logImpl"</span> <span class="attr">value</span>=<span class="string">"STDOUT_LOGGING"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å¯ä»¥ç»™å®ä½“ç±»èµ·åˆ«å --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"pojo"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>spring-dao.xmlï¼ˆä»£æ›¿ä¹‹å‰çš„MybatisUtilså·¥å…·ç±»ï¼‰</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--DataSource:ä½¿ç”¨Springçš„æ•°å¸®æºæ›¿æ¢Mybatisçš„é…ç½® å…¶ä»–æ•°æ®æºï¼šc3p0ã€dbcpã€druid</span></span><br><span class="line"><span class="comment">        è¿™ä½¿ç”¨Springæä¾›çš„JDBC: org.springframework.jdbc.datasource --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--data source --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"datasource"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql:///mybatis?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8<span class="symbol">&amp;amp;</span>userSSL=false<span class="symbol">&amp;amp;</span>serverTimezone=GMT%2B8"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"123456"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--sqlSessionFactory--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"datasource"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ç»‘å®š mybatis é…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configLocation"</span> <span class="attr">value</span>=<span class="string">"classpath:mybatis-config.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperLocations"</span> <span class="attr">value</span>=<span class="string">"classpath:com/kuang/mapper/*.xml"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- sqlSessionTemplate å°±æ˜¯ä¹‹å‰ä½¿ç”¨çš„ï¼šsqlsession --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSession"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionTemplate"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åªèƒ½ä½¿ç”¨æ„é€ å™¨æ³¨å…¥sqlSessionFactory åŸå› ï¼šå®ƒæ²¡æœ‰setæ–¹æ³•--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">"0"</span> <span class="attr">ref</span>=<span class="string">"sqlSessionFactory"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userMapper"</span> <span class="attr">class</span>=<span class="string">"com.kuang.mapper.UserMapperImpl"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSessionTemplate"</span> <span class="attr">ref</span>=<span class="string">"sqlSession"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>applicationContext.xml(å¯¼å…¥spring-dao.xml)</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">&lt;!-- å¯¼å…¥spring-dao.xml --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"spring-dao.xml"</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userMapper"</span> <span class="attr">class</span>=<span class="string">"mapper.UserMapperImpl"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSessionTemplate"</span> <span class="attr">ref</span>=<span class="string">"sqlSession"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"><span class="keyword">import</span> mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> pojo.User;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        </span><br><span class="line">ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨æ„æ­¤å¤„ç¬¬äºŒä¸ªå‚æ•°åªèƒ½å¡«å†™UserMapperImpl.classï¼Œè€Œä¸èƒ½å†™UserMapper.class</span></span><br><span class="line"><span class="comment">//UserMapperImpl userMapper = context.getBean("userMapper", UserMapperImpl.class);</span></span><br><span class="line">UserMapper userMapper = (UserMapper) context.getBean(<span class="string">"userMapper"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (User user : userMapper.getUser()) &#123;</span><br><span class="line">System.out.println(user);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="12-2-mybatis-spring-æ–¹å¼äºŒ"><a href="#12-2-mybatis-spring-æ–¹å¼äºŒ" class="headerlink" title="12.2 mybatis-spring-æ–¹å¼äºŒ"></a>12.2 mybatis-spring-æ–¹å¼äºŒ</h2><ul><li>UserServiceImpl2</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> mapper;</span><br><span class="line"><span class="keyword">import</span> pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.support.SqlSessionDaoSupport;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="comment">//ç»§æ‰¿SqlSessionDaoSupport ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserMapperImpl2</span> <span class="keyword">extends</span> <span class="title">SqlSessionDaoSupport</span> <span class="keyword">implements</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">getUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        SqlSession sqlSession = getSqlSession();</span><br><span class="line">        UserMapper mapper = sqlSession.getMapper(UserMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="keyword">return</span> mapper.getUser();</span><br><span class="line">        <span class="comment">//æˆ–è€…ä¸€å¥è¯ï¼šreturn getSqlSession().getMapper(UserMapper.class).getUser();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>spring-dao.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--DataSource:ä½¿ç”¨Springçš„æ•°å¸®æºæ›¿æ¢Mybatisçš„é…ç½® å…¶ä»–æ•°æ®æºï¼šc3p0ã€dbcpã€druid</span></span><br><span class="line"><span class="comment">        è¿™ä½¿ç”¨Springæä¾›çš„JDBC: org.springframework.jdbc.datasource --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--data source --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"datasource"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql:///mybatis?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8<span class="symbol">&amp;amp;</span>userSSL=false<span class="symbol">&amp;amp;</span>serverTimezone=GMT%2B8"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"123456"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--sqlSessionFactory--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"datasource"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ç»‘å®š mybatis é…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configLocation"</span> <span class="attr">value</span>=<span class="string">"classpath:mybatis-config.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperLocations"</span> <span class="attr">value</span>=<span class="string">"classpath:com/kuang/mapper/*.xml"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- sqlSessionTemplate å°±æ˜¯ä¹‹å‰ä½¿ç”¨çš„ï¼šsqlsession --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSession"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionTemplate"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åªèƒ½ä½¿ç”¨æ„é€ å™¨æ³¨å…¥sqlSessionFactory åŸå› ï¼šå®ƒæ²¡æœ‰setæ–¹æ³•--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">"0"</span> <span class="attr">ref</span>=<span class="string">"sqlSessionFactory"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="comment">&lt;!-- æ–¹æ³•äºŒï¼šSqlSessionTemplate å¯ä»¥ä¸å†™äº†--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>applicationContext.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"spring-dao.xml"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- æ–¹æ³•äºŒ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userMapper2"</span> <span class="attr">class</span>=<span class="string">"mapper.UserMapperImpl2"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">ref</span>=<span class="string">"sqlSessionFactory"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest6</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line">UserMapper userMapper = (UserMapper) context.getBean(<span class="string">"userMapper2"</span>);</span><br><span class="line"><span class="keyword">for</span> (User user : userMapper.getUser()) &#123;</span><br><span class="line">System.out.println(user);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="13-å£°æ˜å¼äº‹åŠ¡"><a href="#13-å£°æ˜å¼äº‹åŠ¡" class="headerlink" title="13. å£°æ˜å¼äº‹åŠ¡"></a>13. å£°æ˜å¼äº‹åŠ¡</h1><ul><li>æŠŠä¸€ç»„ä¸šåŠ¡å½“æˆä¸€ä¸ªä¸šåŠ¡æ¥åšï¼›è¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ï¼</li><li>äº‹åŠ¡åœ¨é¡¹ç›®å¼€å‘ä¸­ï¼Œååˆ†çš„é‡è¦ï¼Œæ¶‰åŠåˆ°æ•°æ®çš„ä¸€è‡´æ€§é—®é¢˜</li><li>ç¡®ä¿å®Œæ•´æ€§å’Œä¸€è‡´æ€§</li></ul><p><strong>äº‹åŠ¡çš„ACIDåŸåˆ™ï¼š</strong><br>1ï¼ŒåŸå­æ€§ï¼ˆatomicï¼‰ï¼Œäº‹åŠ¡ç”±ä¸€ä¸ªæˆ–å¤šä¸ªè¡Œä¸ºæ†ç»‘åœ¨ä¸€èµ·æ„æˆï¼Œå¥½åƒæ˜¯ä¸€ä¸ªå•ç‹¬çš„å·¥ä½œå•å…ƒã€‚åŸå­æ€§ä¿è¯äº‹åŠ¡å†…çš„æ“ä½œè¦ä¹ˆéƒ½å‘ç”Ÿï¼Œè¦ä¹ˆéƒ½ä¸å‘ç”Ÿã€‚å‡å¦‚æ‰€æœ‰çš„æ“ä½œéƒ½æˆåŠŸäº†ï¼Œé‚£ä¹ˆäº‹åŠ¡æ˜¯æˆåŠŸçš„ã€‚åŠ å…¥ä»»ä½•ä¸€ä¸ªæ“ä½œå¤±è´¥ï¼Œé‚£ä¹ˆäº‹åŠ¡ä¼šè¿›è¡Œå›æ»šã€‚</p><p>2ï¼Œä¸€è‡´æ€§ï¼ˆconsistentï¼‰ï¼Œä¸€æ—¦ä¸€ä¸ªäº‹åŠ¡ç»“æŸäº†ï¼Œä¸ç®¡æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œç³»ç»Ÿæ‰€å¤„çš„çŠ¶æ€å’Œå®ƒçš„ä¸šåŠ¡è§„åˆ™æ˜¯ä¸€è‡´çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ•°æ®åº”å½“ä¸ä¼šè¢«ç ´åã€‚</p><p>3ï¼Œéš”ç¦»æ€§ï¼ˆisolationï¼‰ï¼Œäº‹åŠ¡åº”å½“å…è®¸å¤šåç”¨æˆ·æ“ä½œåŒä¸€ä¸ªæ•°æ®ï¼Œä¸€ä¸ªç”¨æˆ·çš„æ“ä½œä¸ä¼šå’Œå…¶ä»–ç”¨æˆ·çš„æ“ä½œç›¸æ··æ·†ã€‚å› æ­¤ï¼Œäº‹åŠ¡å¿…é¡»æ˜¯éš”ç¦»çš„ï¼Œé˜²æ­¢å¹¶è¡Œè¯»å†™åŒä¸€ä¸ªæ•°æ®çš„æƒ…å†µå‘ç”Ÿã€‚æ³¨æ„ï¼Œéš”ç¦»é€šå¸¸æ„å‘³ç€è¦é”å®šæ•°æ®åº“çš„è¡¨æˆ–è¡Œã€‚</p><p>4ï¼ŒæŒä¹…æ€§ï¼ˆdurableï¼‰ï¼Œä¸€æ—¦äº‹åŠ¡å®Œæˆï¼Œäº‹åŠ¡çš„ç»“æœåº”å½“æŒä¹…åŒ–ã€‚è¿™æ ·ä¸ç®¡ä»€ä¹ˆæ ·çš„ç³»ç»Ÿå´©æºƒï¼Œå®ƒä»¬éƒ½èƒ½å¹¸å…äºéš¾ã€‚</p><p><strong>å£°æ˜å¼äº‹åŠ¡</strong></p><p>å…ˆå¯¼å…¥jaråŒ…ï¼Œå¹¶æ²¡æœ‰æ–°å¢çš„ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-webmvc --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.7.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.aspectj<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>aspectjweaver<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.9.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework/spring-jdbc --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.7.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--åœ¨buildä¸­é…ç½®resourcesï¼Œæ¥é˜²æ­¢èµ„æºå¯¼å‡ºå¤±è´¥çš„é—®é¢˜--&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- Mavenè§£å†³é™æ€èµ„æºè¿‡æ»¤é—®é¢˜ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/resources<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.properties<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>false<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>pojoå®ä½“ç±»User</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">User</span> </span>&#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"><span class="keyword">private</span> String pwd;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ¥å£UserMapper</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.annotations.Param;</span><br><span class="line"><span class="keyword">import</span> pojo.User;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">getUser</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">insertUser</span><span class="params">(User user)</span></span>; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">delUser</span><span class="params">(@Param(<span class="string">"id"</span>)</span> <span class="keyword">int</span> id)</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>UserMapperImpl</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pojo.User;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.support.SqlSessionDaoSupport;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">UserMapperImpl</span> <span class="keyword">extends</span> <span class="title">SqlSessionDaoSupport</span> <span class="keyword">implements</span> <span class="title">UserMapper</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;User&gt; <span class="title">getUser</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    User user = <span class="keyword">new</span> User(<span class="number">5</span>,<span class="string">"ä½ å¥½"</span>,<span class="string">"ok"</span>);</span><br><span class="line">    insertUser(user);</span><br><span class="line">    delUser(<span class="number">5</span>);</span><br><span class="line">        SqlSession sqlSession = getSqlSession();</span><br><span class="line">        UserMapper mapper = sqlSession.getMapper(UserMapper<span class="class">.<span class="keyword">class</span>)</span>;</span><br><span class="line">        <span class="keyword">return</span> mapper.getUser();</span><br><span class="line">        <span class="comment">//æˆ–è€…return  getSqlSession().getMapper(UserMapper.class).getUser();</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ’å…¥</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">insertUser</span><span class="params">(User user)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> getSqlSession().getMapper(UserMapper<span class="class">.<span class="keyword">class</span>).<span class="title">insertUser</span>(<span class="title">user</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//åˆ é™¤</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">delUser</span><span class="params">(<span class="keyword">int</span> id)</span> </span>&#123;</span><br><span class="line"><span class="keyword">return</span> getSqlSession().getMapper(UserMapper<span class="class">.<span class="keyword">class</span>).<span class="title">delUser</span>(<span class="title">id</span>)</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>UserMapper.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">mapper</span></span></span><br><span class="line"><span class="meta">  <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">  <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-mapper.dtd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ç»‘å®šæ¥å£ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">"com.kuang.mapper.UserMapper"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"getUser"</span> <span class="attr">resultType</span>=<span class="string">"user"</span>&gt;</span></span><br><span class="line">select * from mybatis.user</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">"insertUser"</span>  <span class="attr">parameterType</span>=<span class="string">"user"</span> &gt;</span></span><br><span class="line">insert into  mybatis.user (id,name,pwd) values (#&#123;id&#125;,#&#123;name&#125;,#&#123;pwd&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">"delUser"</span> <span class="attr">parameterType</span>=<span class="string">"_int"</span>&gt;</span></span><br><span class="line">    delete from mybatis.user where id = #&#123;id&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>mybatis-config.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">  <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//mybatis.org//DTD Config 3.0//EN"</span></span></span><br><span class="line"><span class="meta">  <span class="meta-string">"http://mybatis.org/dtd/mybatis-3-config.dtd"</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- configuration --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å¼€å¯æ—¥å¿—--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">"logImpl"</span> <span class="attr">value</span>=<span class="string">"STDOUT_LOGGING"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å¯ä»¥ç»™å®ä½“ç±»èµ·åˆ«å--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">"pojo"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>spring-dao.xmlï¼ˆå·²å¯¼å…¥çº¦æŸï¼‰</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">"http://www.springframework.org/schema/tx"</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/tx</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/tx/spring-tx.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">        https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--DataSource:ä½¿ç”¨Springçš„æ•°å¸®æºæ›¿æ¢Mybatisçš„é…ç½® å…¶ä»–æ•°æ®æºï¼šc3p0ã€dbcpã€druid</span></span><br><span class="line"><span class="comment">        è¿™ä½¿ç”¨Springæä¾›çš„JDBC: org.springframework.jdbc.datasource --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--data source --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"datasource"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DriverManagerDataSource"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClassName"</span></span></span><br><span class="line"><span class="tag">              <span class="attr">value</span>=<span class="string">"com.mysql.cj.jdbc.Driver"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"url"</span> <span class="attr">value</span>=<span class="string">"jdbc:mysql:///mybatis?useUnicode=true<span class="symbol">&amp;amp;</span>characterEncoding=UTF-8<span class="symbol">&amp;amp;</span>userSSL=false<span class="symbol">&amp;amp;</span>serverTimezone=GMT%2B8"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">value</span>=<span class="string">"root"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span> <span class="attr">value</span>=<span class="string">"123456"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--sqlSessionFactory--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">class</span>=<span class="string">"org.mybatis.spring.SqlSessionFactoryBean"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"dataSource"</span> <span class="attr">ref</span>=<span class="string">"datasource"</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ç»‘å®š mybatis é…ç½®æ–‡ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"configLocation"</span> <span class="attr">value</span>=<span class="string">"classpath:mybatis-config.xml"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"mapperLocations"</span> <span class="attr">value</span>=<span class="string">"classpath:com/kuang/mapper/*.xml"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--å£°æ˜å¼äº‹åŠ¡--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"transactionManager"</span> <span class="attr">class</span>=<span class="string">"org.springframework.jdbc.datasource.DataSourceTransactionManager"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">ref</span>=<span class="string">"datasource"</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--ç»“åˆaopå®ç°äº‹åŠ¡ç»‡å…¥--&gt;</span></span><br><span class="line">  <span class="comment">&lt;!--é…ç½®äº‹åŠ¡çš„é€šçŸ¥ç±»--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">"txAdvice"</span> <span class="attr">transaction-manager</span>=<span class="string">"transactionManager"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ç»™å“ªäº›æ–¹æ³•é…ç½®äº‹åŠ¡--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--æ–°ä¸œè¥¿ï¼šé…ç½®äº‹åŠ¡çš„ä¼ æ’­ç‰¹æ€§ propagation--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"add"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"delete"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"update"</span> <span class="attr">propagation</span>=<span class="string">"REQUIRED"</span>/&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">"query"</span> <span class="attr">read-only</span>=<span class="string">"true"</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!-- *å·åŒ…å«ä¸Šé¢4ä¸ªæ–¹æ³•ï¼š</span></span><br><span class="line"><span class="comment">      &lt;tx:method name="*" propagation="REQUIRED"/&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!--é…ç½®äº‹åŠ¡åˆ‡å…¥--&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">"txpointcut"</span> <span class="attr">expression</span>=<span class="string">"execution(* com.kuang.mapper.*.*(..))"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">"txAdvice"</span> <span class="attr">pointcut-ref</span>=<span class="string">"txpointcut"</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>Springä¸­ä¸ƒç§Propagationç±»çš„äº‹åŠ¡å±æ€§è¯¦è§£ï¼š</p><ol><li><p>REQUIREDï¼šæ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡ã€‚è¿™æ˜¯æœ€å¸¸è§çš„é€‰æ‹©ä¹Ÿæ˜¯springçš„é»˜è®¤é€‰æ‹©ã€‚ </p></li><li><p>SUPPORTSï¼šæ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œã€‚ </p></li><li><p>MANDATORYï¼šæ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æŠ›å‡ºå¼‚å¸¸ã€‚ </p></li><li><p>REQUIRES_NEWï¼šæ–°å»ºäº‹åŠ¡ï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼ŒæŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚ </p></li><li><p>NOT_SUPPORTEDï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œæ“ä½œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œå°±æŠŠå½“å‰äº‹åŠ¡æŒ‚èµ·ã€‚ </p></li><li><p>NEVERï¼šä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œï¼Œå¦‚æœå½“å‰å­˜åœ¨äº‹åŠ¡ï¼Œåˆ™æŠ›å‡ºå¼‚å¸¸ã€‚ </p></li><li><p>NESTEDï¼šæ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰äº‹åŠ¡å­˜åœ¨ï¼Œåˆ™æ‰§è¡Œä¸€ä¸ªåµŒå¥—äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±æ–°å»ºä¸€ä¸ªäº‹åŠ¡ã€‚</p></li></ol><ul><li>applicationContext.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">"http://www.springframework.org/schema/beans"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xmlns:aop</span>=<span class="string">"http://www.springframework.org/schema/aop"</span></span></span><br><span class="line"><span class="tag"><span class="attr">xsi:schemaLocation</span>=<span class="string">"http://www.springframework.org/schema/beans</span></span></span><br><span class="line"><span class="tag"><span class="string">https://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">http://www.springframework.org/schema/aop</span></span></span><br><span class="line"><span class="tag"><span class="string">https://www.springframework.org/schema/aop/spring-aop.xsd"</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">"spring-dao.xml"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">"userMapper"</span> <span class="attr">class</span>=<span class="string">"mapper.UserMapperImpl"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"sqlSessionFactory"</span> <span class="attr">ref</span>=<span class="string">"sqlSessionFactory"</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•ç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.ApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.ClassPathXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> mapper.UserMapper;</span><br><span class="line"><span class="keyword">import</span> pojo.User;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyTest</span></span>&#123;</span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">ApplicationContext context = <span class="keyword">new</span> ClassPathXmlApplicationContext(<span class="string">"applicationContext.xml"</span>);</span><br><span class="line"></span><br><span class="line">UserMapper userMapper = (UserMapper) context.getBean(<span class="string">"userMapper"</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (User user : userMapper.getUser()) &#123;</span><br><span class="line">System.out.println(user);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong><br>UserMapperImplä¸­getUser()æ–¹æ³•å…ˆæ’å…¥ä¸€ä¸ªuseråœ¨åˆ é™¤ä¸€ä¸ªuserã€‚<br>åªæœ‰åœ¨åŒä¸€æ¬¡ä½¿ç”¨Sqlsessionæ—¶äº‹åŠ¡æ‰èµ·ä½œç”¨ã€‚</p><p>ä¸Šè¿°æ–‡ä»¶ä¸»è¦çœ‹spring-daoæœ€åé‚£éƒ¨åˆ†å³å¯</p>]]></content>
      
      
      <categories>
          
          <category> Java </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Java </tag>
            
            <tag> SSMæ¡†æ¶ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Win10ç¯å¢ƒ+ CUDA9.0 +CUDNN7.0+TensorFlow1.7_1.6_1.5é…ç½®ï¼ˆäº²æµ‹æœ‰æ•ˆï¼‰</title>
      <link href="/2020/05/24/Win10%E7%8E%AF%E5%A2%83+%20CUDA9.0%20+CUDNN7.0+TensorFlow1.7_1.6_1.5%E9%85%8D%E7%BD%AE%EF%BC%88%E4%BA%B2%E6%B5%8B%E6%9C%89%E6%95%88%EF%BC%89/"/>
      <url>/2020/05/24/Win10%E7%8E%AF%E5%A2%83+%20CUDA9.0%20+CUDNN7.0+TensorFlow1.7_1.6_1.5%E9%85%8D%E7%BD%AE%EF%BC%88%E4%BA%B2%E6%B5%8B%E6%9C%89%E6%95%88%EF%BC%89/</url>
      
        <content type="html"><![CDATA[<p>å‰è¨€ï¼šå¾ˆå¤šå°ä¼™ä¼´åœ¨é€‰æ‹©CUDAç‰ˆæœ¬å’Œcudnnç‰ˆæœ¬ä¸Šæœ‰ç–‘é—®ï¼Œè¿™é‡Œç®€çŸ­çš„è¯´ä¸€ä¸‹ï¼Œå¸Œæœ›èƒ½å¸®åˆ°å„ä½å°ä¼™ä¼´ï¼Œæˆ‘åœ¨ç½‘ä¸Šçœ‹åˆ°æœ‰äººè¯´ï¼Œè¦æ ¹æ®è‡ªå·±çš„æ˜¾å¡æ¥é€‰æ‹©CUDAï¼Œå…¶å®æ˜¯é”™è¯¯çš„ï¼Œä½ å¯ä»¥ä¸‹è½½è‡ªå·±æ‰€éœ€è¦çš„CUDAç‰ˆæœ¬,è¿™åªæ˜¯ä¸ªé©±åŠ¨è€Œå·²ã€‚CUDAçš„ç‰ˆæœ¬å’Œcunddçš„ç‰ˆæœ¬è¦å¯¹åº”ï¼Œä¸ç„¶å¯èƒ½ä¼šæœ‰ä¸å…¼å®¹æŠ¥é”™ã€‚CUDAæ˜¯æ˜¾å¡é©±åŠ¨ç¨‹åºï¼Œcunddæ˜¯ç”¨æ¥åŠ é€Ÿæ·±åº¦å­¦ä¹ è®­ç»ƒçš„åº“ï¼Œåœ¨è®­ç»ƒç½‘ç»œæ—¶ï¼Œä½¿ç”¨GPUåŠ é€Ÿï¼Œä¼šè°ƒCUDAé©±åŠ¨å’Œcudnnåº“ï¼Œå®‰è£…æ—¶ä¸¤è€…è¦è”ç³»èµ·æ¥ï¼Œæœ¬æ–‡çš„ç¬¬äºŒæ­¥ï¼Œå°±æ˜¯åšè¿™ä¸ªäº‹ã€‚</p><a id="more"></a><p>ç³»ç»Ÿç¯å¢ƒï¼šwindows10     64ä½</p><p>æ˜¾å¡ï¼šGTX1060</p><p>CUDAç‰ˆæœ¬:cuda_9.0.176_win10ï¼ˆé…å¥—çš„cudnnä¸€å®šè¦æ˜¯7ç‰ˆæœ¬ï¼‰</p><p>ä¸‹è½½åœ°å€ï¼š<a href="https://developer.nvidia.com/cuda-90-download-archive" target="_blank" rel="noopener">https://developer.nvidia.com/cuda-90-download-archive</a></p><p>CUDNNç‰ˆæœ¬:cudnn-9.0-windows10-x64-v7ï¼ˆ7ç‰ˆæœ¬çš„ï¼‰</p><p>ä¸‹è½½åœ°å€ï¼š<a href="https://developer.nvidia.com/cudnn" target="_blank" rel="noopener">https://developer.nvidia.com/cudnn</a></p><p>TensorFlow-gpuç‰ˆæœ¬ï¼šTensorFlow1.7ï¼ˆ1.6å’Œ1.5ä¹Ÿæ”¯æŒï¼‰</p><p>1.ä¸‹è½½CUDA, <a href="https://developer.nvidia.com/cuda-90-download-archive" target="_blank" rel="noopener">https://developer.nvidia.com/cuda-90-download-archive</a></p><p>æŒ‰ç…§è‡ªå·±æœºå™¨çš„ä¿¡æ¯é€‰æ‹©ï¼Œä¸‹å›¾æ˜¯æˆ‘è‡ªå·±æœºå™¨ä¿¡æ¯ï¼š<br><img src="https://img-blog.csdnimg.cn/20191208184341759.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>ä¸‹è½½å®Œä¹‹åç›´æ¥ç‚¹å‡»è¿è¡Œï¼Œä¼šè‡ªè¡Œå®‰è£…ï¼Œå®‰è£…æ—¶ä¼šè®©ä½ é€‰æ‹©ä¸€ä¸ªæ–‡ä»¶å¤¹ä½œä¸ºæŠ½å–æ–‡ä»¶ä¸´æ—¶å­˜æ”¾ï¼Œè®°ä½è¿™ä¸æ˜¯å®‰è£…æ–‡ä»¶å¤¹ï¼Œå®‰è£…æ–‡ä»¶å¤¹ç³»ç»Ÿä¼šè‡ªåŠ¨å®‰è£…åˆ°Cç›˜ï¼Œå…·ä½“æˆ‘åé¢ä¼šæåˆ°ï¼Œä¸´æ—¶æ–‡ä»¶å¤¹å®‰è£…å®Œåä¼šè‡ªåŠ¨åˆ é™¤ã€‚</p><p>2.ä¸‹è½½cudnn,ä¸‹è½½åœ°å€ï¼š<a href="https://developer.nvidia.com/cudnn" target="_blank" rel="noopener">https://developer.nvidia.com/cudnn</a>ï¼Œè¿›å»ä¹‹å,æ‰¾åˆ°å¯¹åº”çš„ç‰ˆæœ¬ï¼Œç‚¹å‡»Downloadï¼Œä»–ä¼šè¦ä½ æ³¨å†Œç™»å½•ï¼Œç„¶åå¡«ä¸ªé—®å·ï¼Œæ‰å¯ä»¥ä¸‹è½½ï¼Œè¿™ä¸€æ­¥è‡ªè¡ŒæŒ‰ç…§ç½‘ç«™æç¤ºåšå°±å¯ä»¥äº†ã€‚æäº¤å®Œé—®å·åï¼Œå°±å¯ä»¥ç‚¹å‡»ä¸‹è½½äº†ã€‚ä»¥ä¸‹æ˜¯ç‰ˆæœ¬é€‰æ‹©ç•Œé¢ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20191208184420513.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å‹¾é€‰è¿™ä¸ªï¼Œç„¶åé€‰æ‹©è¦ä¸‹è½½çš„ç‰ˆæœ¬ï¼Œæˆ‘é€‰çš„æ˜¯å›¾ä¸­åˆ’çº¿é‚£ä¸ªï¼ˆåº”è¯¥é€‰æ‹©7.0ç‰ˆæœ¬ï¼Œ7.1å¯èƒ½æœ‰äº›ä¸å…¼å®¹ï¼‰<br><img src="https://img-blog.csdnimg.cn/20191208184416438.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20191208184439173.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">ä¸‹è½½å®Œï¼Œè§£å‹cudnn,ä¼šå‡ºç°å››ä¸ªæ–‡ä»¶ï¼Œå¦‚ä¸‹ï¼š<br><img src="https://img-blog.csdnimg.cn/20191208184453559.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦å°†CUDAå’ŒCUDNNé“¾æ¥èµ·æ¥ï¼Œè¿™æ ·CUDAæ‰èƒ½è°ƒç”¨CUDNN.è¿™é‡Œæœ‰ä¸¤ç§æ–¹æ³•å°†CUDAå’ŒCUDNNé“¾æ¥èµ·æ¥</p><p>ç¬¬ä¸€ç§ï¼š</p><p>åœ¨ç¯å¢ƒå˜é‡ä¸‹é¢ï¼ŒæŠŠè§£å‹åæ–‡ä»¶çš„binç›®å½•åŠ åˆ°ç³»ç»Ÿç¯å¢ƒå˜é‡ä¸­ï¼Œæ”¾åœ¨pathä¸‹é¢ï¼Œå¦‚å›¾ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20191208184503194.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>é‡å¯ä¸€ä¸‹ç”µè„‘ï¼Œè®©ç¯å¢ƒå˜é‡ç”Ÿæ•ˆï¼Œå®Œæˆã€‚</p><p>ç¬¬äºŒç§ï¼š</p><p>å°±æ˜¯æŠŠcudnnä¸­çš„åº“åŠ å…¥åˆ°CUDAä¸­ï¼Œå› ä¸ºCUDAç³»ç»Ÿä¼šè‡ªåŠ¨å®‰è£…åˆ°cç›˜çš„Program Filesæ–‡ä»¶ä¸­ï¼Œé€‰æ‹©è¯¥æ–‡ä»¶å¤¹ä¸‹çš„NVIDIA GPUComputing Toolkitæ–‡ä»¶ï¼Œä¸€ç›´åˆ°<br><img src="https://img-blog.csdnimg.cn/20191208184518631.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°">è¿™ä¸ªæ–‡ä»¶å¤¹ä¸‹æœ‰å¦‚ä¸‹æ–‡ä»¶ï¼Œæˆ‘æ ‡å‡ºçš„è¿™ä¸‰ä¸ªï¼Œå’Œcudnnä¸­çš„å‰ä¸‰ä¸ªæ–‡ä»¶æ˜¯å¯¹åº”çš„å¦‚ä¸‹å›¾ï¼š<br><img src="https://img-blog.csdnimg.cn/20191208184534107.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>æ¥ä¸‹æ¥è¦åšçš„å°±æ˜¯ï¼ŒæŠŠcudnnä¸‰ä¸ªæ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶ï¼Œå¤åˆ¶åˆ°CUDAç›¸åº”æ–‡ä»¶å¤¹çš„ä¸‹é¢ï¼ˆä»”ç»†çœ‹ä¸€ä¸‹å°±ä¼šå‘ç°ä»–ä»¬çš„ç›®å½•ç»“æ„æ˜¯ä¸€æ ·çš„ï¼‰ï¼Œå®Œæˆã€‚</p><p>3.å®‰è£…TensorFlow</p><p>å®‰è£…ï¼šåœ¨å‘½ä»¤çª—å£ä¸­è¾“å…¥pip install tensorflow-gpuï¼Œ</p><p>å¦‚æœè¦å®‰è£…ï¼ˆæ›´æ–°ï¼‰æœ€æ–°çš„ç‰ˆæœ¬ï¼Œå¯è¾“å…¥ï¼š pip install â€“upgrade tensorFlow-gpu</p><p>ç­‰å¾…å®‰è£…å®Œæˆå³å¯</p><p>4.ç°åœ¨CUDA,cudnn,TensorFlowéƒ½å·²ç»å®‰è£…å¥½äº†ï¼Œå¯ä»¥å°½æƒ…çš„å»å†™TensorFlowä»£ç å•¦ï¼</p><p>ï¼ˆæ³¨ï¼šæ–°æ‰‹ç¬¬ä¸€æ¬¡ä½¿ç”¨TensorFlow-GPUç‰ˆæ—¶ï¼Œè®­ç»ƒç½‘ç»œæ—¶åº”è¯¥åœ¨tf.sessionå¤„åšä¸€ç‚¹ä¿®æ”¹ï¼Œå¦‚ä¸‹ï¼š</p><p>å°†with tf.Session() as sess:</p><p>æ”¹ä¸ºï¼š</p><p>config = tf.ConfigProto()<br>config.gpu_options.allow_growth = True</p><p>with tf.Session(config=config) as sess:</p><p>å¦åˆ™å¯èƒ½ä¼šæŠ¥é”™ï¼š<br><img src="https://img-blog.csdnimg.cn/20191208184545326.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>åŸå› æ˜¯å½“TensorFlowè¦å¤§é‡ä½¿ç”¨GPUæ—¶ï¼Œä¸ä¼šè‡ªåŠ¨ç»™å…¶åˆ†é…èµ„æºï¼Œéœ€è¦æ‰‹åŠ¨è°ƒæ•´ã€‚</p><p>ï¼‰</p>]]></content>
      
      
      <categories>
          
          <category> TensorFlow </category>
          
      </categories>
      
      
        <tags>
            
            <tag> CUDA </tag>
            
            <tag> TensorFlow </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨æ¸…åé•œåƒå¿«é€Ÿä¸‹è½½TensorFlowå„ç‰ˆæœ¬åŠå·²å®‰è£…ç‰ˆæœ¬æŸ¥çœ‹</title>
      <link href="/2020/05/24/%E4%BD%BF%E7%94%A8%E6%B8%85%E5%8D%8E%E9%95%9C%E5%83%8F%E5%BF%AB%E9%80%9F%E4%B8%8B%E8%BD%BDTensorFlow%E5%90%84%E7%89%88%E6%9C%AC%E5%8F%8A%E5%B7%B2%E5%AE%89%E8%A3%85%E7%89%88%E6%9C%AC%E6%9F%A5%E7%9C%8B/"/>
      <url>/2020/05/24/%E4%BD%BF%E7%94%A8%E6%B8%85%E5%8D%8E%E9%95%9C%E5%83%8F%E5%BF%AB%E9%80%9F%E4%B8%8B%E8%BD%BDTensorFlow%E5%90%84%E7%89%88%E6%9C%AC%E5%8F%8A%E5%B7%B2%E5%AE%89%E8%A3%85%E7%89%88%E6%9C%AC%E6%9F%A5%E7%9C%8B/</url>
      
        <content type="html"><![CDATA[<p>ä½¿ç”¨æ¸…åé•œåƒå¿«é€Ÿä¸‹è½½TensorFlowå„ç‰ˆæœ¬ï¼š</p><a id="more"></a><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install tensorflow-gpu==<span class="number">1.12</span><span class="number">.0</span> -i https://pypi.tuna.tsinghua.edu.cn/simple <span class="comment">#å¯æ”¹æˆä»»æ„ç‰ˆæœ¬</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> TensorFlow </category>
          
      </categories>
      
      
        <tags>
            
            <tag> TensorFlow </tag>
            
            <tag> æ¸…åé•œåƒ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç”¨pythonä¸åˆ°3ç§’æ‰¾å‡º1äº¿ä»¥å†…çš„è´¨æ•°</title>
      <link href="/2020/05/24/%E7%94%A8python%E4%B8%8D%E5%88%B03%E7%A7%92%E6%89%BE%E5%87%BA1%E4%BA%BF%E4%BB%A5%E5%86%85%E7%9A%84%E8%B4%A8%E6%95%B0/"/>
      <url>/2020/05/24/%E7%94%A8python%E4%B8%8D%E5%88%B03%E7%A7%92%E6%89%BE%E5%87%BA1%E4%BA%BF%E4%BB%A5%E5%86%85%E7%9A%84%E8%B4%A8%E6%95%B0/</url>
      
        <content type="html"><![CDATA[<p>ä¸‹é¢æ˜¯ç”¨pythonä¸åˆ°3ç§’æ‰¾å‡º1äº¿ä»¥å†…çš„è´¨æ•°</p><a id="more"></a><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys, time</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_prime</span><span class="params">(upper)</span>:</span></span><br><span class="line">    <span class="string">"""æ‰¾å‡ºå°äºupperçš„æ‰€æœ‰è´¨æ•°"""</span></span><br><span class="line">    </span><br><span class="line">    prime_list = list()</span><br><span class="line">    mid = int(np.sqrt(upper))</span><br><span class="line">    nums = np.arange(upper)</span><br><span class="line">    nums[<span class="number">1</span>] = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        primes = nums[nums&gt;<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> primes.any():</span><br><span class="line">            p = primes[<span class="number">0</span>]</span><br><span class="line">            prime_list.append(p)</span><br><span class="line">            nums[p::p] = <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> p &gt; mid:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    </span><br><span class="line">    prime_list.extend(nums[nums&gt;<span class="number">0</span>].tolist())</span><br><span class="line">    <span class="keyword">return</span> prime_list</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fast_find_prime</span><span class="params">(upper, base=<span class="number">100000</span>, block=<span class="number">20000000</span>)</span>:</span></span><br><span class="line">    <span class="string">"""å¿«é€Ÿæ‰¾å‡ºå°äºupperçš„æ‰€æœ‰è´¨æ•°"""</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> upper &lt;= base:</span><br><span class="line">        <span class="keyword">return</span> find_prime(upper)</span><br><span class="line">        </span><br><span class="line">    mid = int(np.sqrt(upper))</span><br><span class="line">    prime_list = find_prime(base)</span><br><span class="line">    prime_array = np.array(prime_list)</span><br><span class="line">    prime_array = prime_array[prime_array&lt;=mid]</span><br><span class="line">    </span><br><span class="line">    start = base</span><br><span class="line">    <span class="keyword">while</span> start &lt; upper:</span><br><span class="line">        end = start + block</span><br><span class="line">        <span class="keyword">if</span> end &gt; upper:</span><br><span class="line">            end = upper</span><br><span class="line">        print((start, end))</span><br><span class="line">        </span><br><span class="line">        prime_list.extend(process_func(start, np.copy(prime_array), (start, end)))</span><br><span class="line">        start += block</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> prime_list</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">process_func</span><span class="params">(id, primes, task_range)</span>:</span></span><br><span class="line">    <span class="string">"""æ‰§è¡Œåˆ†å—ä»»åŠ¡çš„å‡½æ•°</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    primes      - ç”¨ä»¥å‰”é™¤éè´¨æ•°çš„è´¨æ•°è¡¨</span></span><br><span class="line"><span class="string">    task_range  - åˆ†å—ä»»åŠ¡çš„æ•°å€¼èŒƒå›´</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    </span><br><span class="line">    nums = np.arange(task_range[<span class="number">0</span>], task_range[<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">for</span> p <span class="keyword">in</span> primes:</span><br><span class="line">        k = (p-task_range[<span class="number">0</span>]%p)%p</span><br><span class="line">        nums[k::p] = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> nums[nums&gt;<span class="number">0</span>].tolist()</span><br><span class="line"></span><br><span class="line">upper = <span class="number">100000000</span></span><br><span class="line">t0 = time.time()</span><br><span class="line">prime_list = fast_find_prime(upper)</span><br><span class="line">t1 = time.time()</span><br><span class="line">print(<span class="string">'æŸ¥æ‰¾%dä»¥å†…çš„è´¨æ•°è€—æ—¶%0.3fç§’ï¼Œå…±æ‰¾åˆ°%dä¸ªè´¨æ•°'</span>%(upper, t1-t0, len(prime_list)))</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200128193049230.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> æ•°å­—ç»Ÿè®¡ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>nodejså®‰è£…ä¸é…ç½®</title>
      <link href="/2020/05/22/nodejs%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/"/>
      <url>/2020/05/22/nodejs%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<p>1.ä¸‹è½½å¯¹åº”çš„nodejså®‰è£…åŒ…</p><a id="more"></a><p><a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">https://nodejs.org/en/download/</a><br><img src="https://img-blog.csdnimg.cn/20200516104258997.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>  2.è¿è¡Œå®‰è£…åŒ…ï¼Œé€‰æ‹©ç›¸å…³çš„è·¯å¾„ï¼Œä¸»è¦æ³¨æ„ç‚¹å¦‚ä¸‹é€‰æ‹©add to path,å› ä¸ºè¿™æ ·ä¼šè‡ªåŠ¨ç»™ä½ é…ç½®å¯¹åº”çš„ç¯å¢ƒå˜é‡ï¼Œå…¶ä½™çš„éƒ½æ˜¯ç›´æ¥ä¸‹ä¸€æ­¥ä¸‹ä¸€æ­¥ç„¶åinstall<br>  <img src="https://img-blog.csdnimg.cn/20200516104311876.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>    3.æ£€éªŒæ˜¯å¦å®‰è£…æˆåŠŸï¼Œæ‰§è¡Œä¸¤ä¸ªå‘½ä»¤node -v å’Œnpm -v(è¿™ä¸ªä¸»è¦é«˜ç‰ˆæœ¬çš„nodejsä¼šåœ¨å®‰è£…çš„è¿‡ç¨‹ä¸­è‡ªåŠ¨å¸®ä½ å®‰è£…çš„ï¼Œä¸»è¦çš„ä½œç”¨æ˜¯å¯¹Node.jsä¾èµ–çš„åŒ…è¿›è¡Œç®¡ç†ï¼Œä¹Ÿå¯ä»¥ç†è§£ä¸ºç”¨æ¥å®‰è£…/å¸è½½Node.jséœ€è¦è£…çš„ä¸œè¥¿) åˆ†åˆ«æŸ¥çœ‹ç‰ˆæœ¬ä¿¡æ¯<br>    <img src="https://img-blog.csdnimg.cn/20200516104323438.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Nodejs </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•å‘å¸ƒæ–‡ç« åˆ°è‡ªå·±æ­å»ºçš„hexoåšå®¢ä¸Šï¼</title>
      <link href="/2020/05/21/%E5%A6%82%E4%BD%95%E5%8F%91%E5%B8%83%E6%96%87%E7%AB%A0%E5%88%B0%E8%87%AA%E5%B7%B1%E6%90%AD%E5%BB%BA%E7%9A%84hexo%E5%8D%9A%E5%AE%A2%E4%B8%8A%EF%BC%81/"/>
      <url>/2020/05/21/%E5%A6%82%E4%BD%95%E5%8F%91%E5%B8%83%E6%96%87%E7%AB%A0%E5%88%B0%E8%87%AA%E5%B7%B1%E6%90%AD%E5%BB%BA%E7%9A%84hexo%E5%8D%9A%E5%AE%A2%E4%B8%8A%EF%BC%81/</url>
      
        <content type="html"><![CDATA[<p>ä¸‹é¢æ˜¯å‘å¸ƒåšå®¢çš„ä¸¤ç§æ–¹æ³•</p><a id="more"></a><h2 id="ç¬¬ä¸€ç§æ–¹æ³•"><a href="#ç¬¬ä¸€ç§æ–¹æ³•" class="headerlink" title="ç¬¬ä¸€ç§æ–¹æ³•"></a>ç¬¬ä¸€ç§æ–¹æ³•</h2><p>1.é€‰æ‹©ä¸€ä¸ªmarkdownç¼–è¾‘å™¨ï¼Œæˆ‘è§‰å¾—csdnè‡ªå¸¦çš„mdç¼–è¾‘å™¨å°±æŒºå¥½ç”¨çš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥æ³¨å†Œä¸€ä¸ªcsdnå¸å·ï¼Œå¾®ä¿¡æ‰«ä¸€æ‰«å°±okï¼›<br>2.æ³¨å†ŒæˆåŠŸåç™»å½•è¿›å»ï¼Œç”±äºé»˜è®¤çš„æ˜¯HTMLç¼–è¾‘å™¨ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦å…ˆä¿®æ”¹ä¸‹é»˜è®¤è®¾ç½®ï¼Œé¦–å…ˆæ‰¾åˆ°å³ä¸Šè§’å¤´åƒçš„ä½ç½®ï¼Œé€‰æ‹©è´¦å·è®¾ç½®ï¼Œç„¶åå¦‚å›¾é€‰æ‹©æˆ‘çš„åšå®¢<br><img src="https://img-blog.csdnimg.cn/20200520104623487.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20200520104629475.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>next å¾€ä¸‹ç¿»æ‰¾åˆ° é»˜è®¤ç¼–è¾‘å™¨ç±»å‹ï¼šé€‰æ‹©MarkDownç¼–è¾‘å™¨ ä¿å­˜å°±okäº†ï¼›<br>3.ç‚¹å‡»å†™åšå®¢ï¼Œå…ˆäº†è§£ä¸‹markdownç¼–è¾‘å™¨åŸºæœ¬çš„ç”¨æ³•ï¼Œç„¶åå°±å¯ä»¥å†™åšå®¢äº†ï¼Œå†™å¥½ä¹‹åå¯¼å‡ºåˆ°æœ¬åœ°<br><img src="https://img-blog.csdnimg.cn/20200520104651170.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>å¦‚å›¾ï¼Œç‚¹å‡»åé€‰æ‹©MarkDownï¼Œä¼šä¸‹è½½ä¸€ä¸ª .md æ–‡ä»¶ï¼›ç„¶åæ‰¾åˆ°è¿™ä¸ªmdæ–‡ä»¶ï¼ŒæŠŠå®ƒå¤åˆ¶åˆ°ä½ hexoåšå®¢æ–‡ä»¶å¤¹ ä¸­ source ä¸‹çš„ _posts ä¸­ï¼Œé»˜è®¤åªæœ‰ä¸€ä¸ª hello-world.mdï¼›</p><ol start="4"><li>å¤åˆ¶å®Œä¹‹åç„¶åä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å®ƒï¼Œåœ¨ç¬¬ä¸€è¡ŒåŠ ä¸Štitleï¼Œå†…å®¹è‡ªå®šï¼Œå¦‚</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">title: this is my first blog</span><br></pre></td></tr></table></figure><p>5.æ¥ç€åœ¨ä½ åšå®¢ç«™ç‚¹æ–‡ä»¶å¤¹ä¸‹å³é”®ç©ºç™½å¤„ï¼Œé€‰æ‹©Git Bash Hereï¼Œè¾“å…¥ hexo g (å®Œæ•´å‘½ä»¤ä¸ºhexo generate)ï¼Œç”¨äºç”Ÿæˆé™æ€æ–‡ä»¶<br>6 ç„¶å è¾“å…¥ hexo s(å®Œæ•´å‘½ä»¤ä¸ºhexo server)ï¼Œç”¨äºå¯åŠ¨æœåŠ¡å™¨ï¼Œä¸»è¦ç”¨æ¥æœ¬åœ°é¢„è§ˆï¼›å®Œæˆå æ‰“å¼€æµè§ˆå™¨è¾“å…¥ localhost:4000ï¼Œä¼šå‘ç°å¤šäº†ä½ åˆšå†™çš„é‚£ç¯‡åšå®¢<br>7 æœ€åè¾“å…¥hexo d(hexo deploy)ï¼Œç”¨äºå°†æœ¬åœ°æ–‡ä»¶å‘å¸ƒåˆ°githubç­‰gitä»“åº“ä¸Šï¼›<br>8 å¥½äº†ï¼Œå¤§åŠŸå‘Šæˆï¼</p><h2 id="ç¬¬äºŒç§æ–¹æ³•"><a href="#ç¬¬äºŒç§æ–¹æ³•" class="headerlink" title="ç¬¬äºŒç§æ–¹æ³•"></a>ç¬¬äºŒç§æ–¹æ³•</h2><p>â‘  æ–°å»ºä¸€ä¸ªç©ºæ–‡ç« ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œä¼šåœ¨é¡¹ç›® \Hexo\source_posts ä¸­ç”Ÿæˆ æ–‡ç« æ ‡é¢˜.md æ–‡ä»¶ï¼Œæ–‡ç« æ ‡é¢˜æ ¹æ®éœ€è¦å‘½å</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo n <span class="string">"æ–‡ç« æ ‡é¢˜"</span></span><br></pre></td></tr></table></figure><p>ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ \Hexo\source_posts ç›®å½•ä¸‹å³é”®é¼ æ ‡æ–°å»ºæ–‡æœ¬æ–‡æ¡£ï¼Œæ”¹åç¼€ä¸º .md å³å¯ï¼Œè¿™ç§æ–¹æ³•æ¯”è¾ƒæ–¹ä¾¿</p><p>â‘¡ ç”¨ç¼–è¾‘å™¨ç¼–å†™æ–‡ç« </p><p>md å…¨ç§° Markdownï¼Œ Markdown æ˜¯ 2004 å¹´ç”± John Gruberis è®¾è®¡å’Œå¼€å‘çš„çº¯æ–‡æœ¬æ ¼å¼çš„è¯­æ³•ï¼Œéå¸¸çš„ç®€å•å®ç”¨ï¼Œå¸¸ç”¨çš„æ ‡è®°ç¬¦å·å±ˆæŒ‡å¯æ•°ï¼Œå‡ åˆ†é’Ÿå³å¯å­¦ä¼šï¼Œ .md æ–‡ä»¶å¯ä»¥ä½¿ç”¨æ”¯æŒ Markdown è¯­æ³•çš„ç¼–è¾‘å™¨ç¼–è¾‘ï¼Œç„¶åä¿å­˜æ–‡ä»¶åˆ° \Hexo\source_posts æ–‡ä»¶å¤¹ä¸‹å³å¯</p><p>æ¨è Windows ä¸Šä½¿ç”¨ MarkdownPad2 æˆ–è€…å°ä¹¦åŒ  ç¼–è¾‘å™¨ï¼ŒmacOS ä¸Šä½¿ç”¨ Mou ç¼–è¾‘å™¨ï¼ŒLinux ä¸Šä½¿ç”¨ Remarkableç¼–è¾‘å™¨ï¼ŒWeb ç«¯ä¸Šä½¿ç”¨CSDN ï¼Œå…¶ä»–ç¼–è¾‘å™¨æ¨èå¯ä»¥å‚è€ƒæˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« ï¼šã€Šæœ€æ–°ä¸»æµ Markdown ç¼–è¾‘å™¨æ¨èã€‹</p><p>æ–‡ç« æ ‡é¢˜ï¼Œæ ‡ç­¾ï¼Œåˆ†ç±»ï¼Œå°é¢å›¾ç‰‡ï¼Œæ‘˜è¦ç­‰ï¼Œå¯ä»¥åœ¨ Front-matter é‡Œé¢é…ç½®ï¼ˆFront-matter æ˜¯æ–‡ä»¶æœ€ä¸Šæ–¹ä»¥ â€” åˆ†éš”çš„åŒºåŸŸï¼Œç”¨äºæŒ‡å®šä¸ªåˆ«æ–‡ä»¶çš„å˜é‡ï¼Œå®˜æ–¹æ–‡æ¡£ï¼š<a href="https://hexo.io/zh-cn/docs/front-matter" target="_blank" rel="noopener">https://hexo.io/zh-cn/docs/front-matter</a> ï¼‰ï¼Œä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">layout: é¡µé¢å¸ƒå±€ï¼ˆé…åˆä¸»é¢˜æ–‡æ¡£ä½¿ç”¨ï¼‰</span><br><span class="line">title: æ–‡ç« åç§°</span><br><span class="line">date: æ–‡ç« æ—¥æœŸ</span><br><span class="line">comments: æ–‡ç« æ˜¯å¦å¼€å¯è¯„è®º</span><br><span class="line">photos: æ–‡ç« å°é¢å›¾ï¼ˆä»…éƒ¨åˆ†ä¸»é¢˜æ”¯æŒï¼‰</span><br><span class="line">tags: </span><br><span class="line">  - æ–‡ç« æ ‡ç­¾ä¸€</span><br><span class="line">  - æ–‡ç« æ ‡ç­¾äºŒ</span><br><span class="line">categories: æ–‡ç« åˆ†ç±»</span><br><span class="line">description: æ–‡ç« æè¿°ï¼Œå³è¦åœ¨é¦–é¡µæ˜¾ç¤ºçš„æ‘˜è¦ï¼ˆä»…éƒ¨åˆ†ä¸»é¢˜æ”¯æŒï¼‰</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line">è¿™é‡Œæ˜¯æ‘˜è¦</span><br><span class="line"></span><br><span class="line">&lt;!-- more --&gt;</span><br><span class="line"></span><br><span class="line">è¿™é‡Œæ˜¯æ­£æ–‡</span><br><span class="line"></span><br><span class="line">æ³¨æ„ï¼šdescription å’Œ &lt;!-- more --&gt; æ–¹å¼æ˜¾ç¤ºæ‘˜è¦äºŒé€‰ä¸€å³å¯ï¼Œéƒ¨åˆ†ä¸»é¢˜ä¸æ”¯æŒdescriptionï¼Œæ¯ä¸ªé…ç½®è‹±æ–‡å†’å·åé¢è¦ç©ºä¸€æ ¼ï¼Œä¸åŒä¸»é¢˜é…ç½®æœ‰æ‰€å·®å¼‚ï¼Œå…·ä½“è¦å‚è€ƒä¸»é¢˜æ–‡æ¡£</span><br></pre></td></tr></table></figure><p>å½“æˆ‘ä»¬ç”¨ç¼–è¾‘å™¨å†™å¥½æ–‡ç« åï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†å…¶æ¨é€åˆ°æœåŠ¡å™¨ä¸Š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g  </span><br><span class="line">$ hexo d</span><br></pre></td></tr></table></figure><p>æˆ–è€…å°†ä¸¤ä¸ªå‘½ä»¤åˆäºŒä¸ºä¸€è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo d -g</span><br></pre></td></tr></table></figure><p>ç°åœ¨è®¿é—®ä½ çš„åšå®¢å°±å¯ä»¥çœ‹è§å†™å¥½çš„æ–‡ç« å•¦ï¼</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> å‘å¸ƒåšå®¢ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä½¿ç”¨ Github å’Œ Hexo æ­å»ºè‡ªå·±çš„ç‹¬ç«‹åšå®¢</title>
      <link href="/2020/05/20/%E4%BD%BF%E7%94%A8%20Github%20%E5%92%8C%20Hexo%20%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E7%8B%AC%E7%AB%8B%E5%8D%9A%E5%AE%A2/"/>
      <url>/2020/05/20/%E4%BD%BF%E7%94%A8%20Github%20%E5%92%8C%20Hexo%20%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E7%8B%AC%E7%AB%8B%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<p>æˆ‘çš„åšå®¢åœ°å€ï¼š<a href="https://supremezjc.github.io" target="_blank" rel="noopener">https://supremezjc.github.io</a></p><a id="more"></a><p>@<a href="æ–‡ç« ä¸»é¢˜">TOC</a></p><h2 id="â—-å…¥é—¨"><a href="#â—-å…¥é—¨" class="headerlink" title="â— å…¥é—¨"></a>â— å…¥é—¨</h2><p>Github Pages<br>Github Pageså¯ä»¥è¢«è®¤ä¸ºæ˜¯ç”¨æˆ·ç¼–å†™çš„ã€æ‰˜ç®¡åœ¨githubä¸Šçš„é™æ€ç½‘é¡µã€‚ä½¿ç”¨Github Pageså¯ä»¥ä¸ºä½ æä¾›ä¸€ä¸ªå…è´¹çš„æœåŠ¡å™¨ï¼Œå…å»äº†è‡ªå·±æ­å»ºæœåŠ¡å™¨å’Œå†™æ•°æ®åº“çš„éº»çƒ¦ã€‚æ­¤å¤–è¿˜å¯ä»¥ç»‘å®šè‡ªå·±çš„åŸŸåã€‚</p><p>Hexo<br>Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚Hexo ä½¿ç”¨ Markdownï¼ˆæˆ–å…¶ä»–æ¸²æŸ“å¼•æ“ï¼‰è§£ææ–‡ç« ï¼Œåœ¨å‡ ç§’å†…ï¼Œå³å¯åˆ©ç”¨é“ä¸½çš„ä¸»é¢˜ç”Ÿæˆé™æ€ç½‘é¡µã€‚</p><h2 id="â—-å®‰è£…-Node-js"><a href="#â—-å®‰è£…-Node-js" class="headerlink" title="â— å®‰è£… Node.js"></a>â— å®‰è£… Node.js</h2><p><a href="https://nodejs.org/en/download/" target="_blank" rel="noopener">ç‚¹å‡»æ­¤å¤„</a>è®¿é—®å®˜ç½‘ï¼ŒæŒ‰éœ€ä¸‹è½½ç›¸åº”ç‰ˆæœ¬ï¼Œé»˜è®¤å®‰è£…å¯ä»¥äº†ã€‚<br>å¦‚æœä¸æ‡‚å¯ä»¥çœ‹æˆ‘çš„å¦ä¸€ç¯‡æ–‡ç« <br><a href="https://blog.csdn.net/weixin_44517301/article/details/106155725" target="_blank" rel="noopener">nodejsçš„å®‰è£…å’Œé…ç½®</a></p><p><img src="https://img-blog.csdnimg.cn/20200520154538938.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="â—-å®‰è£…-Git"><a href="#â—-å®‰è£…-Git" class="headerlink" title="â— å®‰è£… Git"></a>â— å®‰è£… Git</h2><p><a href="https://git-scm.com/download/win" target="_blank" rel="noopener">ç‚¹å‡»æ­¤å¤„è®¿é—®å®˜ç½‘ï¼ŒæŒ‰éœ€ä¸‹è½½ç›¸åº”ç‰ˆæœ¬ï¼Œé»˜è®¤å®‰è£…å³å¯ </a></p><h3 id="â€¢-æ£€éªŒGitæ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#â€¢-æ£€éªŒGitæ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="â€¢ æ£€éªŒGitæ˜¯å¦å®‰è£…æˆåŠŸ"></a>â€¢ æ£€éªŒGitæ˜¯å¦å®‰è£…æˆåŠŸ</h3><p>åŒæ—¶æŒ‰ä¸‹ Win é”®å’Œ R é”®æ‰“å¼€è¿è¡Œçª—å£,è¾“å…¥ cmd ï¼Œç„¶åè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œæœ‰ç›¸åº”ç‰ˆæœ¬ä¿¡æ¯æ˜¾ç¤ºåˆ™å®‰è£…æˆåŠŸï¼Œè‹¥ä¸æ­£ç¡®å¯ä»¥å¸è½½è½¯ä»¶é‡æ–°å®‰è£…ï¼Œæ­¤å¤–è‹¥å®‰è£…æˆåŠŸï¼Œåœ¨æ¡Œé¢å³é”®é¼ æ ‡ï¼Œå¯ä»¥çœ‹åˆ°èœå•é‡Œå¤šäº† Git GUI Here å’Œ Git Bash Hereä¸¤ä¸ªé€‰é¡¹ï¼Œç¬¬ä¸€ä¸ªæ˜¯å›¾å½¢ç•Œé¢çš„Gitæ“ä½œï¼Œå¦ä¸€ä¸ªæ˜¯å‘½ä»¤è¡Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git --version  </span><br><span class="line">$ node -v  </span><br><span class="line">$ npm -v</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200520155648411.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br><img src="https://img-blog.csdnimg.cn/20200520155654136.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="â—-å®‰è£…Hexo"><a href="#â—-å®‰è£…Hexo" class="headerlink" title="â— å®‰è£…Hexo"></a>â— å®‰è£…Hexo</h2><p>é€‰æ‹©ä¸€ä¸ªç£ç›˜ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œè‡ªå·±é‡å‘½åæ–‡ä»¶å¤¹ï¼ˆå¦‚ï¼šæˆ‘çš„æ–‡ä»¶å¤¹ä¸ºï¼šï¼¥\TRHX_Blogï¼‰ï¼Œåšå®¢ç›¸å…³æ–‡ä»¶å°†å‚¨å­˜åœ¨æ­¤æ–‡ä»¶å¤¹ä¸‹ï¼Œåœ¨è¯¥æ–‡ä»¶å¤¹ä¸‹å³é”®é¼ æ ‡ï¼Œç‚¹å‡» Git Bash Hereï¼Œè¾“å…¥ä»¥ä¸‹ npm å‘½ä»¤å³å¯å®‰è£…ï¼Œç¬¬ä¸€ä¸ªå‘½ä»¤è¡¨ç¤ºå®‰è£… hexoï¼Œç¬¬äºŒä¸ªå‘½ä»¤è¡¨ç¤ºå®‰è£… hexo éƒ¨ç½²åˆ° git page çš„ deployerï¼Œå¦‚å›¾æ‰€ç¤ºå³ä¸ºå®‰è£…æˆåŠŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ npm install hexo-cli -g  </span><br><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200520155736814.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="â€¢-Hexo-åˆå§‹åŒ–é…ç½®"><a href="#â€¢-Hexo-åˆå§‹åŒ–é…ç½®" class="headerlink" title="â€¢ Hexo åˆå§‹åŒ–é…ç½®"></a>â€¢ Hexo åˆå§‹åŒ–é…ç½®</h3><p>åœ¨åˆšæ‰æ–°å»ºçš„æ–‡ä»¶å¤¹é‡Œé¢å†æ¬¡æ–°å»ºä¸€ä¸ª Hexo æ–‡ä»¶å¤¹ï¼ˆå¦‚ï¼šæˆ‘çš„æ–‡ä»¶å¤¹ä¸ºï¼šE\TRHX_Blog\Hexoï¼‰,è¿›å…¥è¯¥ Hexo æ–‡ä»¶å¤¹å³é”®é¼ æ ‡ï¼Œç‚¹å‡» Git Bash Hereï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå¦‚å›¾æ‰€ç¤ºåˆ™å®‰è£…æˆåŠŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo init</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200520155815590.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>Hexo å®‰è£…å®Œæˆåï¼Œå°†ä¼šåœ¨æŒ‡å®šæ–‡ä»¶å¤¹ä¸­æ–°å»ºæ‰€éœ€è¦çš„æ–‡ä»¶ï¼ŒHexo æ–‡ä»¶å¤¹ä¸‹çš„ç›®å½•å¦‚ä¸‹ï¼š<br><img src="https://img-blog.csdnimg.cn/20200520155830378.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="â—-æœ¬åœ°æŸ¥çœ‹æ•ˆæœ"><a href="#â—-æœ¬åœ°æŸ¥çœ‹æ•ˆæœ" class="headerlink" title="â— æœ¬åœ°æŸ¥çœ‹æ•ˆæœ"></a>â— æœ¬åœ°æŸ¥çœ‹æ•ˆæœ</h2><p>æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œæ‰§è¡Œå®Œå³å¯ç™»å½• <a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> æŸ¥çœ‹æ•ˆæœ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate  </span><br><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>æ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯è¯´æ˜æ“ä½œæˆåŠŸï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INFO Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20200520155922651.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h2 id="â—-å°†åšå®¢éƒ¨ç½²åˆ°-Github-Pages-ä¸Š"><a href="#â—-å°†åšå®¢éƒ¨ç½²åˆ°-Github-Pages-ä¸Š" class="headerlink" title="â— å°†åšå®¢éƒ¨ç½²åˆ° Github Pages ä¸Š"></a>â— å°†åšå®¢éƒ¨ç½²åˆ° Github Pages ä¸Š</h2><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬çš„æœ¬åœ°åšå®¢å°±æˆåŠŸæ­å»ºäº†ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬åªèƒ½é€šè¿‡æœ¬åœ°è¿æ¥æŸ¥çœ‹åšå®¢ï¼Œæˆ‘ä»¬è¦åšçš„æ˜¯è®©å…¶ä»–äººä¹Ÿèƒ½å¤Ÿè®¿é—®æˆ‘ä»¬çš„åšå®¢ï¼Œè¿™å°±éœ€è¦æˆ‘ä»¬å°†åšå®¢éƒ¨ç½²åˆ°Github Pagesä¸Š</p><h3 id="â€¢-æ³¨å†Œ-Github-è´¦æˆ·"><a href="#â€¢-æ³¨å†Œ-Github-è´¦æˆ·" class="headerlink" title="â€¢ æ³¨å†Œ Github è´¦æˆ·"></a>â€¢ æ³¨å†Œ Github è´¦æˆ·</h3><p><a href="https://github.com/" target="_blank" rel="noopener">ç‚¹å‡»æ­¤å¤„è®¿é—® Github å®˜ç½‘ï¼Œç‚¹å‡» Sign Up æ³¨å†Œè´¦æˆ·</a></p><h3 id="â€¢-åˆ›å»ºé¡¹ç›®ä»£ç åº“"><a href="#â€¢-åˆ›å»ºé¡¹ç›®ä»£ç åº“" class="headerlink" title="â€¢ åˆ›å»ºé¡¹ç›®ä»£ç åº“"></a>â€¢ åˆ›å»ºé¡¹ç›®ä»£ç åº“</h3><p>ç‚¹å‡» New repository å¼€å§‹åˆ›å»ºï¼Œæ­¥éª¤åŠæ³¨æ„äº‹é¡¹è§ä¸‹å›¾ï¼š</p><p><img src="https://img-blog.csdnimg.cn/20200520160058677.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="â€¢-é…ç½®-SSH-å¯†é’¥"><a href="#â€¢-é…ç½®-SSH-å¯†é’¥" class="headerlink" title="â€¢ é…ç½® SSH å¯†é’¥"></a>â€¢ é…ç½® SSH å¯†é’¥</h3><p>åªæœ‰é…ç½®å¥½ SSH å¯†é’¥åï¼Œæˆ‘ä»¬æ‰å¯ä»¥é€šè¿‡ git æ“ä½œå®ç°æœ¬åœ°ä»£ç åº“ä¸ Github ä»£ç åº“åŒæ­¥ï¼Œåœ¨ä½ ç¬¬ä¸€æ¬¡æ–°å»ºçš„æ–‡ä»¶å¤¹é‡Œé¢ï¼ˆå¦‚ï¼šæˆ‘çš„æ–‡ä»¶å¤¹ä¸ºï¼šï¼¥\TRHX_Blogï¼‰ Git Bash Here è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C <span class="string">"your email@example.com"</span> </span><br><span class="line">//å¼•å·é‡Œé¢å¡«å†™ä½ çš„é‚®ç®±åœ°å€ï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯1248164682.qq.com</span><br></pre></td></tr></table></figure><p>ä¹‹åä¼šå‡ºç°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Generating public/private rsa key pair.  </span><br><span class="line">Enter file <span class="keyword">in</span> <span class="built_in">which</span> to save the key (/c/Users/you/.ssh/id_rsa):  </span><br><span class="line">//åˆ°è¿™é‡Œå¯ä»¥ç›´æ¥å›è½¦å°†å¯†é’¥æŒ‰é»˜è®¤æ–‡ä»¶è¿›è¡Œå­˜å‚¨</span><br></pre></td></tr></table></figure><p>ç„¶åä¼šå‡ºç°ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase):  </span><br><span class="line">//è¿™é‡Œæ˜¯è¦ä½ è¾“å…¥å¯†ç ï¼Œå…¶å®ä¸éœ€è¦è¾“ä»€ä¹ˆå¯†ç ï¼Œç›´æ¥å›è½¦å°±è¡Œ </span><br><span class="line">Enter same passphrase again:</span><br></pre></td></tr></table></figure><p>æ¥ä¸‹æ¥å±å¹•ä¼šæ˜¾ç¤ºï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Your identification has been saved <span class="keyword">in</span> /c/Users/you/.ssh/id_rsa.  </span><br><span class="line">Your public key has been saved <span class="keyword">in</span> /c/Users/you/.ssh/id_rsa.pub.  </span><br><span class="line">The key fingerprint is:  </span><br><span class="line">è¿™é‡Œæ˜¯å„ç§å­—æ¯æ•°å­—ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œç»“å°¾æ˜¯ä½ çš„é‚®ç®±  </span><br><span class="line">The key<span class="string">'s randomart image is:  </span></span><br><span class="line"><span class="string">è¿™é‡Œä¹Ÿæ˜¯å„ç§å­—æ¯æ•°å­—ç¬¦å·ç»„æˆçš„å­—ç¬¦ä¸²</span></span><br></pre></td></tr></table></figure><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå°†å…¬é’¥çš„å†…å®¹å¤åˆ¶åˆ°ç³»ç»Ÿç²˜è´´æ¿ä¸Š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ clip &lt; ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><h3 id="â€¢-åœ¨-GitHub-è´¦æˆ·ä¸­æ·»åŠ ä½ çš„å…¬é’¥"><a href="#â€¢-åœ¨-GitHub-è´¦æˆ·ä¸­æ·»åŠ ä½ çš„å…¬é’¥" class="headerlink" title="â€¢ åœ¨ GitHub è´¦æˆ·ä¸­æ·»åŠ ä½ çš„å…¬é’¥"></a>â€¢ åœ¨ GitHub è´¦æˆ·ä¸­æ·»åŠ ä½ çš„å…¬é’¥</h3><p>â‘  ç™»é™† GitHubï¼Œè¿›å…¥ Settingsï¼š<br><img src="https://img-blog.csdnimg.cn/20200520160520620.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>â‘¡ ç‚¹å‡» SSH and GPG Keysï¼š<br><img src="https://img-blog.csdnimg.cn/20200520160607941.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>â‘¢ é€‰æ‹© New SSH keyï¼š<br><img src="https://img-blog.csdnimg.cn/20200520160619170.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>â‘£ ç²˜è´´å¯†é’¥ï¼š<br><img src="https://img-blog.csdnimg.cn/20200520160634868.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="â€¢-æµ‹è¯•"><a href="#â€¢-æµ‹è¯•" class="headerlink" title="â€¢ æµ‹è¯•"></a>â€¢ æµ‹è¯•</h3><p>è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼šæ³¨æ„ï¼š<a href="mailto:git@github.com">git@github.com</a>ä¸è¦åšä»»ä½•æ›´æ”¹ï¼</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>ä¹‹åä¼šæ˜¾ç¤ºï¼š<br><img src="https://img-blog.csdnimg.cn/20200520160821685.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>è¾“å…¥ yes åä¼šæ˜¾ç¤ºï¼š<br><img src="https://img-blog.csdnimg.cn/2020052016083213.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"></p><h3 id="â€¢-é…ç½®-Git-ä¸ªäººä¿¡æ¯"><a href="#â€¢-é…ç½®-Git-ä¸ªäººä¿¡æ¯" class="headerlink" title="â€¢ é…ç½® Git ä¸ªäººä¿¡æ¯"></a>â€¢ é…ç½® Git ä¸ªäººä¿¡æ¯</h3><p>Git ä¼šæ ¹æ®ç”¨æˆ·çš„åå­—å’Œé‚®ç®±æ¥è®°å½•æäº¤ï¼ŒGitHub ä¹Ÿæ˜¯ç”¨è¿™äº›ä¿¡æ¯æ¥åšæƒé™çš„å¤„ç†ï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿›è¡Œä¸ªäººä¿¡æ¯çš„è®¾ç½®ï¼ŒæŠŠåç§°å’Œé‚®ç®±æ›¿æ¢æˆä½ è‡ªå·±çš„ï¼Œåå­—å¯ä»¥ä¸æ˜¯ GitHub çš„æ˜µç§°ï¼Œä½†ä¸ºäº†æ–¹ä¾¿è®°å¿†ï¼Œå»ºè®®ä¸ GitHub ä¸€è‡´</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name <span class="string">"æ­¤å¤„å¡«ä½ çš„ç”¨æˆ·å"</span>  </span><br><span class="line">$ git config --global user.email  <span class="string">"æ­¤å¤„å¡«ä½ çš„é‚®ç®±"</span></span><br></pre></td></tr></table></figure><p>åˆ°æ­¤ä¸ºæ­¢ SSH Key é…ç½®æˆåŠŸï¼Œæœ¬æœºå·²æˆåŠŸè¿æ¥åˆ° Github</p><h2 id="â—-å°†æœ¬åœ°çš„-Hexo-æ–‡ä»¶æ›´æ–°åˆ°-Github-çš„åº“ä¸­"><a href="#â—-å°†æœ¬åœ°çš„-Hexo-æ–‡ä»¶æ›´æ–°åˆ°-Github-çš„åº“ä¸­" class="headerlink" title="â— å°†æœ¬åœ°çš„ Hexo æ–‡ä»¶æ›´æ–°åˆ° Github çš„åº“ä¸­"></a>â— å°†æœ¬åœ°çš„ Hexo æ–‡ä»¶æ›´æ–°åˆ° Github çš„åº“ä¸­</h2><p>â‘  ç™»å½• Github æ‰“å¼€è‡ªå·±çš„é¡¹ç›® your name.github.io<br><img src="https://img-blog.csdnimg.cn/20200520161042901.png" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>â‘¡ é¼ æ ‡ç§»åˆ° Clone or download æŒ‰é’®ï¼Œé€‰æ‹© Use SSH<br><img src="https://img-blog.csdnimg.cn/20200520161054104.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>â‘¢ ä¸€é”®å¤åˆ¶åœ°å€<br><img src="https://img-blog.csdnimg.cn/20200520161105542.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>â‘£ æ‰“å¼€ä½ åˆ›å»ºçš„ Hexo æ–‡ä»¶å¤¹ï¼ˆå¦‚ï¼šE:\TRHX_Blog\Hexoï¼‰ï¼Œå³é”®ç”¨è®°äº‹æœ¬ï¼ˆNotepad++æˆ–è€…VS codeç­‰éƒ½å¯ä»¥ï¼‰æ‰“å¼€è¯¥æ–‡ä»¶å¤¹ä¸‹çš„ _config.yml æ–‡ä»¶<br><img src="https://img-blog.csdnimg.cn/20200520161116148.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>â‘¤ æŒ‰ä¸‹å›¾ä¿®æ”¹ _config.yml æ–‡ä»¶å¹¶ä¿å­˜<br><img src="https://img-blog.csdnimg.cn/2020052016112919.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80NDUxNzMwMQ==,size_16,color_FFFFFF,t_70" alt="åœ¨è¿™é‡Œæ’å…¥å›¾ç‰‡æè¿°"><br>â‘¥ åœ¨ Hexo æ–‡ä»¶å¤¹ä¸‹åˆ†åˆ«æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g  </span><br><span class="line">$ hexo d</span><br></pre></td></tr></table></figure><p>æˆ–è€…ç›´æ¥æ‰§è¡Œ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo g -d</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œä¹‹åä¼šè®©ä½ è¾“å…¥ä½ çš„ Github çš„è´¦å·å’Œå¯†ç ï¼Œå¦‚æœæ­¤æ—¶æŠ¥ä»¥ä¸‹é”™è¯¯ï¼Œè¯´æ˜ä½ çš„ deployer æ²¡æœ‰å®‰è£…æˆåŠŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR Deployer not found: git</span><br></pre></td></tr></table></figure><p>éœ€è¦æ‰§è¡Œä»¥ä¸‹å‘½ä»¤å†å®‰è£…ä¸€æ¬¡ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>å†æ‰§è¡Œ hexo g -dï¼Œä½ çš„åšå®¢å°±ä¼šéƒ¨ç½²åˆ° Github ä¸Šäº†<br>â‘¦ è®¿é—®åšå®¢</p><p>ä½ çš„åšå®¢åœ°å€ï¼šhttps://ä½ çš„ç”¨æˆ·å.github.ioï¼Œæ¯”å¦‚æˆ‘çš„æ˜¯ï¼š<a href="https://supemezjc.github.io" target="_blank" rel="noopener">https://supemezjc.github.io</a> ,ç°åœ¨æ¯ä¸ªäººéƒ½å¯ä»¥é€šè¿‡æ­¤é“¾æ¥è®¿é—®ä½ çš„åšå®¢äº†ã€‚</p><p>åœ¨åšå®¢ä¸­å‘è¡¨æ–‡ç« å’Œç”³è¯·åŸŸåè¯·çœ‹æˆ‘çš„å…¶ä»–æ–‡ç« ã€‚<br>è¿™é‡Œéå¸¸æ„Ÿè°¢è¿™ä½åšä¸»ï¼š<a href="https://blog.csdn.net/qq_36759224/article/details/82121420" target="_blank" rel="noopener">https://blog.csdn.net/qq_36759224/article/details/82121420</a><br>ä»–å†™çš„éå¸¸è¯¦ç»†ã€‚</p><iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=329925&auto=1&height=66"></iframe>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>26 ç§ä¸åŒçš„ç¼–ç¨‹è¯­è¨€çš„ â€œHello Worldâ€ ç¨‹åº</title>
      <link href="/2020/05/18/26%20%E7%A7%8D%E4%B8%8D%E5%90%8C%E7%9A%84%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E7%9A%84%20%E2%80%9CHello%20World%E2%80%9D%20%E7%A8%8B%E5%BA%8F/"/>
      <url>/2020/05/18/26%20%E7%A7%8D%E4%B8%8D%E5%90%8C%E7%9A%84%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E7%9A%84%20%E2%80%9CHello%20World%E2%80%9D%20%E7%A8%8B%E5%BA%8F/</url>
      
        <content type="html"><![CDATA[<p>ä¸‹é¢æ˜¯ç”¨26ä¸­è®¡ç®—æœºè¯­è¨€ç¼–å†™çš„â€Hello Worldâ€</p><a id="more"></a><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> C</span><br><span class="line"><span class="comment">#include </span></span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    printf(<span class="string">"Hello, World"</span>);</span><br><span class="line">    <span class="keyword">return</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">2.</span> C++</span><br><span class="line"><span class="comment">#include </span></span><br><span class="line"> </span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="string">"Hello World"</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">3.</span> C<span class="comment">#</span></span><br><span class="line">using System;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Program</span></span></span><br><span class="line">&#123;</span><br><span class="line">    public static void Main(string[] args)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">"Hello, World"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">4.</span> Bash</span><br><span class="line">echo <span class="string">"Hello, World"</span></span><br><span class="line"><span class="number">5.</span> Basic</span><br><span class="line">PRINT <span class="string">"Hello, World"</span></span><br><span class="line"><span class="number">6.</span> HTML</span><br><span class="line"> Hello, World</span><br><span class="line"><span class="number">7.</span> Java</span><br><span class="line">public class Main &#123;</span><br><span class="line">    public static void main(String[] args) &#123;</span><br><span class="line">        System.out.println(<span class="string">"Hello, World!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">8.</span> Clipper</span><br><span class="line">? "Hello, World"</span><br><span class="line"><span class="number">9.</span> Delphi</span><br><span class="line">program HelloWorld;</span><br><span class="line">begin</span><br><span class="line">  Writeln(<span class="string">'Hello, World'</span>);</span><br><span class="line">end.</span><br><span class="line"><span class="number">10.</span> CoffeeScript</span><br><span class="line">console.log <span class="string">'Hello, World'</span></span><br><span class="line"><span class="number">11.</span> MatLab</span><br><span class="line">disp(<span class="string">'Hello, World'</span>)</span><br><span class="line"><span class="number">12.</span> Julia</span><br><span class="line">println(<span class="string">"Hello, World"</span>)</span><br><span class="line"><span class="number">13.</span> JavaScript</span><br><span class="line">document.write(<span class="string">'Hello, World'</span>);</span><br><span class="line"><span class="number">14.</span> Logo</span><br><span class="line"><span class="keyword">print</span> [Hello, World]</span><br><span class="line"><span class="number">15.</span> jQuery</span><br><span class="line">$(<span class="string">"body"</span>).append(<span class="string">"Hello, World"</span>);</span><br><span class="line"><span class="number">16.</span> Perl <span class="number">5</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">"Hello, World"</span>;</span><br><span class="line"><span class="number">17.</span> Pascal</span><br><span class="line">program HelloWorld;</span><br><span class="line">begin</span><br><span class="line">  WriteLn(<span class="string">'Hello, World'</span>);</span><br><span class="line">end.</span><br><span class="line"><span class="number">18.</span> Objective-C</span><br><span class="line"><span class="comment">#import </span></span><br><span class="line"><span class="comment">#import </span></span><br><span class="line"> </span><br><span class="line">int main(void)</span><br><span class="line">&#123;</span><br><span class="line">    NSLog(@<span class="string">"Hello, World"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">19.</span> Visual Basic .NET</span><br><span class="line">Module Module1</span><br><span class="line">    Sub Main()</span><br><span class="line">        Console.WriteLine(<span class="string">"Hello, World"</span>)</span><br><span class="line">    End Sub</span><br><span class="line">End Module</span><br><span class="line"><span class="number">20.</span> R</span><br><span class="line">cat(<span class="string">'Hello, World'</span>)</span><br><span class="line"><span class="number">21.</span> VBScript</span><br><span class="line">MsgBox <span class="string">"Hello, World"</span></span><br><span class="line"><span class="number">22.</span> XSLT</span><br><span class="line">      Hello, World</span><br><span class="line"><span class="number">23.</span> Processing</span><br><span class="line">void setup()&#123;</span><br><span class="line">  println(<span class="string">"Hello, World"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">24.</span> Ruby</span><br><span class="line">puts <span class="string">"Hello, World"</span></span><br><span class="line"><span class="number">25.</span> Swift</span><br><span class="line">print(<span class="string">"Hello, World"</span>)</span><br><span class="line"><span class="number">26.</span> Python</span><br><span class="line"><span class="keyword">print</span> (<span class="string">"Hello, World"</span>)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> éšä¾¿ç©ç© </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hello World </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2020/05/16/hello-world/"/>
      <url>/2020/05/16/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><a id="more"></a><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> Hello World </category>
          
      </categories>
      
      
        <tags>
            
            <tag> éšä¾¿ç©ç© </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
